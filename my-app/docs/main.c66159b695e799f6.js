(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{944:(we,q,R)=>{"use strict";function E(n){return"function"==typeof n}function _(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const M=_(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function P(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class N{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(s){e=s instanceof M?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ee(s)}catch(a){e=null!=e?e:[],a instanceof M?e=[...e,...a.errors]:e.push(a)}}if(e)throw new M(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ee(e);else{if(e instanceof N){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&P(t,e)}remove(e){const{_finalizers:t}=this;t&&P(t,e),e instanceof N&&e._removeParent(this)}}N.EMPTY=(()=>{const n=new N;return n.closed=!0,n})();const U=N.EMPTY;function V(n){return n instanceof N||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function ee(n){E(n)?n():n.unsubscribe()}const W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},S={setTimeout(n,e,...t){const{delegate:r}=S;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=S;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function te(n){S.setTimeout(()=>{const{onUnhandledError:e}=W;if(!e)throw n;e(n)})}function oe(){}const ge=pe("C",void 0,void 0);function pe(n,e,t){return{kind:n,value:e,error:t}}let le=null;function ye(n){if(W.useDeprecatedSynchronousErrorHandling){const e=!le;if(e&&(le={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=le;if(le=null,t)throw r}}else n()}class Ie extends N{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,V(e)&&e.add(this)):this.destination=pn}static create(e,t,r){return new Pe(e,t,r)}next(e){this.isStopped?At(function ne(n){return pe("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?At(function fe(n){return pe("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?At(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function ke(n,e){return Te.call(n,e)}class qe{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){X(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){X(r)}else X(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){X(t)}}}class Pe extends Ie{constructor(e,t,r){let i;if(super(),E(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&W.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ke(e.next,s),error:e.error&&ke(e.error,s),complete:e.complete&&ke(e.complete,s)}):i=e}this.destination=new qe(i)}}function X(n){W.useDeprecatedSynchronousErrorHandling?function ue(n){W.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=n)}(n):te(n)}function At(n,e){const{onStoppedNotification:t}=W;t&&S.setTimeout(()=>t(n,e))}const pn={closed:!0,next:oe,error:function He(n){throw n},complete:oe},Yt="function"==typeof Symbol&&Symbol.observable||"@@observable";function We(n){return n}let O=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function me(n){return n&&n instanceof Ie||function F(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&V(n)}(t)?t:new Pe(t,r,i);return ye(()=>{const{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=K(r))((i,s)=>{const a=new Pe({next:l=>{try{t(l)}catch(c){s(c),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Yt](){return this}pipe(...t){return function L(n){return 0===n.length?We:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=K(t))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function K(n){var e;return null!==(e=null!=n?n:W.Promise)&&void 0!==e?e:Promise}const G=_(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let J=(()=>{class n extends O{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Oe(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new G}next(t){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?U:(this.currentObservers=null,s.push(t),new N(()=>{this.currentObservers=null,P(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new O;return t.source=this,t}}return n.create=(e,t)=>new Oe(e,t),n})();class Oe extends J{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:U}}function wt(n){return E(null==n?void 0:n.lift)}function _e(n){return e=>{if(wt(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new Xt(n,e,t,r,i)}class Xt extends Ie{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(l){try{t(l)}catch(c){e.error(c)}}:super._next,this._error=i?function(l){try{i(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(n,e){return _e((t,r)=>{let i=0;t.subscribe(de(r,s=>{r.next(n.call(e,s,i++))}))})}function ci(n){return this instanceof ci?(this.v=n,this):new ci(n)}function W_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(v){r[v]&&(i[v]=function(b){return new Promise(function(T,j){s.push([v,b,T,j])>1||l(v,b)})})}function l(v,b){try{!function c(v){v.value instanceof ci?Promise.resolve(v.value.v).then(h,f):g(s[0][2],v)}(r[v](b))}catch(T){g(s[0][3],T)}}function h(v){l("next",v)}function f(v){l("throw",v)}function g(v,b){v(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ko(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Pr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(l,c){!function i(s,a,l,c){Promise.resolve(c).then(function(h){s({value:h,done:l})},a)}(l,c,(a=n[s](a)).done,a.value)})}}}const Ll=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Bl(n){return E(null==n?void 0:n.then)}function Vl(n){return E(n[Yt])}function Tf(n){return Symbol.asyncIterator&&E(null==n?void 0:n[Symbol.asyncIterator])}function Mf(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Dc=function K_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sc(n){return E(null==n?void 0:n[Dc])}function If(n){return W_(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ci(t.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{t.releaseLock()}})}function Pf(n){return E(null==n?void 0:n.getReader)}function Wr(n){if(n instanceof O)return n;if(null!=n){if(Vl(n))return function G_(n){return new O(e=>{const t=n[Yt]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ll(n))return function Of(n){return new O(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Bl(n))return function z_(n){return new O(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,te)})}(n);if(Tf(n))return Rf(n);if(Sc(n))return function q_(n){return new O(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Pf(n))return function Ac(n){return Rf(If(n))}(n)}throw Mf(n)}function Rf(n){return new O(e=>{(function Q_(n,e){var t,r,i,s;return function ui(n,e,t,r){return new(t||(t=Promise))(function(s,a){function l(f){try{h(r.next(f))}catch(g){a(g)}}function c(f){try{h(r.throw(f))}catch(g){a(g)}}function h(f){f.done?s(f.value):function i(s){return s instanceof t?s:new t(function(a){a(s)})}(f.value).then(l,c)}h((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ko(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function di(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function In(n,e,t=1/0){return E(e)?In((r,i)=>ve((s,a)=>e(r,s,i,a))(Wr(n(r,i))),t):("number"==typeof e&&(t=e),_e((r,i)=>function Z_(n,e,t,r,i,s,a,l){const c=[];let h=0,f=0,g=!1;const v=()=>{g&&!c.length&&!h&&e.complete()},b=j=>h<r?T(j):c.push(j),T=j=>{s&&e.next(j),h++;let Q=!1;Wr(t(j,f++)).subscribe(de(e,ae=>{null==i||i(ae),s?b(ae):e.next(ae)},()=>{Q=!0},void 0,()=>{if(Q)try{for(h--;c.length&&h<r;){const ae=c.shift();a?di(e,a,()=>T(ae)):T(ae)}v()}catch(ae){e.error(ae)}}))};return n.subscribe(de(e,b,()=>{g=!0,v()})),()=>{null==l||l()}}(r,i,n,t)))}function Pa(n=1/0){return In(We,n)}const is=new O(n=>n.complete());function xf(n){return n&&E(n.schedule)}function Tc(n){return n[n.length-1]}function Mc(n){return E(Tc(n))?n.pop():void 0}function Oa(n){return xf(Tc(n))?n.pop():void 0}function Ff(n,e=0){return _e((t,r)=>{t.subscribe(de(r,i=>di(r,n,()=>r.next(i),e),()=>di(r,n,()=>r.complete(),e),i=>di(r,n,()=>r.error(i),e)))})}function Nf(n,e=0){return _e((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ra(n,e){if(!n)throw new Error("Iterable cannot be null");return new O(t=>{di(t,e,()=>{const r=n[Symbol.asyncIterator]();di(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Pn(n,e){return e?function rv(n,e){if(null!=n){if(Vl(n))return function J_(n,e){return Wr(n).pipe(Nf(e),Ff(e))}(n,e);if(Ll(n))return function Hl(n,e){return new O(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Bl(n))return function ev(n,e){return Wr(n).pipe(Nf(e),Ff(e))}(n,e);if(Tf(n))return Ra(n,e);if(Sc(n))return function tv(n,e){return new O(t=>{let r;return di(t,e,()=>{r=n[Dc](),di(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void t.error(a)}s?t.complete():t.next(i)},0,!0)}),()=>E(null==r?void 0:r.return)&&r.return()})}(n,e);if(Pf(n))return function nv(n,e){return Ra(If(n),e)}(n,e)}throw Mf(n)}(n,e):Wr(n)}function jl(...n){const e=Oa(n),t=function X_(n,e){return"number"==typeof Tc(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Wr(r[0]):Pa(t)(Pn(r,e)):is}function so(n){return n<=0?()=>is:_e((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ic(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(so(1)).subscribe(()=>n())}function Kt(n){for(let e in n)if(n[e]===Kt)return e;throw Error("Could not find renamed property on target object.")}function Pc(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ht(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ht).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ul(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Lf=Kt({__forward_ref__:Kt});function Gt(n){return n.__forward_ref__=Gt,n.toString=function(){return Ht(this())},n}function at(n){return function Bf(n){return"function"==typeof n&&n.hasOwnProperty(Lf)&&n.__forward_ref__===Gt}(n)?n():n}class Se extends Error{constructor(e,t){super(function $l(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function it(n){return"string"==typeof n?n:null==n?"":String(n)}function qn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():it(n)}function xa(n,e){const t=e?` in ${e}`:"";throw new Se(-201,`No provider for ${qn(n)} found${t}`)}function mr(n,e){null==n&&function nn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Ye(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ur(n){return{providers:n.providers||[],imports:n.imports||[]}}function Oc(n){return $f(n,Wl)||$f(n,Wf)}function $f(n,e){return n.hasOwnProperty(e)?n[e]:null}function zt(n){return n&&(n.hasOwnProperty(Rc)||n.hasOwnProperty(dv))?n[Rc]:null}const Wl=Kt({\u0275prov:Kt}),Rc=Kt({\u0275inj:Kt}),Wf=Kt({ngInjectableDef:Kt}),dv=Kt({ngInjectorDef:Kt});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let xc;function As(n){const e=xc;return xc=n,e}function On(n,e,t){const r=Oc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&nt.Optional?null:void 0!==e?e:void xa(Ht(n),"Injector")}function Kr(n){return{toString:n}.toString()}var Gr=(()=>((Gr=Gr||{})[Gr.OnPush=0]="OnPush",Gr[Gr.Default=1]="Default",Gr))(),zr=(()=>{return(n=zr||(zr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",zr;var n})();const zf="undefined"!=typeof globalThis&&globalThis,qf="undefined"!=typeof window&&window,Qf="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=zf||"undefined"!=typeof global&&global||qf||Qf,Hn={},qt=[],Fa=Kt({\u0275cmp:Kt}),xi=Kt({\u0275dir:Kt}),Bo=Kt({\u0275pipe:Kt}),Kl=Kt({\u0275mod:Kt}),Rt=Kt({\u0275fac:Kt}),Qr=Kt({__NG_ELEMENT_ID__:Kt});let Fc=0;function Ts(n){return Kr(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||qt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,id:"c",styles:n.styles||qt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,a=n.pipes;return r.id+=Fc++,r.inputs=oo(n.inputs,t),r.outputs=oo(n.outputs),s&&s.forEach(l=>l(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Zf):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(Yf):null,r})}function Zf(n){return jn(n)||function Fi(n){return n[xi]||null}(n)}function Yf(n){return function ss(n){return n[Bo]||null}(n)}const Xf={};function cr(n){return Kr(()=>{const e={type:n.type,bootstrap:n.bootstrap||qt,declarations:n.declarations||qt,imports:n.imports||qt,exports:n.exports||qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Xf[n.id]=n.type),e})}function oo(n,e){if(null==n)return Hn;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Ke=Ts;function dr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function jn(n){return n[Fa]||null}function Or(n,e){const t=n[Kl]||null;if(!t&&!0===e)throw new Error(`Type ${Ht(n)} does not have '\u0275mod' property.`);return t}function Ni(n){return Array.isArray(n)&&"object"==typeof n[1]}function pi(n){return Array.isArray(n)&&!0===n[1]}function Lc(n){return 0!=(8&n.flags)}function co(n){return 2==(2&n.flags)}function k(n){return 1==(1&n.flags)}function Y(n){return null!==n.template}function z(n){return 0!=(512&n[2])}function ki(n,e){return n.hasOwnProperty(Rt)?n[Rt]:null}class tp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Un(){return Wc}function Wc(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ql),np}function np(){const n=Uo(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Hn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Ql(n,e,t,r){const i=Uo(n)||function fo(n,e){return n[Kc]=e}(n,{previous:Hn,current:null}),s=i.current||(i.current={}),a=i.previous,l=this.declaredInputs[t],c=a[l];s[l]=new tp(c&&c.currentValue,e,a===Hn),n[r]=e}Un.ngInherit=!0;const Kc="__ngSimpleChanges__";function Uo(n){return n[Kc]||null}let Yl;function qc(){return void 0!==Yl?Yl:"undefined"!=typeof document?document:void 0}function yt(n){return!!n.listen}const rp={createRenderer:(n,e)=>qc()};function mn(n){for(;Array.isArray(n);)n=n[0];return n}function Is(n,e){return mn(e[n])}function vr(n,e){return mn(e[n.index])}function po(n,e){return n.data[e]}function Li(n,e){return n[e]}function Zn(n,e){const t=e[n];return Ni(t)?t:t[0]}function go(n){return 4==(4&n[2])}function Qc(n){return 128==(128&n[2])}function Ps(n,e){return null==e?null:n[e]}function sp(n){n[18]=0}function Zc(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Ge={lFrame:nd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ha(){return Ge.bindingsEnabled}function ce(){return Ge.lFrame.lView}function Mt(){return Ge.lFrame.tView}function an(n){return Ge.lFrame.contextLView=n,n[8]}function sn(){let n=ap();for(;null!==n&&64===n.type;)n=n.parent;return n}function ap(){return Ge.lFrame.currentTNode}function Bi(n,e){const t=Ge.lFrame;t.currentTNode=n,t.isParent=e}function Yc(){return Ge.lFrame.isParent}function Jl(){return Ge.isInCheckNoChangesMode}function eu(n){Ge.isInCheckNoChangesMode=n}function hr(){const n=Ge.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function os(){return Ge.lFrame.bindingIndex}function zo(){return Ge.lFrame.bindingIndex++}function as(n){const e=Ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Sv(n,e){const t=Ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,Jc(e)}function Jc(n){Ge.lFrame.currentDirectiveIndex=n}function Xr(){return Ge.lFrame.currentQueryIndex}function td(n){Ge.lFrame.currentQueryIndex=n}function Av(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function up(n,e,t){if(t&nt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&nt.Host||(i=Av(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ge.lFrame=cp();return r.currentTNode=e,r.lView=n,!0}function tu(n){const e=cp(),t=n[1];Ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function cp(){const n=Ge.lFrame,e=null===n?null:n.child;return null===e?nd(n):e}function nd(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function rd(){const n=Ge.lFrame;return Ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const dp=rd;function nu(){const n=rd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Nn(){return Ge.lFrame.selectedIndex}function Rs(n){Ge.lFrame.selectedIndex=n}function un(){const n=Ge.lFrame;return po(n.tView,n.selectedIndex)}function $a(){Ge.lFrame.currentNamespace="svg"}function Wa(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:f}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),l&&((n.contentHooks||(n.contentHooks=[])).push(t,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,l)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),h&&((n.viewHooks||(n.viewHooks=[])).push(t,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(t,f)}}function Ka(n,e,t){sd(n,e,3,t)}function xs(n,e,t,r){(3&n[2])===t&&sd(n,e,t,r)}function Hi(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function sd(n,e,t,r){const s=null!=r?r:-1,a=e.length-1;let l=0;for(let c=void 0!==r?65535&n[18]:0;c<a;c++)if("number"==typeof e[c+1]){if(l=e[c],null!=r&&l>=r)break}else e[c]<0&&(n[18]+=65536),(l<s||-1==s)&&(Mv(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function Mv(n,e,t,r){const i=t[r]<0,s=t[r+1],l=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class Ga{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function za(n,e,t){const r=yt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const a=t[i++],l=t[i++],c=t[i++];r?n.setAttribute(e,l,c,a):e.setAttributeNS(a,l,c)}else{const a=s,l=t[++i];qa(a)?r&&n.setProperty(e,a,l):r?n.setAttribute(e,a,l):e.setAttribute(a,l),i++}}return i}function Yn(n){return 3===n||4===n||6===n}function qa(n){return 64===n.charCodeAt(0)}function su(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||fp(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function fp(n,e,t,r,i){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===e){a=-1;break}if(l>e){a=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function pp(n){return-1!==n}function Fs(n){return 32767&n}function Ui(n,e){let t=function Iv(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let ou=!0;function au(n){const e=ou;return ou=n,e}let Pv=0;function Zo(n,e){const t=cd(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,ud(r.data,n),ud(e,null),ud(r.blueprint,null));const i=lu(n,e),s=n.injectorIndex;if(pp(i)){const a=Fs(i),l=Ui(i,e),c=l[1].data;for(let h=0;h<8;h++)e[s+h]=l[a+h]|c[a+h]}return e[s+8]=i,s}function ud(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cd(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function lu(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],a=s.type;if(r=2===a?s.declTNode:1===a?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Qa(n,e,t){!function ld(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Qr)&&(r=t[Qr]),null==r&&(r=t[Qr]=Pv++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function mp(n,e,t){if(t&nt.Optional)return n;xa(e,"NodeInjector")}function uu(n,e,t,r){if(t&nt.Optional&&void 0===r&&(r=null),0==(t&(nt.Self|nt.Host))){const i=n[9],s=As(void 0);try{return i?i.get(e,r,t&nt.Optional):On(e,r,t&nt.Optional)}finally{As(s)}}return mp(r,e,t)}function hd(n,e,t,r=nt.Default,i){if(null!==n){const s=function vp(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Qr)?n[Qr]:void 0;return"number"==typeof e?e>=0?255&e:_p:e}(t);if("function"==typeof s){if(!up(e,n,r))return r&nt.Host?mp(i,t,r):uu(e,t,r,i);try{const a=s(r);if(null!=a||r&nt.Optional)return a;xa(t)}finally{dp()}}else if("number"==typeof s){let a=null,l=cd(n,e),c=-1,h=r&nt.Host?e[16][6]:null;for((-1===l||r&nt.SkipSelf)&&(c=-1===l?lu(n,e):e[l+8],-1!==c&&pd(r,!1)?(a=e[1],l=Fs(c),e=Ui(c,e)):l=-1);-1!==l;){const f=e[1];if(yp(s,l,f.data)){const g=cu(l,e,t,a,r,h);if(g!==fd)return g}c=e[l+8],-1!==c&&pd(r,e[1].data[l+8]===h)&&yp(s,l,e)?(a=f,l=Fs(c),e=Ui(c,e)):l=-1}}}return uu(e,t,r,i)}const fd={};function _p(){return new Xo(sn(),ce())}function cu(n,e,t,r,i,s){const a=e[1],l=a.data[n+8],f=du(l,a,t,null==r?co(l)&&ou:r!=a&&0!=(3&l.type),i&nt.Host&&s===l);return null!==f?Yo(e,a,f,l):fd}function du(n,e,t,r,i){const s=n.providerIndexes,a=e.data,l=1048575&s,c=n.directiveStart,f=s>>20,v=i?l+f:n.directiveEnd;for(let b=r?l:l+f;b<v;b++){const T=a[b];if(b<c&&t===T||b>=c&&T.type===t)return b}if(i){const b=a[c];if(b&&Y(b)&&b.type===t)return c}return null}function Yo(n,e,t,r){let i=n[t];const s=e.data;if(function hp(n){return n instanceof Ga}(i)){const a=i;a.resolving&&function Vf(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Se(-200,`Circular dependency in DI detected for ${n}${t}`)}(qn(s[t]));const l=au(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?As(a.injectImpl):null;up(n,r,nt.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Tv(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=Wc(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&As(c),au(l),a.resolving=!1,dp()}}return i}function yp(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function pd(n,e){return!(n&nt.Self||n&nt.Host&&e)}class Xo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hd(this._tNode,this._lView,e,r,t)}}const Ns="__parameters__";function $i(n,e,t){return Kr(()=>{const r=function gd(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return l.annotation=a,l;function l(c,h,f){const g=c.hasOwnProperty(Ns)?c[Ns]:Object.defineProperty(c,Ns,{value:[]})[Ns];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(a),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Ve{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ye({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ei=new Ve("AnalyzeForEntryComponents");function yr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),yr(r,e)):e!==n&&e.push(r)}return e}function ri(n,e){n.forEach(t=>Array.isArray(t)?ri(t,e):e(t))}function us(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function fu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Cr(n,e,t){let r=na(n,e);return r>=0?n[1|r]=t:(r=~r,function vd(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function pu(n,e){const t=na(n,e);if(t>=0)return n[1|t]}function na(n,e){return function yd(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ra={},ks="__NG_DI_FLAG__",Ls="ngTempTokenPath",Tp=/\n/gm,Ya="__source",Ip=Kt({provide:String,useValue:Kt});let Bs;function _u(n){const e=Bs;return Bs=n,e}function vu(n,e=nt.Default){if(void 0===Bs)throw new Se(203,"");return null===Bs?On(n,void 0,e):Bs.get(n,e&nt.Optional?null:void 0,e)}function Ae(n,e=nt.Default){return(function Kf(){return xc}()||vu)(at(n),e)}const Xa=Ae;function yu(n){const e=[];for(let t=0;t<n.length;t++){const r=at(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Se(900,"");let i,s=nt.Default;for(let a=0;a<r.length;a++){const l=r[a],c=Vv(l);"number"==typeof c?-1===c?i=l.token:s|=c:i=l}e.push(Ae(i,s))}else e.push(Ae(r))}return e}function bo(n,e){return n[ks]=e,n.prototype[ks]=e,n}function Vv(n){return n[ks]}const Ja=bo($i("Inject",n=>({token:n})),-1),ds=bo($i("Optional"),8),ia=bo($i("SkipSelf"),4);let wu,Su;function oa(n){var e;return(null===(e=function Du(){if(void 0===wu&&(wu=null,jt.trustedTypes))try{wu=jt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return wu}())||void 0===e?void 0:e.createHTML(n))||n}function Jn(n){var e;return(null===(e=function yi(){if(void 0===Su&&(Su=null,jt.trustedTypes))try{Su=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Su}())||void 0===e?void 0:e.createHTML(n))||n}class Tu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Hs(n){return n instanceof Tu?n.changingThisBreaksApplicationSecurity:n}function tl(n,e){const t=function Gv(n){return n instanceof Tu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class nl{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(oa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class wd{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=oa(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=oa(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const a=t.item(i).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&e.removeAttribute(a)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Up=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$p=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fr(n){return(n=String(n)).match(Up)||n.match($p)?n:"unsafe:"+n}function Ki(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function aa(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Wp=Ki("area,br,col,hr,img,wbr"),Kp=Ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gp=Ki("rp,rt"),Sd=aa(Wp,aa(Kp,Ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aa(Gp,Ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),aa(Gp,Kp)),Ad=Ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Td=Ki("srcset"),Md=aa(Ad,Td,Ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zp=Ki("script,style,template");class qp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Sd.hasOwnProperty(t))return this.sanitizedSomething=!0,!zp.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,l=a.toLowerCase();if(!Md.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let c=s.value;Ad[l]&&(c=Fr(c)),Td[l]&&(n=c,c=(n=String(n)).split(",").map(e=>Fr(e.trim())).join(", ")),this.buf.push(" ",a,'="',Qp(c),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Sd.hasOwnProperty(t)&&!Wp.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Qp(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Qv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zv=/([^\#-~ |!])/g;function Qp(n){return n.replace(/&/g,"&amp;").replace(Qv,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Zv,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rl;function Id(n){return"content"in n&&function Xv(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function Zp(n){const e=Eo();return e?Jn(e.sanitize(Sn.HTML,n)||""):tl(n,"HTML")?Jn(Hs(n)):function Yv(n,e){let t=null;try{rl=rl||function Ed(n){const e=new wd(n);return function jp(){try{return!!(new window.DOMParser).parseFromString(oa(""),"text/html")}catch(n){return!1}}()?new nl(e):e}(n);let r=e?String(e):"";t=rl.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=rl.getInertBodyElement(r)}while(r!==s);return oa((new qp).sanitizeChildren(Id(t)||t))}finally{if(t){const r=Id(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(qc(),it(n))}function Ln(n){const e=Eo();return e?e.sanitize(Sn.URL,n)||"":tl(n,"URL")?Hs(n):Fr(it(n))}function Eo(){const n=ce();return n&&n[12]}const eg="__ngContext__";function er(n,e){n[eg]=e}function Od(n){const e=function il(n){return n[eg]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function xd(n){return n.ngOriginalError}function ig(n,...e){n.error(...e)}class sl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function Fd(n){return n&&n.ngErrorLogger||ig}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&xd(e);for(;t&&xd(t);)t=xd(t);return t||null}}const yy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function Gi(n){return n instanceof Function?n():n}var Nr=(()=>((Nr=Nr||{})[Nr.Important=1]="Important",Nr[Nr.DashCase=2]="DashCase",Nr))();function kd(n,e){return undefined(n,e)}function ol(n){const e=n[3];return pi(e)?e[3]:e}function Vd(n){return ug(n[13])}function Hd(n){return ug(n[4])}function ug(n){for(;null!==n&&!pi(n);)n=n[4];return n}function hs(n,e,t,r,i){if(null!=r){let s,a=!1;pi(r)?s=r:Ni(r)&&(a=!0,r=r[0]);const l=mn(r);0===n&&null!==t?null==i?Gd(e,t,l):Us(e,t,l,i||null,!0):1===n&&null!==t?Us(e,t,l,i||null,!0):2===n?function vg(n,e,t){const r=Pu(n,e);r&&function Oy(n,e,t,r){yt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,l,a):3===n&&e.destroyNode(l),null!=s&&function xy(n,e,t,r,i){const s=t[7];s!==mn(t)&&hs(e,n,r,s,i);for(let l=10;l<t.length;l++){const c=t[l];ul(c[1],c,n,e,r,s)}}(e,n,s,t,i)}}function Ud(n,e,t){if(yt(n))return n.createElement(e,t);{const r=null!==t?function vv(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function dg(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Zc(i,-1)),t.splice(r,1)}function ua(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&dg(i,r),e>0&&(n[t-1][4]=r[4]);const s=fu(n,10+e);!function Sy(n,e){ul(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function hg(n,e){if(!(256&e[2])){const t=e[11];yt(t)&&t.destroyNode&&ul(n,e,t,3,null,null),function My(n){let e=n[13];if(!e)return Iu(n[1],n);for(;e;){let t=null;if(Ni(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ni(e)&&Iu(e[1],e),e=e[3];null===e&&(e=n),Ni(e)&&Iu(e[1],e),t=e&&e[4]}e=t}}(e)}}function Iu(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function $d(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ga)){const s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=i[s[a]],c=s[a+1];try{c.call(l)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function fg(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+1],l="function"==typeof a?a(e):mn(e[a]),c=r[i=t[s+2]],h=t[s+3];"boolean"==typeof h?l.removeEventListener(t[s],c,h):h>=0?r[i=h]():r[i=-h].unsubscribe(),s+=2}else{const a=r[i=t[s+1]];t[s].call(a)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&yt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&pi(e[3])){t!==e[3]&&dg(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function Wd(n,e,t){return function Kd(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===zr.None||i===zr.Emulated)return null}return vr(r,t)}(n,e.parent,t)}function Us(n,e,t,r,i){yt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function Gd(n,e,t){yt(n)?n.appendChild(e,t):e.appendChild(t)}function pg(n,e,t,r,i){null!==r?Us(n,e,t,r,i):Gd(n,e,t)}function Pu(n,e){return yt(n)?n.parentNode(e):e.parentNode}let mg=function gg(n,e,t){return 40&n.type?vr(n,t):null};function Ru(n,e,t,r){const i=Wd(n,r,e),s=e[11],l=function al(n,e,t){return mg(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)pg(s,i,t[c],l,!1);else pg(s,i,t,l,!1)}function xu(n,e){if(null!==e){const t=e.type;if(3&t)return vr(e,n);if(4&t)return qd(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return xu(n,r);{const i=n[e.index];return pi(i)?qd(-1,i):mn(i)}}if(32&t)return kd(e,n)()||mn(n[e.index]);{const r=_g(n,e);return null!==r?Array.isArray(r)?r[0]:xu(ol(n[16]),r):xu(n,e.next)}}return null}function _g(n,e){return null!==e?n[16][6].projection[e.projection]:null}function qd(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return xu(r,i)}return e[7]}function Qd(n,e,t,r,i,s,a){for(;null!=t;){const l=r[t.index],c=t.type;if(a&&0===e&&(l&&er(mn(l),r),t.flags|=4),64!=(64&t.flags))if(8&c)Qd(n,e,t.child,r,i,s,!1),hs(e,n,i,l,s);else if(32&c){const h=kd(t,r);let f;for(;f=h();)hs(e,n,i,f,s);hs(e,n,i,l,s)}else 16&c?yg(n,e,r,t,i,s):hs(e,n,i,l,s);t=a?t.projectionNext:t.next}}function ul(n,e,t,r,i,s){Qd(t,r,n.firstChild,e,i,s,!1)}function yg(n,e,t,r,i,s){const a=t[16],c=a[6].projection[r.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++)hs(e,n,i,c[h],s);else Qd(n,e,c,a[3],i,s,!0)}function Cg(n,e,t){yt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function kr(n,e,t){yt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function bg(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const $s="ng-template";function ut(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==bg(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Eg(n){return 4===n.type&&n.value!==$s}function Er(n,e,t){return e===(4!==n.type||t?n.value:$s)}function _n(n,e,t){let r=4;const i=n.attrs||[],s=function ky(n){for(let e=0;e<n.length;e++)if(Yn(n[e]))return e;return n.length}(i);let a=!1;for(let l=0;l<e.length;l++){const c=e[l];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!Er(n,c,t)||""===c&&1===e.length){if(Ci(r))return!1;a=!0}}else{const h=8&r?c:e[++l];if(8&r&&null!==n.attrs){if(!ut(n.attrs,h,t)){if(Ci(r))return!1;a=!0}continue}const g=Ws(8&r?"class":c,i,Eg(n),t);if(-1===g){if(Ci(r))return!1;a=!0;continue}if(""!==h){let v;v=g>s?"":i[g+1].toLowerCase();const b=8&r?v:null;if(b&&-1!==bg(b,h,0)||2&r&&h!==v){if(Ci(r))return!1;a=!0}}}}else{if(!a&&!Ci(r)&&!Ci(c))return!1;if(a&&Ci(c))continue;a=!1,r=c|1&r}}return Ci(r)||a}function Ci(n){return 0==(1&n)}function Ws(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=e[++i];for(;"string"==typeof l;)l=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function Ly(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function wg(n,e,t=!1){for(let r=0;r<e.length;r++)if(_n(n,e[r],t))return!0;return!1}function Fu(n,e){return n?":not("+e.trim()+")":e}function Vy(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const l=n[++t];i+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Ci(a)&&(e+=Fu(s,i),i=""),r=a,s=s||!Ci(r);t++}return""!==i&&(e+=Fu(s,i)),e}const Xe={};function xe(n){cn(Mt(),ce(),Nn()+n,Jl())}function cn(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Ka(e,s,t)}else{const s=n.preOrderHooks;null!==s&&xs(e,s,0,t)}Rs(t)}function Nu(n,e){return n<<17|e<<2}function bi(n){return n>>17&32767}function Yd(n){return 2|n}function ps(n){return(131068&n)>>2}function ku(n,e){return-131069&n|e<<2}function cl(n){return 1|n}function Pg(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const a=n.data[s];td(i),a.contentQueries(2,e[s],s)}}}function dl(n,e,t,r,i,s,a,l,c,h){const f=e.blueprint.slice();return f[0]=i,f[2]=140|r,sp(f),f[3]=f[15]=n,f[8]=t,f[10]=a||n&&n[10],f[11]=l||n&&n[11],f[12]=c||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=s,f[16]=2==e.type?n[16]:f,f}function ha(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Vu(n,e,t,r,i){const s=ap(),a=Yc(),c=n.data[e]=function Bg(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,e,t,r,i),function Dv(){return Ge.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const a=function ja(){const n=Ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Bi(s,!0),s}function fa(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function hl(n,e,t){tu(e);try{const r=n.viewQuery;null!==r&&pl(1,r,t);const i=n.template;null!==i&&lh(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Pg(n,e),n.staticViewQueries&&pl(2,n.viewQuery,t);const s=n.components;null!==s&&function Ky(n,e){for(let t=0;t<e.length;t++)lC(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,nu()}}function pa(n,e,t,r){const i=e[2];if(256==(256&i))return;tu(e);const s=Jl();try{sp(e),function Vi(n){return Ge.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&lh(n,e,t,2,r);const a=3==(3&i);if(!s)if(a){const h=n.preOrderCheckHooks;null!==h&&Ka(e,h,null)}else{const h=n.preOrderHooks;null!==h&&xs(e,h,0,null),Hi(e,0)}if(function aC(n){for(let e=Vd(n);null!==e;e=Hd(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Zc(s,1),i[2]|=1024}}}(e),function oC(n){for(let e=Vd(n);null!==e;e=Hd(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Qc(r)&&pa(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Pg(n,e),!s)if(a){const h=n.contentCheckHooks;null!==h&&Ka(e,h)}else{const h=n.contentHooks;null!==h&&xs(e,h,1),Hi(e,1)}!function Wy(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Rs(~i);else{const s=i,a=t[++r],l=t[++r];Sv(a,s),l(2,e[s])}}}finally{Rs(-1)}}(n,e);const l=n.components;null!==l&&function Og(n,e){for(let t=0;t<e.length;t++)gh(n,e[t])}(e,l);const c=n.viewQuery;if(null!==c&&pl(2,c,r),!s)if(a){const h=n.viewCheckHooks;null!==h&&Ka(e,h)}else{const h=n.viewHooks;null!==h&&xs(e,h,2),Hi(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Zc(e[3],-1))}finally{nu()}}function Rg(n,e,t,r){const i=e[10],s=!Jl(),a=go(e);try{s&&!a&&i.begin&&i.begin(),a&&hl(n,e,r),pa(n,e,t,r)}finally{s&&!a&&i.end&&i.end()}}function lh(n,e,t,r,i){const s=Nn(),a=2&r;try{Rs(-1),a&&e.length>20&&cn(n,e,20,Jl()),t(r,i)}finally{Rs(s)}}function uh(n,e,t){!Ha()||(function Jy(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Zo(t,e),er(r,e);const a=t.initialInputs;for(let l=i;l<s;l++){const c=n.data[l],h=Y(c);h&&iC(e,t,c);const f=Yo(e,n,l,t);er(f,e),null!==a&&ph(0,l-i,f,c,0,a),h&&(Zn(t.index,e)[8]=f)}}(n,e,t,vr(t,e)),128==(128&t.flags)&&function eC(n,e,t){const r=t.directiveStart,i=t.directiveEnd,a=t.index,l=function mo(){return Ge.lFrame.currentDirectiveIndex}();try{Rs(a);for(let c=r;c<i;c++){const h=n.data[c],f=e[c];Jc(c),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&jg(h,f)}}finally{Rs(-1),Jc(l)}}(n,e,t))}function ch(n,e,t=vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],l=-1===a?t(e,n):n[a];n[i++]=l}}}function Fg(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=_s(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function _s(n,e,t,r,i,s,a,l,c,h){const f=20+r,g=f+i,v=function Gy(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Xe);return t}(f,g),b="function"==typeof h?h():h;return v[1]={type:n,blueprint:v,template:t,queries:null,viewQuery:l,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1}}function Lg(n,e,t,r){const i=qg(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Qg(n).push(r,i.length-1))}function dh(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function hh(n,e,t,r){let i=!1;if(Ha()){const s=function tC(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const a=r[s];wg(t,a.selectors,!1)&&(i||(i=[]),Qa(Zo(t,e),n,a.type),Y(a)?(Ug(n,t),i.unshift(a)):i.push(a))}return i}(n,e,t),a=null===r?null:{"":-1};if(null!==s){i=!0,$g(t,n.data.length,s.length);for(let f=0;f<s.length;f++){const g=s[f];g.providersResolver&&g.providersResolver(g)}let l=!1,c=!1,h=fa(n,e,s.length,null);for(let f=0;f<s.length;f++){const g=s[f];t.mergedAttrs=su(t.mergedAttrs,g.hostAttrs),Wg(n,t,e,h,g),rC(h,g,a),null!==g.contentQueries&&(t.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=128);const v=g.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),l=!0),!c&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),h++}!function zy(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,a=[];let l=null,c=null;for(let h=e.directiveStart;h<r;h++){const f=i[h],g=f.inputs,v=null===s||Eg(e)?null:Kg(g,s);a.push(v),l=dh(g,h,l),c=dh(f.outputs,h,c)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t)}a&&function nC(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Se(-301,!1);r.push(e[i],s)}}}(t,r,a)}return t.mergedAttrs=su(t.mergedAttrs,t.attrs),i}function Hg(n,e,t,r,i,s){const a=s.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~e.index;(function Xy(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(l)!=c&&l.push(c),l.push(r,i,a)}}function jg(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ug(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function rC(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Y(e)&&(t[""]=n)}}function $g(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Wg(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ki(i.type)),a=new Ga(s,Y(i),null);n.blueprint[r]=a,t[r]=a,Hg(n,e,0,r,fa(n,t,i.hostVars,Xe),i)}function iC(n,e,t){const r=vr(e,n),i=Fg(t),s=n[10],a=Wn(n,dl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=a}function zi(n,e,t,r,i,s){const a=vr(n,e);!function fh(n,e,t,r,i,s,a){if(null==s)yt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const l=null==a?it(s):a(s,r||"",i);yt(n)?n.setAttribute(e,i,l,t):t?e.setAttributeNS(t,i,l):e.setAttribute(i,l)}}(e[11],a,s,n.value,t,r,i)}function ph(n,e,t,r,i,s){const a=s[e];if(null!==a){const l=r.setInput;for(let c=0;c<a.length;){const h=a[c++],f=a[c++],g=a[c++];null!==l?r.setInput(t,g,h,f):t[f]=g}}}function Kg(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Gg(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function gh(n,e){const t=Zn(e,n);if(Qc(t)){const r=t[1];80&t[2]?pa(r,t,r.template,t[8]):t[5]>0&&mh(t)}}function mh(n){for(let r=Vd(n);null!==r;r=Hd(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const a=s[1];pa(a,s,a.template,s[8])}else s[5]>0&&mh(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Zn(t[r],n);Qc(i)&&i[5]>0&&mh(i)}}function lC(n,e){const t=Zn(e,n),r=t[1];(function uC(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),hl(r,t,t[8])}function Wn(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function fl(n){for(;n;){n[2]|=64;const e=ol(n);if(z(n)&&!e)return n;n=e}return null}function vh(n,e,t){const r=e[10];r.begin&&r.begin();try{pa(n,e,n.template,t)}catch(i){throw Zg(e,i),i}finally{r.end&&r.end()}}function zg(n){!function _h(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Od(t),i=r[1];Rg(i,r,i.template,t)}}(n[8])}function pl(n,e,t){td(0),e(n,t)}const hC=(()=>Promise.resolve(null))();function qg(n){return n[7]||(n[7]=[])}function Qg(n){return n.cleanup||(n.cleanup=[])}function Zg(n,e){const t=n[9],r=t?t.get(sl,null):null;r&&r.handleError(e)}function Yg(n,e,t,r,i){for(let s=0;s<t.length;){const a=t[s++],l=t[s++],c=e[a],h=n.data[a];null!==h.setInput?h.setInput(c,i,r,l):c[l]=i}}function vs(n,e,t){const r=Is(e,n);!function cg(n,e,t){yt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function ga(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const l=e[a];"number"==typeof l?s=l:1==s?i=Ul(i,l):2==s&&(r=Ul(r,l+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Eh=new Ve("INJECTOR",-1);class Xg{get(e,t=ra){if(t===ra){const r=new Error(`NullInjectorError: No provider for ${Ht(e)}!`);throw r.name="NullInjectorError",r}return t}}const wh=new Ve("Set Injector scope."),gl={},pC={};let Dh;function Jg(){return void 0===Dh&&(Dh=new Xg),Dh}function em(n,e=null,t=null,r){const i=tm(n,e,t,r);return i._resolveInjectorDefTypes(),i}function tm(n,e=null,t=null,r){return new gC(n,t,e||Jg(),r)}class gC{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&ri(t,l=>this.processProvider(l,e,t)),ri([e],l=>this.processInjectorType(l,[],s)),this.records.set(Eh,ma(void 0,this));const a=this.records.get(wh);this.scope=null!=a?a.value:null,this.source=i||("object"==typeof e?null:Ht(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ra,r=nt.Default){this.assertNotDestroyed();const i=_u(this),s=As(void 0);try{if(!(r&nt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function p(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ve}(e)&&Oc(e);l=c&&this.injectableDefInScope(c)?ma(Sh(e),gl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&nt.Self?Jg():this.parent).get(e,t=r&nt.Optional&&t===ra?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ls]=a[Ls]||[]).unshift(Ht(e)),i)throw a;return function Pp(n,e,t,r){const i=n[Ls];throw e[Ya]&&i.unshift(e[Ya]),n.message=function cs(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ht(e);if(Array.isArray(e))i=e.map(Ht).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):Ht(l)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Tp,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ls]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{As(s),_u(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ht(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processInjectorType(e,t,r){if(!(e=at(e)))return!1;let i=zt(e);const s=null==i&&e.ngModule||void 0,a=void 0===s?e:s,l=-1!==r.indexOf(a);if(void 0!==s&&(i=zt(s)),null==i)return!1;if(null!=i.imports&&!l){let f;r.push(a);try{ri(i.imports,g=>{this.processInjectorType(g,t,r)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:v,providers:b}=f[g];ri(b,T=>this.processProvider(T,v,b||qt))}}this.injectorDefTypes.add(a);const c=ki(a)||(()=>new a);this.records.set(a,ma(c,gl));const h=i.providers;if(null!=h&&!l){const f=e;ri(h,g=>this.processProvider(g,f,h))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=_a(e=at(e))?e:at(e&&e.provide);const s=function _C(n,e,t){return rm(n)?ma(void 0,n.useValue):ma(nm(n),gl)}(e);if(_a(e)||!0!==e.multi)this.records.get(i);else{let a=this.records.get(i);a||(a=ma(void 0,gl,!0),a.factory=()=>yu(a.multi),this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===gl&&(t.value=pC,t.value=t.factory()),"object"==typeof t.value&&t.value&&function d(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=at(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Sh(n){const e=Oc(n),t=null!==e?e.factory:ki(n);if(null!==t)return t;if(n instanceof Ve)throw new Se(204,!1);if(n instanceof Function)return function mC(n){const e=n.length;if(e>0)throw function ii(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Se(204,!1);const t=function cv(n){const e=n&&(n[Wl]||n[Wf]);if(e){const t=function rn(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Se(204,!1)}function nm(n,e,t){let r;if(_a(n)){const i=at(n);return ki(i)||Sh(i)}if(rm(n))r=()=>at(n.useValue);else if(function yC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...yu(n.deps||[]));else if(function vC(n){return!(!n||!n.useExisting)}(n))r=()=>Ae(at(n.useExisting));else{const i=at(n&&(n.useClass||n.provide));if(!function u(n){return!!n.deps}(n))return ki(i)||Sh(i);r=()=>new i(...yu(n.deps))}return r}function ma(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rm(n){return null!==n&&"object"==typeof n&&Ip in n}function _a(n){return"function"==typeof n}let m=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return em({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return em({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=ra,n.NULL=new Xg,n.\u0275prov=Ye({token:n,providedIn:"any",factory:()=>Ae(Eh)}),n.__NG_ELEMENT_ID__=-1,n})();function qP(n,e){Wa(Od(n)[1],sn())}function Zt(n){let e=function Sw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Y(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Se(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const a=n;a.inputs=bC(n.inputs),a.declaredInputs=bC(n.declaredInputs),a.outputs=bC(n.outputs);const l=i.hostBindings;l&&XP(n,l);const c=i.viewQuery,h=i.contentQueries;if(c&&ZP(n,c),h&&YP(n,h),Pc(n.inputs,i.inputs),Pc(n.declaredInputs,i.declaredInputs),Pc(n.outputs,i.outputs),Y(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const l=s[a];l&&l.ngInherit&&l(n),l===Zt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function QP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=su(i.hostAttrs,t=su(t,i.hostAttrs))}}(r)}function bC(n){return n===Hn?{}:n===qt?[]:n}function ZP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function YP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function XP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let im=null;function Hu(){if(!im){const n=jt.Symbol;if(n&&n.iterator)im=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(im=r)}}}return im}function Ah(n){return!!EC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Hu()in n)}function EC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zs(n,e,t){return n[e]=t}function Sr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ml(n,e,t,r){const i=Sr(n,e,t);return Sr(n,e+1,r)||i}function wi(n,e,t,r){const i=ce();return Sr(i,zo(),e)&&(Mt(),zi(un(),i,n,e,t,r)),wi}function Wu(n,e,t,r,i,s,a,l){const h=function sm(n,e,t,r,i){const s=ml(n,e,t,r);return Sr(n,e+2,i)||s}(n,os(),t,i,a);return as(3),h?e+it(t)+r+it(i)+s+it(a)+l:Xe}function nr(n,e,t,r,i,s,a,l){const c=ce(),h=Mt(),f=n+20,g=h.firstCreatePass?function o1(n,e,t,r,i,s,a,l,c){const h=e.consts,f=ha(e,n,4,a||null,Ps(h,l));hh(e,t,f,Ps(h,c)),Wa(e,f);const g=f.tViews=_s(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h);return null!==e.queries&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}(f,h,c,e,t,r,i,s,a):h.data[f];Bi(g,!1);const v=c[11].createComment("");Ru(h,c,v,g),er(v,c),Wn(c,c[f]=Gg(v,c,v,g)),k(g)&&uh(h,c,g),null!=a&&ch(c,g,l)}function om(n){return Li(function wv(){return Ge.lFrame.contextLView}(),20+n)}function se(n,e=nt.Default){const t=ce();return null===t?Ae(n,e):hd(sn(),t,at(n),e)}function TC(){throw new Error("invalid")}function Bt(n,e,t){const r=ce();return Sr(r,zo(),e)&&function Lr(n,e,t,r,i,s,a,l){const c=vr(e,t);let f,h=e.inputs;!l&&null!=h&&(f=h[r])?(Yg(n,t,f,r,i),co(e)&&function Qy(n,e){const t=Zn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function qy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,yt(s)?s.setProperty(c,r,i):qa(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}(Mt(),un(),r,n,e,r[11],t,!1),Bt}function MC(n,e,t,r,i){const a=i?"class":"style";Yg(n,t,e.inputs[a],a,r)}function ct(n,e,t,r){const i=ce(),s=Mt(),a=20+n,l=i[11],c=i[a]=Ud(l,e,function Jr(){return Ge.lFrame.currentNamespace}()),h=s.firstCreatePass?function T1(n,e,t,r,i,s,a){const l=e.consts,h=ha(e,n,2,i,Ps(l,s));return hh(e,t,h,Ps(l,a)),null!==h.attrs&&ga(h,h.attrs,!1),null!==h.mergedAttrs&&ga(h,h.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,h),h}(a,s,i,0,e,t,r):s.data[a];Bi(h,!0);const f=h.mergedAttrs;null!==f&&za(l,c,f);const g=h.classes;null!==g&&kr(l,c,g);const v=h.styles;return null!==v&&Cg(l,c,v),64!=(64&h.flags)&&Ru(s,i,c,h),0===function op(){return Ge.lFrame.elementDepthCount}()&&er(c,i),function y(){Ge.lFrame.elementDepthCount++}(),k(h)&&(uh(s,i,h),function xg(n,e,t){if(Lc(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}(s,h,i)),null!==r&&ch(i,h),ct}function dt(){let n=sn();Yc()?function Xc(){Ge.lFrame.isParent=!1}():(n=n.parent,Bi(n,!1));const e=n;!function Go(){Ge.lFrame.elementDepthCount--}();const t=Mt();return t.firstCreatePass&&(Wa(t,n),Lc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function ji(n){return 0!=(16&n.flags)}(e)&&MC(t,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function od(n){return 0!=(32&n.flags)}(e)&&MC(t,e,ce(),e.stylesWithoutHost,!1),dt}function Ar(n,e,t,r){return ct(n,e,t,r),dt(),Ar}function wo(){return ce()}function Mh(n){return!!n&&"function"==typeof n.then}function Gw(n){return!!n&&"function"==typeof n.subscribe}const OC=Gw;function Ot(n,e,t,r){const i=ce(),s=Mt(),a=sn();return function qw(n,e,t,r,i,s,a,l){const c=k(r),f=n.firstCreatePass&&Qg(n),g=e[8],v=qg(e);let b=!0;if(3&r.type||l){const Q=vr(r,e),ae=l?l(Q):Q,$=v.length,Ce=l?Ne=>l(mn(Ne[r.index])):r.index;if(yt(t)){let Ne=null;if(!l&&c&&(Ne=function I1(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===t&&i[s+1]===r){const l=e[7],c=i[s+2];return l.length>c?l[c]:null}"string"==typeof a&&(s+=2)}return null}(n,e,i,r.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=s,Ne.__ngLastListenerFn__=s,b=!1;else{s=RC(r,e,g,s,!1);const vt=t.listen(ae,i,s);v.push(s,vt),f&&f.push(i,Ce,$,$+1)}}else s=RC(r,e,g,s,!0),ae.addEventListener(i,s,a),v.push(s),f&&f.push(i,Ce,$,a)}else s=RC(r,e,g,s,!1);const T=r.outputs;let j;if(b&&null!==T&&(j=T[i])){const Q=j.length;if(Q)for(let ae=0;ae<Q;ae+=2){const fn=e[j[ae]][j[ae+1]].subscribe(s),bn=v.length;v.push(s,fn),f&&f.push(i,r.index,bn,-(bn+1))}}}(s,i,i[11],a,n,e,!!t,r),Ot}function Qw(n,e,t,r){try{return!1!==t(r)}catch(i){return Zg(n,i),!1}}function RC(n,e,t,r,i){return function s(a){if(a===Function)return r;const l=2&n.flags?Zn(n.index,e):e;0==(32&e[2])&&fl(l);let c=Qw(e,0,r,a),h=s.__ngNextListenerFn__;for(;h;)c=Qw(e,0,h,a)&&c,h=h.__ngNextListenerFn__;return i&&!1===c&&(a.preventDefault(),a.returnValue=!1),c}}function xt(n=1){return function id(n){return(Ge.lFrame.contextLView=function Ua(n,e){for(;n>0;)e=e[15],n--;return e}(n,Ge.lFrame.contextLView))[8]}(n)}function sD(n,e,t,r,i){const s=n[t+1],a=null===e;let l=r?bi(s):ps(s),c=!1;for(;0!==l&&(!1===c||a);){const f=n[l+1];N1(n[l],e)&&(c=!0,n[l+1]=r?cl(f):Yd(f)),l=r?bi(f):ps(f)}c&&(n[t+1]=r?Yd(s):cl(s))}function N1(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&na(n,e)>=0}function Do(n,e,t){return Cs(n,e,t,!1),Do}function Xu(n,e){return Cs(n,e,null,!0),Xu}function Cs(n,e,t,r){const i=ce(),s=Mt(),a=as(2);s.firstUpdatePass&&function fD(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Nn()],a=function hD(n,e){return e>=n.expandoStartIndex}(n,t);(function _D(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!a&&(e=!1),e=function W1(n,e,t,r){const i=function ed(n){const e=Ge.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Ih(t=FC(null,n,e,t,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=FC(i,n,e,t,r),null===s){let c=function K1(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ps(r))return n[bi(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=FC(null,n,e,c[1],r),c=Ih(c,e.attrs,r),function G1(n,e,t,r){n[bi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function z1(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ih(r,n[s].hostAttrs,t);return Ih(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function x1(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,l=bi(a),c=ps(a);n[r]=t;let f,h=!1;if(Array.isArray(t)){const g=t;f=g[1],(null===f||na(g,f)>0)&&(h=!0)}else f=t;if(i)if(0!==c){const v=bi(n[l+1]);n[r+1]=Nu(v,l),0!==v&&(n[v+1]=ku(n[v+1],r)),n[l+1]=function Hy(n,e){return 131071&n|e<<17}(n[l+1],r)}else n[r+1]=Nu(l,0),0!==l&&(n[l+1]=ku(n[l+1],r)),l=r;else n[r+1]=Nu(c,0),0===l?l=r:n[c+1]=ku(n[c+1],r),c=r;h&&(n[r+1]=Yd(n[r+1])),sD(n,f,r,!0),sD(n,f,r,!1),function F1(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&na(s,e)>=0&&(t[r+1]=cl(t[r+1]))}(e,f,n,r,s),a=Nu(l,c),s?e.classBindings=a:e.styleBindings=a}(i,s,e,t,a,r)}}(s,n,a,r),e!==Xe&&Sr(i,a,e)&&function gD(n,e,t,r,i,s,a,l){if(!(3&e.type))return;const c=n.data,h=c[l+1];lm(function ca(n){return 1==(1&n)}(h)?mD(c,e,t,i,ps(h),a):void 0)||(lm(s)||function Sg(n){return 2==(2&n)}(h)&&(s=mD(c,null,t,i,l,a)),function Fy(n,e,t,r,i){const s=yt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let a=-1===r.indexOf("-")?void 0:Nr.DashCase;if(null==i)s?n.removeStyle(t,r,a):t.style.removeProperty(r);else{const l="string"==typeof i&&i.endsWith("!important");l&&(i=i.slice(0,-10),a|=Nr.Important),s?n.setStyle(t,r,i,a):t.style.setProperty(r,i,l?"important":"")}}}(r,a,Is(Nn(),t),i,s))}(s,s.data[Nn()],i,i[11],n,i[a+1]=function Z1(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ht(Hs(n)))),n}(e,t),r,a)}function FC(n,e,t,r,i){let s=null;const a=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<a&&(s=e[l],r=Ih(r,s.hostAttrs,i),s!==n);)l++;return null!==n&&(t.directiveStylingLast=l),r}function Ih(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Cr(n,a,!!t||e[++s]))}return void 0===n?null:n}function mD(n,e,t,r,i,s){const a=null===e;let l;for(;i>0;){const c=n[i],h=Array.isArray(c),f=h?c[1]:c,g=null===f;let v=t[i+1];v===Xe&&(v=g?qt:void 0);let b=g?pu(v,r):f===r?v:void 0;if(h&&!lm(b)&&(b=pu(c,r)),lm(b)&&(l=b,a))return l;const T=n[i+1];i=a?bi(T):ps(T)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(l=pu(c,r))}return l}function lm(n){return void 0!==n}function hn(n,e=""){const t=ce(),r=Mt(),i=n+20,s=r.firstCreatePass?ha(r,i,1,e,null):r.data[i],a=t[i]=function jd(n,e){return yt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Ru(r,t,a,s),Bi(s,!1)}function um(n){return _l("",n,""),um}function _l(n,e,t){const r=ce(),i=function Uu(n,e,t,r){return Sr(n,zo(),t)?e+it(t)+r:Xe}(r,n,e,t);return i!==Xe&&vs(r,Nn(),i),_l}function NC(n,e,t,r,i){const s=ce(),a=function $u(n,e,t,r,i,s){const l=ml(n,os(),t,i);return as(2),l?e+it(t)+r+it(i)+s:Xe}(s,n,e,t,r,i);return a!==Xe&&vs(s,Nn(),a),NC}function kC(n,e,t,r,i,s,a){const l=ce(),c=Wu(l,n,e,t,r,i,s,a);return c!==Xe&&vs(l,Nn(),c),kC}const cm="en-US";let LD=cm;function VC(n,e,t,r,i){if(n=at(n),Array.isArray(n))for(let s=0;s<n.length;s++)VC(n[s],e,t,r,i);else{const s=Mt(),a=ce();let l=_a(n)?n:at(n.provide),c=nm(n);const h=sn(),f=1048575&h.providerIndexes,g=h.directiveStart,v=h.providerIndexes>>20;if(_a(n)||!n.multi){const b=new Ga(c,i,se),T=jC(l,e,i?f:f+v,g);-1===T?(Qa(Zo(h,a),s,l),HC(s,n,e.length),e.push(l),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),t.push(b),a.push(b)):(t[T]=b,a[T]=b)}else{const b=jC(l,e,f+v,g),T=jC(l,e,f,f+v),j=b>=0&&t[b],Q=T>=0&&t[T];if(i&&!Q||!i&&!j){Qa(Zo(h,a),s,l);const ae=function gR(n,e,t,r,i){const s=new Ga(n,t,se);return s.multi=[],s.index=e,s.componentProviders=0,aS(s,i,r&&!t),s}(i?pR:fR,t.length,i,r,c);!i&&Q&&(t[T].providerFactory=ae),HC(s,n,e.length,0),e.push(l),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),t.push(ae),a.push(ae)}else HC(s,n,b>-1?b:T,aS(t[i?T:b],c,!i&&r));!i&&r&&Q&&t[T].componentProviders++}}}function HC(n,e,t,r){const i=_a(e),s=function o(n){return!!n.useClass}(e);if(i||s){const c=(s?at(e.useClass):e).prototype.ngOnDestroy;if(c){const h=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=h.indexOf(t);-1===f?h.push(t,[r,c]):h[f+1].push(r,c)}else h.push(t,c)}}}function aS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function jC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function fR(n,e,t,r){return UC(this.multi,[])}function pR(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Yo(t,t[1],this.providerFactory.index,r);s=l.slice(0,a),UC(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],UC(i,s);return s}function UC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function dn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function hR(n,e,t){const r=Mt();if(r.firstCreatePass){const i=Y(n);VC(t,r.data,r.blueprint,i,!0),VC(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class lS{}class vR{resolveComponentFactory(e){throw function _R(n){const e=Error(`No component factory found for ${Ht(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Fh=(()=>{class n{}return n.NULL=new vR,n})();function yR(){return tc(sn(),ce())}function tc(n,e){return new Vr(vr(n,e))}let Vr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=yR,n})();function CR(n){return n instanceof Vr?n.nativeElement:n}class Nh{}let So=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ER(){const n=ce(),t=Zn(sn().index,n);return function bR(n){return n[11]}(Ni(t)?t:n)}(),n})(),wR=(()=>{class n{}return n.\u0275prov=Ye({token:n,providedIn:"root",factory:()=>null}),n})();class kh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DR=new kh("13.3.1"),$C={};function gm(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(mn(s)),pi(s))for(let l=10;l<s.length;l++){const c=s[l],h=c[1].firstChild;null!==h&&gm(c[1],c,h,r)}const a=t.type;if(8&a)gm(n,e,t.child,r);else if(32&a){const l=kd(t,e);let c;for(;c=l();)r.push(c)}else if(16&a){const l=_g(e,t);if(Array.isArray(l))r.push(...l);else{const c=ol(e[16]);gm(c[1],c,l,r,!0)}}t=i?t.projectionNext:t.next}return r}class Lh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return gm(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(pi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(ua(e,r),fu(t,r))}this._attachedToViewContainer=!1}hg(this._lView[1],this._lView)}onDestroy(e){Lg(this._lView[1],this._lView,null,e)}markForCheck(){fl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function yh(n,e,t){eu(!0);try{vh(n,e,t)}finally{eu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Se(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ty(n,e){ul(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Se(902,"");this._appRef=e}}class SR extends Lh{constructor(e){super(e),this._view=e}detectChanges(){zg(this._view)}checkNoChanges(){!function dC(n){eu(!0);try{zg(n)}finally{eu(!1)}}(this._view)}get context(){return null}}class cS extends Fh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=jn(e);return new WC(t,this.ngModule)}}function dS(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class WC extends lS{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function fs(n){return n.map(Vy).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return dS(this.componentDef.inputs)}get outputs(){return dS(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function TR(n,e){return{get:(t,r,i)=>{const s=n.get(t,$C,i);return s!==$C||r===$C?s:e.get(t,r,i)}}}(e,i.injector):e,a=s.get(Nh,rp),l=s.get(wR,null),c=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function kg(n,e,t){if(yt(n))return n.selectRootElement(e,t===zr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(c,r,this.componentDef.encapsulation):Ud(a.createRenderer(null,this.componentDef),h,function AR(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),g=this.componentDef.onPush?576:528,v=function Dw(n,e){return{components:[],scheduler:n||yy,clean:hC,playerHandler:e||null,flags:0}}(),b=_s(0,null,null,1,0,null,null,null,null,null),T=dl(null,b,v,g,null,null,a,c,l,s);let j,Q;tu(T);try{const ae=function Ew(n,e,t,r,i,s){const a=t[1];t[20]=n;const c=ha(a,20,2,"#host",null),h=c.mergedAttrs=e.hostAttrs;null!==h&&(ga(c,h,!0),null!==n&&(za(i,n,h),null!==c.classes&&kr(i,n,c.classes),null!==c.styles&&Cg(i,n,c.styles)));const f=r.createRenderer(n,e),g=dl(t,Fg(e),null,e.onPush?64:16,t[20],c,r,f,s||null,null);return a.firstCreatePass&&(Qa(Zo(c,t),a,e.type),Ug(a,c),$g(c,t.length,1)),Wn(t,g),t[20]=g}(f,this.componentDef,T,a,c);if(f)if(r)za(c,f,["ng-version",DR.full]);else{const{attrs:$,classes:Ce}=function Dg(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ci(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);$&&za(c,f,$),Ce&&Ce.length>0&&kr(c,f,Ce.join(" "))}if(Q=po(b,20),void 0!==t){const $=Q.projection=[];for(let Ce=0;Ce<this.ngContentSelectors.length;Ce++){const Ne=t[Ce];$.push(null!=Ne?Array.from(Ne):null)}}j=function ww(n,e,t,r,i){const s=t[1],a=function Yy(n,e,t){const r=sn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Wg(n,r,e,fa(n,e,1,null),t));const i=Yo(e,n,r.directiveStart,r);er(i,e);const s=vr(r,e);return s&&er(s,e),i}(s,t,e);if(r.components.push(a),n[8]=a,i&&i.forEach(c=>c(a,e)),e.contentQueries){const c=sn();e.contentQueries(1,a,c.directiveStart)}const l=sn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Rs(l.index),Hg(t[1],l,0,l.directiveStart,l.directiveEnd,e),jg(e,a)),a}(ae,this.componentDef,T,v,[qP]),hl(b,T,null)}finally{nu()}return new IR(this.componentType,j,tc(Q,T),T,Q)}}class IR extends class mR{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new SR(i),this.componentType=e}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Ao{}class hS{}const nc=new Map;class gS extends Ao{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cS(this);const r=Or(e);this._bootstrapComponents=Gi(r.bootstrap),this._r3Injector=tm(e,t,[{provide:Ao,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver}],Ht(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=m.THROW_IF_NOT_FOUND,r=nt.Default){return e===m||e===Ao||e===Eh?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class KC extends hS{constructor(e){super(),this.moduleType=e,null!==Or(e)&&function OR(n){const e=new Set;!function t(r){const i=Or(r,!0),s=i.id;null!==s&&(function fS(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ht(e)} vs ${Ht(e.name)}`)}(s,nc.get(s),r),nc.set(s,r));const a=Gi(i.imports);for(const l of a)e.has(l)||(e.add(l),t(l))}(n)}(e)}create(e){return new gS(this.moduleType,e)}}function _S(n,e,t,r,i,s){const a=e+t;return Sr(n,a,i)?zs(n,a+1,s?r.call(s,i):r(i)):function Bh(n,e){const t=n[e];return t===Xe?void 0:t}(n,a+1)}function mm(n,e){const t=Mt();let r;const i=n+20;t.firstCreatePass?(r=function jR(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=ki(r.type)),a=As(se);try{const l=au(!1),c=s();return au(l),function a1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ce(),i,c),c}finally{As(a)}}function _m(n,e,t){const r=n+20,i=ce(),s=Li(i,r);return function Vh(n,e){return n[1].data[e].pure}(i,r)?_S(i,hr(),e,s.transform,t,s):s.transform(t)}function GC(n){return e=>{setTimeout(n,void 0,e)}}const kt=class GR extends J{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,a;let l=e,c=t||(()=>null),h=r;if(e&&"object"==typeof e){const g=e;l=null===(i=g.next)||void 0===i?void 0:i.bind(g),c=null===(s=g.error)||void 0===s?void 0:s.bind(g),h=null===(a=g.complete)||void 0===a?void 0:a.bind(g)}this.__isAsync&&(c=GC(c),l&&(l=GC(l)),h&&(h=GC(h)));const f=super.subscribe({next:l,error:c,complete:h});return e instanceof N&&e.add(f),f}};function zR(){return this._results[Hu()]()}class zC{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Hu(),r=zC.prototype;r[t]||(r[t]=zR)}get changes(){return this._changes||(this._changes=new kt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=yr(e);(this._changesDetected=!function Dp(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let To=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZR,n})();const qR=To,QR=class extends qR{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=dl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),hl(t,r,e),new Lh(r)}};function ZR(){return vm(sn(),ce())}function vm(n,e){return 4&n.type?new QR(e,n,tc(n,e)):null}let Zi=(()=>{class n{}return n.__NG_ELEMENT_ID__=YR,n})();function YR(){return DS(sn(),ce())}const XR=Zi,ES=class extends XR{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return tc(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const e=lu(this._hostTNode,this._hostLView);if(pp(e)){const t=Ui(e,this._hostLView),r=Fs(e);return new Xo(t[1].data[r+8],t)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=wS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const a=e&&!function ta(n){return"function"==typeof n}(e);let l;if(a)l=t;else{const g=t||{};l=g.index,r=g.injector,i=g.projectableNodes,s=g.ngModuleRef}const c=a?e:new WC(jn(e)),h=r||this.parentInjector;if(!s&&null==c.ngModule){const v=(a?h:this.parentInjector).get(Ao,null);v&&(s=v)}const f=c.create(h,i,void 0,s);return this.insert(f.hostView,l),f}insert(e,t){const r=e._lView,i=r[1];if(function Ev(n){return pi(n[3])}(r)){const f=this.indexOf(e);if(-1!==f)this.detach(f);else{const g=r[3],v=new ES(g,g[6],g[3]);v.detach(v.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;!function Iy(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],us(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const a=e[17];null!==a&&t!==a&&function Py(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(a,e);const l=e[19];null!==l&&l.insertView(n),e[2]|=128}(i,r,a,s);const l=qd(s,a),c=r[11],h=Pu(c,a[7]);return null!==h&&function Ay(n,e,t,r,i,s){r[0]=i,r[6]=e,ul(n,r,t,1,i,s)}(i,a[6],c,r,h,l),e.attachToViewContainerRef(),us(qC(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=wS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=ua(this._lContainer,t);r&&(fu(qC(this._lContainer),t),hg(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=ua(this._lContainer,t);return r&&null!=fu(qC(this._lContainer),t)?new Lh(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function wS(n){return n[8]}function qC(n){return n[8]||(n[8]=[])}function DS(n,e){let t;const r=e[n.index];if(pi(r))t=r;else{let i;if(8&n.type)i=mn(r);else{const s=e[11];i=s.createComment("");const a=vr(n,e);Us(s,Pu(s,a),i,function Ou(n,e){return yt(n)?n.nextSibling(e):e.nextSibling}(s,a),!1)}e[n.index]=t=Gg(r,e,i,n),Wn(e,t)}return new ES(t,n,e)}class QC{constructor(e){this.queryList=e,this.matches=null}clone(){return new QC(this.queryList)}setDirty(){this.queryList.setDirty()}}class ZC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const a=t.getByIndex(s);i.push(this.queries[a.indexInDeclarationView].clone())}return new ZC(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==IS(e,t).matches&&this.queries[t].setDirty()}}class SS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class YC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new YC(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class XC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new XC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,tx(t,s)),this.matchTNodeWithReadOption(e,t,du(t,e,s,!1,!1))}else r===To?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,du(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Vr||i===Zi||i===To&&4&t.type)this.addMatch(t.index,-2);else{const s=du(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function tx(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function rx(n,e,t,r){return-1===t?function nx(n,e){return 11&n.type?tc(n,e):4&n.type?vm(n,e):null}(e,n):-2===t?function ix(n,e,t){return t===Vr?tc(e,n):t===To?vm(e,n):t===Zi?DS(e,n):void 0}(n,e,r):Yo(n,n[1],t,e)}function AS(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,a=t.matches,l=[];for(let c=0;c<a.length;c+=2){const h=a[c];l.push(h<0?null:rx(e,s[h],a[c+1],t.metadata.read))}i.matches=l}return i.matches}function JC(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const a=AS(n,e,i,t);for(let l=0;l<s.length;l+=2){const c=s[l];if(c>0)r.push(a[l/2]);else{const h=s[l+1],f=e[-c];for(let g=10;g<f.length;g++){const v=f[g];v[17]===v[3]&&JC(v[1],v,h,r)}if(null!==f[9]){const g=f[9];for(let v=0;v<g.length;v++){const b=g[v];JC(b[1],b,h,r)}}}}}return r}function Zs(n){const e=ce(),t=Mt(),r=Xr();td(r+1);const i=IS(t,r);if(n.dirty&&go(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?JC(t,e,r,[]):AS(t,e,i,r);n.reset(s,CR),n.notifyOnChanges()}return!0}return!1}function Hh(n,e,t){const r=Mt();r.firstCreatePass&&(MS(r,new SS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),TS(r,ce(),e)}function rc(n,e,t,r){const i=Mt();if(i.firstCreatePass){const s=sn();MS(i,new SS(e,t,r),s.index),function ox(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}TS(i,ce(),t)}function Ys(){return function sx(n,e){return n[19].queries[e].queryList}(ce(),Xr())}function TS(n,e,t){const r=new zC(4==(4&t));Lg(n,e,r,r.destroy),null===e[19]&&(e[19]=new ZC),e[19].queries.push(new QC(r))}function MS(n,e,t){null===n.queries&&(n.queries=new YC),n.queries.track(new XC(e,t))}function IS(n,e){return n.queries.getByIndex(e)}function PS(n,e){return vm(n,e)}function bm(...n){}const sb=new Ve("Application Initializer");let ob=(()=>{class n{constructor(t){this.appInits=t,this.resolve=bm,this.reject=bm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Mh(s))t.push(s);else if(OC(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});t.push(a)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Ae(sb,8))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uh=new Ve("AppId",{providedIn:"root",factory:function zS(){return`${ab()}${ab()}${ab()}`}});function ab(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qS=new Ve("Platform Initializer"),Em=new Ve("Platform ID"),QS=new Ve("appBootstrapListener");let ZS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();const va=new Ve("LocaleId",{providedIn:"root",factory:()=>Xa(va,nt.Optional|nt.SkipSelf)||function wx(){return"undefined"!=typeof $localize&&$localize.locale||cm}()});class Sx{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let YS=(()=>{class n{compileModuleSync(t){return new KC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Gi(Or(t).declarations).reduce((a,l)=>{const c=jn(l);return c&&a.push(new WC(c)),a},[]);return new Sx(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tx=(()=>Promise.resolve(0))();function lb(n){"undefined"==typeof Zone?Tx.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class yn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kt(!1),this.onMicrotaskEmpty=new kt(!1),this.onStable=new kt(!1),this.onError=new kt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Mx(){let n=jt.requestAnimationFrame,e=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Ox(n){const e=()=>{!function Px(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(jt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cb(n),n.isCheckStableRunning=!0,ub(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,a,l)=>{try{return XS(n),t.invokeTask(i,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),JS(n)}},onInvoke:(t,r,i,s,a,l,c)=>{try{return XS(n),t.invoke(i,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),JS(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,cb(n),ub(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,Ix,bm,bm);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Ix={};function ub(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function XS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function JS(n){n._nesting--,ub(n)}class Rx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kt,this.onMicrotaskEmpty=new kt,this.onStable=new kt,this.onError=new kt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let db=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yn.assertNotInAngularZone(),lb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lb(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Ae(yn))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})(),eA=(()=>{class n{constructor(){this._applications=new Map,hb.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return hb.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();class xx{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Es,hb=new xx;const tA=new Ve("AllowMultipleToken");class nA{constructor(e,t){this.name=e,this.token=t}}function rA(n,e,t=[]){const r=`Platform: ${e}`,i=new Ve(r);return(s=[])=>{let a=iA();if(!a||a.injector.get(tA,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const l=t.concat(s).concat({provide:i,useValue:!0},{provide:wh,useValue:"platform"});!function Lx(n){if(Es&&!Es.destroyed&&!Es.injector.get(tA,!1))throw new Se(400,"");Es=n.get(sA);const e=n.get(qS,null);e&&e.forEach(t=>t())}(m.create({providers:l,name:r}))}return function Bx(n){const e=iA();if(!e)throw new Se(401,"");return e}()}}function iA(){return Es&&!Es.destroyed?Es:null}let sA=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const l=function Vx(n,e){let t;return t="noop"===n?new Rx:("zone.js"===n?void 0:n)||new yn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:yn,useValue:l}];return l.run(()=>{const h=m.create({providers:c,parent:this.injector,name:t.moduleType.name}),f=t.create(h),g=f.injector.get(sl,null);if(!g)throw new Se(402,"");return l.runOutsideAngular(()=>{const v=l.onError.subscribe({next:b=>{g.handleError(b)}});f.onDestroy(()=>{pb(this._modules,f),v.unsubscribe()})}),function Hx(n,e,t){try{const r=t();return Mh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(g,l,()=>{const v=f.injector.get(ob);return v.runInitializers(),v.donePromise.then(()=>(function bO(n){mr(n,"Expected localeId to be defined"),"string"==typeof n&&(LD=n.toLowerCase().replace(/_/g,"-"))}(f.injector.get(va,cm)||cm),this._moduleDoBootstrap(f),f))})})}bootstrapModule(t,r=[]){const i=oA({},r);return function Nx(n,e,t){const r=new KC(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(fb);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Se(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Ae(m))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();function oA(n,e){return Array.isArray(e)?e.reduce(oA,n):Object.assign(Object.assign({},n),e)}let fb=(()=>{class n{constructor(t,r,i,s,a){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new O(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),c=new O(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{yn.assertNotInAngularZone(),lb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{yn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=jl(l,c.pipe(function kf(n={}){const{connector:e=(()=>new J),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let a=null,l=null,c=null,h=0,f=!1,g=!1;const v=()=>{null==l||l.unsubscribe(),l=null},b=()=>{v(),a=c=null,f=g=!1},T=()=>{const j=a;b(),null==j||j.unsubscribe()};return _e((j,Q)=>{h++,!g&&!f&&v();const ae=c=null!=c?c:e();Q.add(()=>{h--,0===h&&!g&&!f&&(l=Ic(T,i))}),ae.subscribe(Q),a||(a=new Pe({next:$=>ae.next($),error:$=>{g=!0,v(),l=Ic(b,t,$),ae.error($)},complete:()=>{f=!0,v(),l=Ic(b,r),ae.complete()}}),Pn(j).subscribe(a))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new Se(405,"");let i;i=t instanceof lS?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function kx(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Ao),l=i.create(m.NULL,[],r||i.selector,s),c=l.location.nativeElement,h=l.injector.get(db,null),f=h&&l.injector.get(eA);return h&&f&&f.registerApplication(c,h),l.onDestroy(()=>{this.detachView(l.hostView),pb(this.components,l),f&&f.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Se(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;pb(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(QS,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Ae(yn),Ae(m),Ae(sl),Ae(Fh),Ae(ob))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let lA=!0,sc=(()=>{class n{}return n.__NG_ELEMENT_ID__=$x,n})();function $x(n){return function Wx(n,e,t){if(co(n)&&!t){const r=Zn(n.index,e);return new Lh(r,r)}return 47&n.type?new Lh(e[16],e):null}(sn(),ce(),16==(16&n))}class fA{constructor(){}supports(e){return Ah(e)}create(e){return new Zx(e)}}const Qx=(n,e)=>e;class Zx{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Qx}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const a=!r||t&&t.currentIndex<gA(r,i,s)?t:r,l=gA(a,i,s),c=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{s||(s=[]);const h=l-i,f=c-i;if(h!=f){for(let v=0;v<h;v++){const b=v<s.length?s[v]:s[v]=0,T=b+v;f<=T&&T<h&&(s[v]=b+1)}s[a.previousIndex]=f-h}}l!==c&&e(a,l,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ah(e))throw new Se(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)s=e[l],a=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,l),r=!0),t=t._next}else i=0,function s1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Hu()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,l=>{a=this._trackByFn(i,l),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,l,a,i)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Yx(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new pA),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Yx{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xx{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class pA{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Xx,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gA(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class mA{constructor(){}supports(e){return e instanceof Map||EC(e)}create(){return new Jx}}class Jx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||EC(e)))throw new Se(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new eF(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class eF{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _A(){return new Sm([new fA])}let Sm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||_A()),deps:[[n,new ia,new ds]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Se(901,"")}}return n.\u0275prov=Ye({token:n,providedIn:"root",factory:_A}),n})();function vA(){return new $h([new mA])}let $h=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||vA()),deps:[[n,new ia,new ds]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new Se(901,"")}}return n.\u0275prov=Ye({token:n,providedIn:"root",factory:vA}),n})();const rF=rA(null,"core",[{provide:Em,useValue:"unknown"},{provide:sA,deps:[m]},{provide:eA,deps:[]},{provide:ZS,deps:[]}]);let iF=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Ae(fb))},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})(),Am=null;function Xs(){return Am}const Gn=new Ve("DocumentToken");let Cl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:function(){return function lF(){return Ae(yA)}()},providedIn:"platform"}),n})();const uF=new Ve("Location Initialized");let yA=(()=>{class n extends Cl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xs().getBaseHref(this._doc)}onPopState(t){const r=Xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){CA()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){CA()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn))},n.\u0275prov=Ye({token:n,factory:function(){return function cF(){return new yA(Ae(Gn))}()},providedIn:"platform"}),n})();function CA(){return!!window.history.pushState}function yb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function bA(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Mo(n){return n&&"?"!==n[0]?"?"+n:n}let oc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:function(){return function dF(n){const e=Ae(Gn).location;return new EA(Ae(Cl),e&&e.origin||"")}()},providedIn:"root"}),n})();const Cb=new Ve("appBaseHref");let EA=(()=>{class n extends oc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Mo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const a=this.prepareExternalUrl(i+Mo(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){const a=this.prepareExternalUrl(i+Mo(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Cl),Ae(Cb,8))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})(),hF=(()=>{class n extends oc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=yb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+Mo(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+Mo(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Cl),Ae(Cb,8))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})(),bb=(()=>{class n{constructor(t,r){this._subject=new kt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=bA(wA(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Mo(r))}normalize(t){return n.stripTrailingSlash(function pF(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,wA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mo(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mo(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Mo,n.joinWithSlash=yb,n.stripTrailingSlash=bA,n.\u0275fac=function(t){return new(t||n)(Ae(oc),Ae(Cl))},n.\u0275prov=Ye({token:n,factory:function(){return function fF(){return new bb(Ae(oc),Ae(Cl))}()},providedIn:"root"}),n})();function wA(n){return n.replace(/\/index.html$/,"")}let RA=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ah(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ht(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(se(Sm),se($h),se(Vr),se(So))},n.\u0275dir=Ke({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class JF{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let km=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new JF(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const l=r.get(s);r.move(l,a),xA(l,i)}});for(let i=0,s=r.length;i<s;i++){const l=r.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(se(Zi),se(To),se(Sm))},n.\u0275dir=Ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xA(n,e){n.context.$implicit=e.item}let Lm=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new eN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){FA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){FA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(se(Zi),se(To))},n.\u0275dir=Ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class eN{constructor(){this.$implicit=null,this.ngIf=null}}function FA(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ht(e)}'.`)}let kA=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(se(Vr),se($h),se(So))},n.\u0275dir=Ke({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class sN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class oN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const aN=new oN,lN=new sN;let LA=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Mh(t))return aN;if(Gw(t))return lN;throw function Ds(n,e){return new Se(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(se(sc,16))},n.\u0275pipe=dr({name:"async",type:n,pure:!1}),n})(),BA=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=VA}transform(t,r=VA){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(a=>{this.keyValues.push(function yN(n,e){return{key:n,value:e}}(a.key,a.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(se($h,16))},n.\u0275pipe=dr({name:"keyvalue",type:n,pure:!1}),n})();function VA(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let HA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})();const jA="browser";let MN=(()=>{class n{}return n.\u0275prov=Ye({token:n,providedIn:"root",factory:()=>new IN(Ae(Gn),window)}),n})();class IN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function PN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=UA(this.window.history)||UA(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function UA(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Nb extends class RN extends class aF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oF(n){Am||(Am=n)}(new Nb)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xN(){return Gh=Gh||document.querySelector("base"),Gh?Gh.getAttribute("href"):null}();return null==t?null:function FN(n){Bm=Bm||document.createElement("a"),Bm.setAttribute("href",n);const e=Bm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function YF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Bm,Gh=null;const $A=new Ve("TRANSITION_ID"),kN=[{provide:sb,useFactory:function NN(n,e,t){return()=>{t.get(ob).donePromise.then(()=>{const r=Xs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[$A,Gn,m],multi:!0}];class kb{static init(){!function Fx(n){hb=n}(new kb)}addToWindow(e){jt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},jt.getAllAngularTestabilities=()=>e.getAllTestabilities(),jt.getAllAngularRootElements=()=>e.getAllRootElements(),jt.frameworkStabilizers||(jt.frameworkStabilizers=[]),jt.frameworkStabilizers.push(r=>{const i=jt.getAllAngularTestabilities();let s=i.length,a=!1;const l=function(c){a=a||c,s--,0==s&&r(a)};i.forEach(function(c){c.whenStable(l)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Xs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let LN=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();const Vm=new Ve("EventManagerPlugins");let Hm=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const a=i[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Vm),Ae(yn))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();class WA{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Xs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let KA=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})(),zh=(()=>{class n extends KA{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,i.push(r.appendChild(a))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(GA),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(GA))}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();function GA(n){Xs().remove(n)}const Lb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bb=/%COMP%/g;function jm(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jm(n,i,t):(i=i.replace(Bb,n),t.push(i))}return t}function QA(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Um=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Vb(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case zr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $N(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case zr.ShadowDom:return new WN(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=jm(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Ae(Hm),Ae(zh),Ae(Uh))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();class Vb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Lb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Lb[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Lb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Nr.DashCase|Nr.Important)?e.style.setProperty(t,r,i&Nr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Nr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,QA(r)):this.eventManager.addEventListener(e,t,QA(r))}}class $N extends Vb{constructor(e,t,r,i){super(e),this.component=r;const s=jm(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function HN(n){return"_ngcontent-%COMP%".replace(Bb,n)}(i+"-"+r.id),this.hostAttr=function jN(n){return"_nghost-%COMP%".replace(Bb,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class WN extends Vb{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jm(i.id,i.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let KN=(()=>{class n extends WA{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();const YA=["alt","control","meta","shift"],zN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let QN=(()=>{class n extends WA{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xs().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let a="";if(YA.forEach(c=>{const h=r.indexOf(c);h>-1&&(r.splice(h,1),a+=c+".")}),a+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=a,l}static getEventFullKey(t){let r="",i=function ZN(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&XA.hasOwnProperty(e)&&(e=XA[e]))}return zN[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),YA.forEach(s=>{s!=i&&qN[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();const ek=rA(rF,"browser",[{provide:Em,useValue:jA},{provide:qS,useValue:function YN(){Nb.makeCurrent(),kb.init()},multi:!0},{provide:Gn,useFactory:function JN(){return function yv(n){Yl=n}(document),document},deps:[]}]),tk=[{provide:wh,useValue:"root"},{provide:sl,useFactory:function XN(){return new sl},deps:[]},{provide:Vm,useClass:KN,multi:!0,deps:[Gn,yn,Em]},{provide:Vm,useClass:QN,multi:!0,deps:[Gn]},{provide:Um,useClass:Um,deps:[Hm,zh,Uh]},{provide:Nh,useExisting:Um},{provide:KA,useExisting:zh},{provide:zh,useClass:zh,deps:[Gn]},{provide:db,useClass:db,deps:[yn]},{provide:Hm,useClass:Hm,deps:[Vm,yn]},{provide:class ON{},useClass:LN,deps:[]}];let JA=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Uh,useValue:t.appId},{provide:$A,useExisting:Uh},kN]}}}return n.\u0275fac=function(t){return new(t||n)(Ae(n,12))},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({providers:tk,imports:[HA,iF]}),n})();function _t(...n){return Pn(n,Oa(n))}"undefined"!=typeof window&&window;class jr extends J{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:hk}=Array,{getPrototypeOf:fk,prototype:pk,keys:gk}=Object;function nT(n){if(1===n.length){const e=n[0];if(hk(e))return{args:e,keys:null};if(function mk(n){return n&&"object"==typeof n&&fk(n)===pk}(e)){const t=gk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:_k}=Array;function rT(n){return ve(e=>function vk(n,e){return _k(e)?n(...e):n(e)}(n,e))}function iT(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function sT(n,e,t){n?di(t,n,e):e()}function $m(n,e){const t=E(n)?n:()=>n,r=i=>i.error(t());return new O(e?i=>e.schedule(r,0,i):r)}const Wm=_(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jb(...n){return function bk(){return Pa(1)}()(Pn(n,Oa(n)))}function oT(n){return new O(e=>{Wr(n()).subscribe(e)})}function aT(){return _e((n,e)=>{let t=null;n._refCount++;const r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ek extends O{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,wt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new N;const t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=N.EMPTY)}return e}refCount(){return aT()(this)}}function Ca(n,e){return _e((t,r)=>{let i=null,s=0,a=!1;const l=()=>a&&!i&&r.complete();t.subscribe(de(r,c=>{null==i||i.unsubscribe();let h=0;const f=s++;Wr(n(c,f)).subscribe(i=de(r,g=>r.next(e?e(c,g,f,h++):g),()=>{i=null,l()}))},()=>{a=!0,l()}))})}function Ub(...n){const e=Oa(n);return _e((t,r)=>{(e?jb(n,t,e):jb(n,t)).subscribe(r)})}function wk(n,e,t,r,i){return(s,a)=>{let l=t,c=e,h=0;s.subscribe(de(a,f=>{const g=h++;c=l?n(c,f,g):(l=!0,f),r&&a.next(c)},i&&(()=>{l&&a.next(c),a.complete()})))}}function lT(n,e){return _e(wk(n,e,arguments.length>=2,!0))}function ac(n,e){return _e((t,r)=>{let i=0;t.subscribe(de(r,s=>n.call(e,s,i++)&&r.next(s)))})}function ba(n){return _e((e,t)=>{let s,r=null,i=!1;r=e.subscribe(de(t,void 0,void 0,a=>{s=Wr(n(a,ba(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function qh(n,e){return E(e)?In(n,e,1):In(n,1)}function $b(n){return n<=0?()=>is:_e((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function uT(n=Dk){return _e((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Dk(){return new Wm}function cT(n){return _e((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function lc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ac((i,s)=>n(i,s,r)):We,so(1),t?cT(e):uT(()=>new Wm))}function li(n,e,t){const r=E(n)||e||t?{next:n,error:e,complete:t}:n;return r?_e((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let l=!0;i.subscribe(de(s,c=>{var h;null===(h=r.next)||void 0===h||h.call(r,c),s.next(c)},()=>{var c;l=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var h;l=!1,null===(h=r.error)||void 0===h||h.call(r,c),s.error(c)},()=>{var c,h;l&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(h=r.finalize)||void 0===h||h.call(r)}))}):We}class Po{constructor(e,t){this.id=e,this.url=t}}class Wb extends Po{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qh extends Po{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dT extends Po{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tk extends Po{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mk extends Po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ik extends Po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pk extends Po{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ok extends Po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rk extends Po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xk{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fk{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nk{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kk{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Et="primary";class Lk{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uc(n){return new Lk(n)}const gT="ngNavigationCancelingError";function Kb(n){const e=Error("NavigationCancelingError: "+n);return e[gT]=!0,e}function Vk(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const a=r[s],l=n[s];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Js(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mT(n[i],e[i]))return!1;return!0}function mT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _T(n){return Array.prototype.concat.apply([],n)}function vT(n){return n.length>0?n[n.length-1]:null}function gr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function eo(n){return OC(n)?n:Mh(n)?Pn(Promise.resolve(n)):_t(n)}const Uk={exact:function bT(n,e,t){if(!El(n.segments,e.segments)||!Km(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!bT(n.children[r],e.children[r],t))return!1;return!0},subset:ET},yT={exact:function $k(n,e){return Js(n,e)},subset:function Wk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mT(n[t],e[t]))},ignored:()=>!0};function CT(n,e,t){return Uk[t.paths](n.root,e.root,t.matrixParams)&&yT[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ET(n,e,t){return wT(n,e,e.segments,t)}function wT(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!El(i,t)||e.hasChildren()||!Km(i,t,r))}if(n.segments.length===t.length){if(!El(n.segments,t)||!Km(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ET(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(El(n.segments,i)&&Km(n.segments,i,r)&&n.children[Et])&&wT(n.children[Et],e,s,r)}}function Km(n,e,t){return e.every((r,i)=>yT[t](n[i].parameters,r.parameters))}class bl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return zk.serialize(this)}}class It{constructor(e,t){this.segments=e,this.children=t,this.parent=null,gr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gm(this)}}class Zh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uc(this.parameters)),this._parameterMap}toString(){return MT(this)}}function El(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class DT{}class ST{parse(e){const t=new nL(e);return new bl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yh(e.root,!0)}`,r=function Zk(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zm(t)}=${zm(i)}`).join("&"):`${zm(t)}=${zm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function qk(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zk=new ST;function Gm(n){return n.segments.map(e=>MT(e)).join("/")}function Yh(n,e){if(!n.hasChildren())return Gm(n);if(e){const t=n.children[Et]?Yh(n.children[Et],!1):"",r=[];return gr(n.children,(i,s)=>{s!==Et&&r.push(`${s}:${Yh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gk(n,e){let t=[];return gr(n.children,(r,i)=>{i===Et&&(t=t.concat(e(r,i)))}),gr(n.children,(r,i)=>{i!==Et&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Et?[Yh(n.children[Et],!1)]:[`${i}:${Yh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Et]?`${Gm(n)}/${t[0]}`:`${Gm(n)}/(${t.join("//")})`}}function AT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zm(n){return AT(n).replace(/%3B/gi,";")}function Gb(n){return AT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qm(n){return decodeURIComponent(n)}function TT(n){return qm(n.replace(/\+/g,"%20"))}function MT(n){return`${Gb(n.path)}${function Qk(n){return Object.keys(n).map(e=>`;${Gb(e)}=${Gb(n[e])}`).join("")}(n.parameters)}`}const Yk=/^[^\/()?;=#]+/;function Qm(n){const e=n.match(Yk);return e?e[0]:""}const Xk=/^[^=?&#]+/,eL=/^[^&#]+/;class nL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Et]=new It(e,t)),r}parseSegment(){const e=Qm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zh(qm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Qm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Qm(this.remaining);i&&(r=i,this.capture(r))}e[qm(t)]=qm(r)}parseQueryParam(e){const t=function Jk(n){const e=n.match(Xk);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function tL(n){const e=n.match(eL);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=TT(t),s=TT(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Et);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[Et]:new It([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class IT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=zb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=zb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qb(e,this._root).map(t=>t.value)}}function zb(n,e){if(n===e.value)return e;for(const t of e.children){const r=zb(n,t);if(r)return r}return null}function qb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qb(n,t);if(r.length)return r.unshift(e),r}return[]}class Oo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function cc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class PT extends IT{constructor(e,t){super(e),this.snapshot=t,Qb(this,e)}toString(){return this.snapshot.toString()}}function OT(n,e){const t=function rL(n,e){const a=new Zm([],{},{},"",{},Et,e,null,n.root,-1,{});return new xT("",new Oo(a,[]))}(n,e),r=new jr([new Zh("",{})]),i=new jr({}),s=new jr({}),a=new jr({}),l=new jr(""),c=new dc(r,i,a,l,s,Et,e,t.root);return c.snapshot=t.root,new PT(new Oo(c,[]),t)}class dc{constructor(e,t,r,i,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=l,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>uc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>uc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RT(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function iL(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Zm{constructor(e,t,r,i,s,a,l,c,h,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=l,this.routeConfig=c,this._urlSegment=h,this._lastPathIndex=f,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xT extends IT{constructor(e,t){super(t),this.url=e,Qb(this,t)}toString(){return FT(this._root)}}function Qb(n,e){e.value._routerState=n,e.children.forEach(t=>Qb(n,t))}function FT(n){const e=n.children.length>0?` { ${n.children.map(FT).join(", ")} } `:"";return`${n.value}${e}`}function Zb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Js(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Js(e.params,t.params)||n.params.next(t.params),function Hk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Js(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Js(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Yb(n,e){const t=Js(n.params,e.params)&&function Kk(n,e){return El(n,e)&&n.every((t,r)=>Js(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Yb(n.parent,e.parent))}function Xh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function oL(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xh(n,r,i);return Xh(n,r)})}(n,e,t);return new Oo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>Xh(n,l)),a}}const r=function aL(n){return new dc(new jr(n.url),new jr(n.params),new jr(n.queryParams),new jr(n.fragment),new jr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Xh(n,s));return new Oo(r,i)}}function Ym(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jh(n){return"object"==typeof n&&null!=n&&n.outlets}function Xb(n,e,t,r,i){let s={};if(r&&gr(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),n===e)return new bl(t,s,i);const a=NT(n,e,t);return new bl(a,s,i)}function NT(n,e,t){const r={};return gr(n.children,(i,s)=>{r[s]=i===e?t:NT(i,e,t)}),new It(n.segments,r)}class kT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ym(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Jh);if(i&&i!==vT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jb{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function LT(n,e,t){if(n||(n=new It([],{})),0===n.segments.length&&n.hasChildren())return Xm(n,e,t);const r=function fL(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const a=n.segments[i],l=t[r];if(Jh(l))break;const c=`${l}`,h=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&h&&"object"==typeof h&&void 0===h.outlets){if(!VT(c,h,a))return s;r+=2}else{if(!VT(c,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new It(n.segments.slice(0,r.pathIndex),{});return s.children[Et]=new It(n.segments.slice(r.pathIndex),n.children),Xm(s,0,i)}return r.match&&0===i.length?new It(n.segments,{}):r.match&&!n.hasChildren()?e0(n,e,t):r.match?Xm(n,0,i):e0(n,e,t)}function Xm(n,e,t){if(0===t.length)return new It(n.segments,{});{const r=function hL(n){return Jh(n[0])?n[0].outlets:{[Et]:n}}(t),i={};return gr(r,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[a]=LT(n.children[a],e,s))}),gr(n.children,(s,a)=>{void 0===r[a]&&(i[a]=s)}),new It(n.segments,i)}}function e0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Jh(s)){const c=pL(s.outlets);return new It(r,c)}if(0===i&&Ym(t[0])){r.push(new Zh(n.segments[e].path,BT(t[0]))),i++;continue}const a=Jh(s)?s.outlets[Et]:`${s}`,l=i<t.length-1?t[i+1]:null;a&&l&&Ym(l)?(r.push(new Zh(a,BT(l))),i+=2):(r.push(new Zh(a,{})),i++)}return new It(r,{})}function pL(n){const e={};return gr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=e0(new It([],{}),0,t))}),e}function BT(n){const e={};return gr(n,(t,r)=>e[r]=`${t}`),e}function VT(n,e,t){return n==t.path&&Js(e,t.parameters)}class mL{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=cc(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),gr(i,(s,a)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=cc(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=cc(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=cc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new kk(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Fk(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Zb(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Zb(l.route.value),this.activateChildRoutes(e,null,a.children)}else{const l=function _L(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),c=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=c,a.outlet&&a.outlet.activateWith(i,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class t0{constructor(e,t){this.routes=e,this.module=t}}function Ea(n){return"function"==typeof n}function wl(n){return n instanceof bl}const ef=Symbol("INITIAL_VALUE");function tf(){return Ca(n=>function yk(...n){const e=Oa(n),t=Mc(n),{args:r,keys:i}=nT(n);if(0===r.length)return Pn([],e);const s=new O(function Ck(n,e,t=We){return r=>{sT(e,()=>{const{length:i}=n,s=new Array(i);let a=i,l=i;for(let c=0;c<i;c++)sT(e,()=>{const h=Pn(n[c],e);let f=!1;h.subscribe(de(r,g=>{s[c]=g,f||(f=!0,l--),l||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>iT(i,a):We));return t?s.pipe(rT(t)):s}(n.map(e=>e.pipe(so(1),Ub(ef)))).pipe(lT((e,t)=>{let r=!1;return t.reduce((i,s,a)=>i!==ef?i:(s===ef&&(r=!0),r||!1!==s&&a!==t.length-1&&!wl(s)?i:s),e)},ef),ac(e=>e!==ef),ve(e=>wl(e)?e:!0===e),so(1)))}class wL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nf,this.attachRef=null}}class nf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wL,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let n0=(()=>{class n{constructor(t,r,i,s,a){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new kt,this.deactivateEvents=new kt,this.attachEvents=new kt,this.detachEvents=new kt,this.name=s||Et,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const a=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,c=new DL(t,l,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(se(nf),se(Zi),se(Fh),function yo(n){return function dd(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Yn(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(sn(),n)}("name"),se(sc))},n.\u0275dir=Ke({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class DL{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===dc?this.route:e===nf?this.childContexts:this.parent.get(e,t)}}let HT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ts({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Ar(0,"router-outlet")},directives:[n0],encapsulation:2}),n})();function jT(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];SL(r,AL(e,r))}}function SL(n,e){n.children&&jT(n.children,e)}function AL(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function r0(n){const e=n.children&&n.children.map(r0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Et&&(t.component=HT),t}function Ji(n){return n.outlet||Et}function UT(n,e){const t=n.filter(r=>Ji(r)===e);return t.push(...n.filter(r=>Ji(r)!==e)),t}const $T={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},$T):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Vk)(t,n,e);if(!s)return Object.assign({},$T);const a={};gr(s.posParams,(c,h)=>{a[h]=c.path});const l=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function e_(n,e,t,r,i="corrected"){if(t.length>0&&function IL(n,e,t){return t.some(r=>t_(n,e,r)&&Ji(r)!==Et)}(n,t,r)){const a=new It(e,function ML(n,e,t,r){const i={};i[Et]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ji(s)!==Et){const a=new It([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Ji(s)]=a}return i}(n,e,r,new It(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function PL(n,e,t){return t.some(r=>t_(n,e,r))}(n,t,r)){const a=new It(n.segments,function TL(n,e,t,r,i,s){const a={};for(const l of r)if(t_(n,t,l)&&!i[Ji(l)]){const c=new It([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===s?n.segments.length:e.length,a[Ji(l)]=c}return Object.assign(Object.assign({},i),a)}(n,e,t,r,n.children,i));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const s=new It(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function t_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function WT(n,e,t,r){return!!(Ji(n)===r||r!==Et&&t_(e,t,n))&&("**"===n.path||Jm(e,n,t).matched)}function KT(n,e,t){return 0===e.length&&!n.children[t]}class n_{constructor(e){this.segmentGroup=e||null}}class GT{constructor(e){this.urlTree=e}}function rf(n){return $m(new n_(n))}function zT(n){return $m(new GT(n))}class FL{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Ao)}apply(){const e=e_(this.urlTree.root,[],[],this.config).segmentGroup,t=new It(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Et).pipe(ve(s=>this.createUrlTree(s0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ba(s=>{if(s instanceof GT)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof n_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Et).pipe(ve(i=>this.createUrlTree(s0(i),e.queryParams,e.fragment))).pipe(ba(i=>{throw i instanceof n_?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new It([],{[Et]:e}):e;return new bl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ve(s=>new It([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Pn(i).pipe(qh(s=>{const a=r.children[s],l=UT(t,s);return this.expandSegmentGroup(e,l,a,s).pipe(ve(c=>({segment:c,outlet:s})))}),lT((s,a)=>(s[a.outlet]=a.segment,s),{}),function Sk(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ac((i,s)=>n(i,s,r)):We,$b(1),t?cT(e):uT(()=>new Wm))}())}expandSegment(e,t,r,i,s,a){return Pn(r).pipe(qh(l=>this.expandSegmentAgainstRoute(e,t,r,l,i,s,a).pipe(ba(h=>{if(h instanceof n_)return _t(null);throw h}))),lc(l=>!!l),ba((l,c)=>{if(l instanceof Wm||"EmptyError"===l.name)return KT(t,i,s)?_t(new It([],{})):rf(t);throw l}))}expandSegmentAgainstRoute(e,t,r,i,s,a,l){return WT(i,t,s,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a):rf(t):rf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zT(s):this.lineralizeSegments(r,s).pipe(In(a=>{const l=new It(a,{});return this.expandSegment(e,l,t,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){const{matched:l,consumedSegments:c,remainingSegments:h,positionalParamSegments:f}=Jm(t,i,s);if(!l)return rf(t);const g=this.applyRedirectCommands(c,i.redirectTo,f);return i.redirectTo.startsWith("/")?zT(g):this.lineralizeSegments(i,g).pipe(In(v=>this.expandSegment(e,t,r,v.concat(h),a,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?_t(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ve(g=>(r._loadedConfig=g,new It(i,{})))):_t(new It(i,{}));const{matched:a,consumedSegments:l,remainingSegments:c}=Jm(t,r,i);return a?this.getChildConfig(e,r,i).pipe(In(f=>{const g=f.module,v=f.routes,{segmentGroup:b,slicedSegments:T}=e_(t,l,c,v),j=new It(b.segments,b.children);if(0===T.length&&j.hasChildren())return this.expandChildren(g,v,j).pipe(ve(Ce=>new It(l,Ce)));if(0===v.length&&0===T.length)return _t(new It(l,{}));const Q=Ji(r)===s;return this.expandSegment(g,j,v,T,Q?Et:s,!0).pipe(ve($=>new It(l.concat($.segments),$.children)))})):rf(t)}getChildConfig(e,t,r){return t.children?_t(new t0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?_t(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(In(i=>i?this.configLoader.load(e.injector,t).pipe(ve(s=>(t._loadedConfig=s,s))):function RL(n){return $m(Kb(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):_t(new t0([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?_t(i.map(a=>{const l=e.get(a);let c;if(function yL(n){return n&&Ea(n.canLoad)}(l))c=l.canLoad(t,r);else{if(!Ea(l))throw new Error("Invalid CanLoad guard");c=l(t,r)}return eo(c)})).pipe(tf(),li(a=>{if(!wl(a))return;const l=Kb(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw l.url=a,l}),ve(a=>!0===a)):_t(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return _t(r);if(i.numberOfChildren>1||!i.children[Et])return $m(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new bl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return gr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);r[s]=t[l]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let a={};return gr(t.children,(l,c)=>{a[c]=this.createSegmentGroup(e,l,r,i)}),new It(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function s0(n){const e={};for(const r of Object.keys(n.children)){const s=s0(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function NL(n){if(1===n.numberOfChildren&&n.children[Et]){const e=n.children[Et];return new It(n.segments.concat(e.segments),e.children)}return n}(new It(n.segments,e))}class qT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class r_{constructor(e,t){this.component=e,this.route=t}}function LL(n,e,t){const r=n._root;return sf(r,e?e._root:null,t,[r.value])}function i_(n,e,t){const r=function VL(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function sf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=cc(e);return n.children.forEach(a=>{(function HL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function jL(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!El(n.url,e.url);case"pathParamsOrQueryParamsChange":return!El(n.url,e.url)||!Js(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yb(n,e)||!Js(n.queryParams,e.queryParams);default:return!Yb(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qT(r)):(s.data=a.data,s._resolvedData=a._resolvedData),sf(n,e,s.component?l?l.children:null:t,r,i),c&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new r_(l.outlet.component,a))}else a&&af(e,l,i),i.canActivateChecks.push(new qT(r)),sf(n,null,s.component?l?l.children:null:t,r,i)})(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),gr(s,(a,l)=>af(a,t.getContext(l),i)),i}function af(n,e,t){const r=cc(n),i=n.value;gr(r,(s,a)=>{af(s,i.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new r_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class ZL{}function QT(n){return new O(e=>e.error(n))}class XL{constructor(e,t,r,i,s,a){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const e=e_(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Et);if(null===t)return null;const r=new Zm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Oo(r,t),s=new xT(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=RT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const a=t.children[s],l=UT(e,s),c=this.processSegmentGroup(l,a,s);if(null===c)return null;r.push(...c)}const i=ZT(r);return function JL(n){n.sort((e,t)=>e.value.outlet===Et?-1:t.value.outlet===Et?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const a=this.processSegmentAgainstRoute(s,t,r,i);if(null!==a)return a}return KT(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!WT(e,t,r,i))return null;let s,a=[],l=[];if("**"===e.path){const b=r.length>0?vT(r).parameters:{};s=new Zm(r,b,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JT(e),Ji(e),e.component,e,YT(t),XT(t)+r.length,eM(e))}else{const b=Jm(t,e,r);if(!b.matched)return null;a=b.consumedSegments,l=b.remainingSegments,s=new Zm(a,b.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JT(e),Ji(e),e.component,e,YT(t),XT(t)+a.length,eM(e))}const c=function eB(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:h,slicedSegments:f}=e_(t,a,l,c.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution);if(0===f.length&&h.hasChildren()){const b=this.processChildren(c,h);return null===b?null:[new Oo(s,b)]}if(0===c.length&&0===f.length)return[new Oo(s,[])];const g=Ji(e)===i,v=this.processSegment(c,h,f,g?Et:i);return null===v?null:[new Oo(s,v)]}}function tB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ZT(n){const e=[],t=new Set;for(const r of n){if(!tB(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ZT(r.children);e.push(new Oo(r.value,i))}return e.filter(r=>!t.has(r))}function YT(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function XT(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function JT(n){return n.data||{}}function eM(n){return n.resolve||{}}function tM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function o0(n){return Ca(e=>{const t=n(e);return t?Pn(t).pipe(ve(()=>e)):_t(e)})}class uB extends class lB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const a0=new Ve("ROUTES");class nM{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const a=s.create(e);return new t0(_T(a.injector.get(a0,void 0,nt.Self|nt.Optional)).map(r0),a)}),ba(s=>{throw t._loader$=void 0,s}));return t._loader$=new Ek(i,()=>new J).pipe(aT()),t._loader$}loadModuleFactory(e){return eo(e()).pipe(In(t=>t instanceof hS?_t(t):Pn(this.compiler.compileModuleAsync(t))))}}class dB{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hB(n){throw n}function fB(n,e,t){return e.parse("/")}function rM(n,e){return _t(null)}const pB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class n{constructor(t,r,i,s,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new J,this.errorHandler=hB,this.malformedUriErrorHandler=fB,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rM,afterPreactivation:rM},this.urlHandlingStrategy=new dB,this.routeReuseStrategy=new uB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Ao),this.console=a.get(ZS);const g=a.get(yn);this.isNgZoneEnabled=g instanceof yn&&yn.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function jk(){return new bl(new It([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nM(a,l,v=>this.triggerEvent(new hT(v)),v=>this.triggerEvent(new fT(v))),this.routerState=OT(this.currentUrlTree,this.rootComponentType),this.transitions=new jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ac(i=>0!==i.id),ve(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ca(i=>{let s=!1,a=!1;return _t(i).pipe(li(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ca(l=>{const c=this.browserUrlTree.toString(),h=!this.navigated||l.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return iM(l.source)&&(this.browserUrlTree=l.extractedUrl),_t(l).pipe(Ca(g=>{const v=this.transitions.getValue();return r.next(new Wb(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),v!==this.transitions.getValue()?is:Promise.resolve(g)}),function kL(n,e,t,r){return Ca(i=>function xL(n,e,t,r,i){return new FL(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ve(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),li(g=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function nB(n,e,t,r,i){return In(s=>function YL(n,e,t,r,i="emptyOnly",s="legacy"){try{const a=new XL(n,e,t,r,i,s).recognize();return null===a?QT(new ZL):_t(a)}catch(a){return QT(a)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(ve(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),li(g=>{if("eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const b=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(b,g)}this.browserUrlTree=g.urlAfterRedirects}const v=new Mk(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);r.next(v)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:v,extractedUrl:b,source:T,restoredState:j,extras:Q}=l,ae=new Wb(v,this.serializeUrl(b),T,j);r.next(ae);const $=OT(b,this.rootComponentType).snapshot;return _t(Object.assign(Object.assign({},l),{targetSnapshot:$,urlAfterRedirects:b,extras:Object.assign(Object.assign({},Q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,l.resolve(null),is}),o0(l=>{const{targetSnapshot:c,id:h,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:v,replaceUrl:b}}=l;return this.hooks.beforePreactivation(c,{navigationId:h,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!v,replaceUrl:!!b})}),li(l=>{const c=new Ik(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ve(l=>Object.assign(Object.assign({},l),{guards:LL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function UL(n,e){return In(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?_t(Object.assign(Object.assign({},t),{guardsResult:!0})):function $L(n,e,t,r){return Pn(n).pipe(In(i=>function QL(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?_t(s.map(l=>{const c=i_(l,e,i);let h;if(function EL(n){return n&&Ea(n.canDeactivate)}(c))h=eo(c.canDeactivate(n,e,t,r));else{if(!Ea(c))throw new Error("Invalid CanDeactivate guard");h=eo(c(n,e,t,r))}return h.pipe(lc())})).pipe(tf()):_t(!0)}(i.component,i.route,t,e,r)),lc(i=>!0!==i,!0))}(a,r,i,n).pipe(In(l=>l&&function vL(n){return"boolean"==typeof n}(l)?function WL(n,e,t,r){return Pn(e).pipe(qh(i=>jb(function GL(n,e){return null!==n&&e&&e(new xk(n)),_t(!0)}(i.route.parent,r),function KL(n,e){return null!==n&&e&&e(new Nk(n)),_t(!0)}(i.route,r),function qL(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function BL(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>oT(()=>_t(a.guards.map(c=>{const h=i_(c,a.node,t);let f;if(function bL(n){return n&&Ea(n.canActivateChild)}(h))f=eo(h.canActivateChild(r,n));else{if(!Ea(h))throw new Error("Invalid CanActivateChild guard");f=eo(h(r,n))}return f.pipe(lc())})).pipe(tf())));return _t(s).pipe(tf())}(n,i.path,t),function zL(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _t(!0);const i=r.map(s=>oT(()=>{const a=i_(s,e,t);let l;if(function CL(n){return n&&Ea(n.canActivate)}(a))l=eo(a.canActivate(e,n));else{if(!Ea(a))throw new Error("Invalid CanActivate guard");l=eo(a(e,n))}return l.pipe(lc())}));return _t(i).pipe(tf())}(n,i.route,t))),lc(i=>!0!==i,!0))}(r,s,n,e):_t(l)),ve(l=>Object.assign(Object.assign({},t),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),li(l=>{if(wl(l.guardsResult)){const h=Kb(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw h.url=l.guardsResult,h}const c=new Pk(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(c)}),ac(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),o0(l=>{if(l.guards.canActivateChecks.length)return _t(l).pipe(li(c=>{const h=new Ok(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(h)}),Ca(c=>{let h=!1;return _t(c).pipe(function rB(n,e){return In(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _t(t);let s=0;return Pn(i).pipe(qh(a=>function iB(n,e,t,r){return function sB(n,e,t,r){const i=tM(n);if(0===i.length)return _t({});const s={};return Pn(i).pipe(In(a=>function oB(n,e,t,r){const i=i_(n,e,r);return eo(i.resolve?i.resolve(e,t):i(e,t))}(n[a],e,t,r).pipe(li(l=>{s[a]=l}))),$b(1),In(()=>tM(s).length===i.length?_t(s):is))}(n._resolve,n,e,r).pipe(ve(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),RT(n,t).resolve),null)))}(a.route,r,n,e)),li(()=>s++),$b(1),In(a=>s===i.length?_t(t):is))})}(this.paramsInheritanceStrategy,this.ngModule.injector),li({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),li(c=>{const h=new Rk(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(h)}))}),o0(l=>{const{targetSnapshot:c,id:h,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:v,replaceUrl:b}}=l;return this.hooks.afterPreactivation(c,{navigationId:h,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!v,replaceUrl:!!b})}),ve(l=>{const c=function sL(n,e,t){const r=Xh(n,e._root,t?t._root:void 0);return new PT(r,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:c})}),li(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>ve(r=>(new mL(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),li({next(){s=!0},complete(){s=!0}}),function Ak(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var l;s||a||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(l=this.currentNavigation)||void 0===l?void 0:l.id)===i.id&&(this.currentNavigation=null)}),ba(l=>{if(a=!0,function Bk(n){return n&&n[gT]}(l)){const c=wl(l.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const h=new dT(i.id,this.serializeUrl(i.extractedUrl),l.message);r.next(h),c?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),g={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iM(i.source)};this.scheduleNavigation(f,"imperative",null,g,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new Tk(i.id,this.serializeUrl(i.extractedUrl),l);r.next(c);try{i.resolve(this.errorHandler(l))}catch(h){i.reject(h)}}return is}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},a=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(a){const c=Object.assign({},a);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){jT(t),this.config=t.map(r0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,h=i||this.routerState.root,f=c?this.currentUrlTree.fragment:a;let g=null;switch(l){case"merge":g=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),function lL(n,e,t,r,i){if(0===t.length)return Xb(e.root,e.root,e.root,r,i);const s=function uL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kT(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return gr(s.outlets,(c,h)=>{l[h]="string"==typeof c?c.split("/"):c}),[...i,{outlets:l}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?t=!0:".."===l?e++:""!=l&&i.push(l))}),i):[...i,s]},[]);return new kT(t,e,r)}(t);if(s.toRoot())return Xb(e.root,e.root,new It([],{}),r,i);const a=function cL(n,e,t){if(n.isAbsolute)return new Jb(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Jb(s,s===e.root,0)}const r=Ym(n.commands[0])?0:1;return function dL(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Jb(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),l=a.processChildren?Xm(a.segmentGroup,a.index,s.commands):LT(a.segmentGroup,a.index,s.commands);return Xb(e.root,a.segmentGroup,l,r,i)}(h,this.currentUrlTree,t,g,null!=f?f:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=wl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function mB(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},pB):!1===r?Object.assign({},gB):r,wl(t))return CT(this.currentUrlTree,t,i);const s=this.parseUrl(t);return CT(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,a){var l,c;if(this.disposed)return Promise.resolve(!1);let h,f,g;a?(h=a.resolve,f=a.reject,g=a.promise):g=new Promise((T,j)=>{h=T,f=j});const v=++this.navigationId;let b;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),b=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):b=0,this.setTransition({id:v,targetPageId:b,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(T=>Promise.reject(T))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new dT(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){TC()},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();function iM(n){return"imperative"!==n}class sM{}class oM{preload(e,t){return _t(null)}}let aM=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new nM(i,r,c=>t.triggerEvent(new hT(c)),c=>t.triggerEvent(new fT(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(ac(t=>t instanceof Qh),qh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Ao);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Pn(i).pipe(Pa(),ve(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?_t(r._loadedConfig):this.loader.load(t.injector,r)).pipe(In(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Ae(Di),Ae(YS),Ae(m),Ae(sM))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})(),c0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){TC()},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();const Dl=new Ve("ROUTER_CONFIGURATION"),lM=new Ve("ROUTER_FORROOT_GUARD"),CB=[bb,{provide:DT,useClass:ST},{provide:Di,useFactory:function SB(n,e,t,r,i,s,a={},l,c){const h=new Di(null,n,e,t,r,i,_T(s));return l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),function AB(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,h),a.enableTracing&&h.events.subscribe(f=>{var g,v;null===(g=console.group)||void 0===g||g.call(console,`Router Event: ${f.constructor.name}`),console.log(f.toString()),console.log(f),null===(v=console.groupEnd)||void 0===v||v.call(console)}),h},deps:[DT,nf,bb,m,YS,a0,Dl,[class cB{},new ds],[class aB{},new ds]]},nf,{provide:dc,useFactory:function TB(n){return n.routerState.root},deps:[Di]},aM,oM,class yB{preload(e,t){return t().pipe(ba(()=>_t(null)))}},{provide:Dl,useValue:{enableTracing:!1}}];function bB(){return new nA("Router",Di)}let uM=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[CB,cM(t),{provide:lM,useFactory:DB,deps:[[Di,new ds,new ia]]},{provide:Dl,useValue:r||{}},{provide:oc,useFactory:wB,deps:[Cl,[new Ja(Cb),new ds],Dl]},{provide:c0,useFactory:EB,deps:[Di,MN,Dl]},{provide:sM,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:oM},{provide:nA,multi:!0,useFactory:bB},[d0,{provide:sb,multi:!0,useFactory:MB,deps:[d0]},{provide:dM,useFactory:IB,deps:[d0]},{provide:QS,multi:!0,useExisting:dM}]]}}static forChild(t){return{ngModule:n,providers:[cM(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Ae(lM,8),Ae(Di,8))},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})();function EB(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new c0(n,e,t)}function wB(n,e,t={}){return t.useHash?new hF(n,e):new EA(n,e)}function DB(n){return"guarded"}function cM(n){return[{provide:ei,multi:!0,useValue:n},{provide:a0,multi:!0,useValue:n}]}let d0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new J}appInitializer(){return this.injector.get(uF,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(l=>r=l),s=this.injector.get(Di),a=this.injector.get(Dl);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?_t(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Dl),i=this.injector.get(aM),s=this.injector.get(c0),a=this.injector.get(Di),l=this.injector.get(fb);t===l.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&a.initialNavigation(),i.setUpPreloading(),s.init(),a.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Ae(m))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();function MB(n){return n.appInitializer.bind(n)}function IB(n){return n.bootstrapListener.bind(n)}const dM=new Ve("Router Initializer"),OB=[];let RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({imports:[[uM.forRoot(OB)],uM]}),n})();var xB=R(387);class FB{constructor(e){this.chess=e}evaluateCastel(e){return e.move.san.includes("O-O")?"b"===this.chess.turn()?.1:-.1:0}}class NB{constructor(e){this.chess=e}description(){return"Center"}score(){return this.scoreWhiteCenter()+this.scoreBlackCenter()}scoreWhiteCenter(){var e,t,r,i,s,a,l,c;let h=0;return"w"===(null===(e=this.chess.get("c4"))||void 0===e?void 0:e.color)&&"p"===(null===(t=this.chess.get("c4"))||void 0===t?void 0:t.type)&&(h+=.1),"w"===(null===(r=this.chess.get("d4"))||void 0===r?void 0:r.color)&&"p"===(null===(i=this.chess.get("d4"))||void 0===i?void 0:i.type)&&(h+=.1),"w"===(null===(s=this.chess.get("e4"))||void 0===s?void 0:s.color)&&"p"===(null===(a=this.chess.get("e4"))||void 0===a?void 0:a.type)&&(h+=.1),"w"===(null===(l=this.chess.get("f4"))||void 0===l?void 0:l.color)&&"p"===(null===(c=this.chess.get("f4"))||void 0===c?void 0:c.type)&&(h+=.1),h}scoreBlackCenter(){var e,t,r,i,s,a,l,c;let h=0;return"b"===(null===(e=this.chess.get("c5"))||void 0===e?void 0:e.color)&&"p"===(null===(t=this.chess.get("c5"))||void 0===t?void 0:t.type)&&(h-=.1),"b"===(null===(r=this.chess.get("d5"))||void 0===r?void 0:r.color)&&"p"===(null===(i=this.chess.get("d5"))||void 0===i?void 0:i.type)&&(h-=.1),"b"===(null===(s=this.chess.get("e5"))||void 0===s?void 0:s.color)&&"p"===(null===(a=this.chess.get("e5"))||void 0===a?void 0:a.type)&&(h-=.1),"b"===(null===(l=this.chess.get("f5"))||void 0===l?void 0:l.color)&&"p"===(null===(c=this.chess.get("f5"))||void 0===c?void 0:c.type)&&(h-=.1),h}}class kB{constructor(e){this.chess=e}description(){return"Peaces"}score(){let e=0;for(let t=0;t<8;t++)this.isPeaceOnFirstLine(this.chess.board()[7][t],"w")&&(e-=.1),this.isPeaceOnFirstLine(this.chess.board()[0][t],"b")&&(e+=.1);return e}isPeaceOnFirstLine(e,t){return(null==e?void 0:e.color)==t&&("n"===(null==e?void 0:e.type)||"b"===(null==e?void 0:e.type)||"q"===(null==e?void 0:e.type))}}class h0{constructor(e,t=0){this.move=e,this.score=t,this.check=0,this.scoreList=new Map}}class LB{constructor(e){this.chess=e}description(){return"OpenLine"}score(){let e=0,t=this.chess.board();for(let r=0;r<8;r++){let i=!0,s=!0,a=!0,l=0,c=0;for(let h=0;h<8;h++){let f=t[h][r];"r"===(null==f?void 0:f.type)||"q"===(null==f?void 0:f.type)?"w"===(null==f?void 0:f.color)&&h>1?l++:"b"===f.color&&h<6&&c++:"p"===(null==f?void 0:f.type)&&(i=!1,"w"===(null==f?void 0:f.color)?s=!1:a=!1)}i?e+=.1*(l-c):s?e+=.05*l:a&&(e-=.05*c)}return e}}class BB{constructor(e){this.chess=e}description(){return"LastRanks"}score(){return.25*(this.countForWhite()-this.countForBlack())}countForWhite(){let e=this.chess.board(),t=0;for(let r=0;r<2;r++)for(let i=0;i<8;i++){let s=e[r][i];("r"===(null==s?void 0:s.type)||"q"===(null==s?void 0:s.type))&&"w"===(null==s?void 0:s.color)&&t++}return t}countForBlack(){let e=this.chess.board(),t=0;for(let r=6;r<8;r++)for(let i=0;i<8;i++){let s=e[r][i];("r"===(null==s?void 0:s.type)||"q"===(null==s?void 0:s.type))&&"b"===(null==s?void 0:s.color)&&t++}return t}}class VB{constructor(e){this.chess=e}description(){return"PassedPawn"}score(){let e=0;return e+=this.scoreWhite(),e+=this.scoreBlack(),e}scoreWhite(){let e=0,t=this.chess.board(),r=new Array,i=8;for(let s=1;s<7&&0!=i;s++)for(let a=0;a<8;a++){let l=t[s][a];"p"===(null==l?void 0:l.type)&&("b"===(null==l?void 0:l.color)?(r[a]=!1,i--,a>0&&null==r[a-1]&&(r[a-1]=!1,i--),a<7&&null==r[a+1]&&!this.isWhitePawn(t[s][a+1])&&(r[a+1]=!1,i--)):"w"===(null==l?void 0:l.color)&&0!=r[a]&&(r[a]=!0,e+=(7-s)*(7-s)*.02,i--))}return e}scoreBlack(){let e=0,t=this.chess.board(),r=new Array,i=8;for(let s=7;s>0&&0!=i;s--)for(let a=0;a<8;a++){let l=t[s][a];"p"===(null==l?void 0:l.type)&&("w"===(null==l?void 0:l.color)?(r[a]=!1,i--,a>0&&null==r[a-1]&&(r[a-1]=!1,i--),a<7&&null==r[a+1]&&!this.isBlackPawn(t[s][a+1])&&(r[a+1]=!1,i--)):"b"===(null==l?void 0:l.color)&&0!=r[a]&&(r[a]=!0,e-=s*s*.02,i--))}return e}isWhitePawn(e){return"p"===(null==e?void 0:e.type)&&"w"===(null==e?void 0:e.color)}isBlackPawn(e){return"p"===(null==e?void 0:e.type)&&"b"===(null==e?void 0:e.color)}}var HB=R(478),hM=R.n(HB),jB=R(74);class UB{constructor(){this.token="lip_U2PnD9AVg0rt8zcIsjYk",this.baseURL="https://lichess.org/",this.headers={Authorization:`Bearer ${this.token}`},this.axiosConfig={baseURL:this.baseURL,headers:this.headers}}getOnlineBots(){return this.get("api/bot/online")}acceptChallenge(e){return this.post(`api/challenge/${e}/accept`)}declineChallenge(e){return this.post(`api/challenge/${e}/decline`)}upgrade(){return this.post("api/bot/account/upgrade")}accountInfo(){return this.get("api/account")}makeMove(e,t){return this.post(`api/bot/game/${e}/move/${t}`)}abortGame(e){return this.post(`api/bot/game/${e}/abort`)}resignGame(e){return this.post(`api/bot/game/${e}/resign`)}streamEvents(e){return this.stream("api/stream/event",e)}streamGame(e,t){return this.stream(`api/bot/game/stream/${e}`,t)}chat(e,t,r){return this.post(`api/bot/game/${e}/chat`,{room:t,text:r})}logAndReturn(e){return console.log(JSON.stringify(e.data)),e}challenge(e){return this.post(`api/challenge/${e}`,{rated:!0,clock:{limit:60,increment:1},variant:"standard",keepAliveStream:"false"})}get(e){return console.log(`GET ${e}`),hM().get(e+"?v="+Date.now(),this.axiosConfig).then(this.logAndReturn).catch(t=>console.log(t))}post(e,t){return console.log(`POST ${e} `+JSON.stringify(t||{})),hM().post(e,t||{},this.axiosConfig).then(this.logAndReturn).catch(r=>console.log(r.response||r))}stream(e,t){console.log(`GET ${e} stream`),jB({method:"GET",url:this.baseURL+e,headers:this.headers}).node("!",function(r){console.log("STREAM data : "+JSON.stringify(r)),t(r)}).fail(function(r){console.error(JSON.stringify(r))})}}function fM(n,e,t,r,i,s,a){try{var l=n[s](a),c=l.value}catch(h){return void t(h)}l.done?e(c):Promise.resolve(c).then(r,i)}function pM(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function a(c){fM(s,r,i,a,l,"next",c)}function l(c){fM(s,r,i,a,l,"throw",c)}a(void 0)})}}class $B{constructor(e,t,r,i){this.gameId="",this.colour="",this.api=e,this.name=t,this.replyChat=r,this.getNextMove=i}start(e){this.gameId=e,this.api.streamGame(e,t=>this.handler(t))}handleChatLine(e){if(e.username!==this.name){const t=this.replyChat(e);t&&this.api.chat(this.gameId,e.room,t)}}handler(e){switch(e.type){case"chatLine":this.handleChatLine(e);break;case"gameFull":this.colour=this.playingAs(e),this.playNextMove(e.state.moves);break;case"gameState":this.playNextMove(e.moves);break;default:console.log("Unhandled game event : "+JSON.stringify(e))}}playNextMove(e){const t=""===e?[]:e.split(" ");if(this.isTurn(this.colour,t)){const r=this.getNextMove(t);r&&(console.log(this.name+" as "+this.colour+" to move "+r),this.api.makeMove(this.gameId,r))}}playingAs(e){return e.white.name===this.name?"white":"black"}isTurn(e,t){var r=t.length%2;return"white"===e?0===r:1===r}}class WB{constructor(e,t,r){this.api=e,this.replyChat=t,this.getNextMove=r}start(){var e=this;return pM(function*(){return e.account=yield e.api.accountInfo(),console.log("Playing as "+e.account.data.username),e.api.streamEvents(t=>e.eventHandler(t)),e.account})()}eventHandler(e){switch(e.type){case"challenge":this.handleChallenge(e.challenge);break;case"gameStart":this.handleGameStart(e.game.id);break;default:console.log("Unhandled event : "+JSON.stringify(e))}}handleGameStart(e){new $B(this.api,this.account.data.username,this.replyChat,this.getNextMove).start(e)}handleChallenge(e){var t=this;return pM(function*(){if(e.rated){console.log("Declining rated challenge from "+e.challenger.id);const r=yield t.api.declineChallenge(e.id);console.log("Declined",r.data||r)}else{console.log("Accepting unrated challenge from "+e.challenger.id);const r=yield t.api.acceptChallenge(e.id);console.log("Accepted",r.data||r)}})()}}class gM{constructor(){this.pawns=0,this.knighs=0,this.bishops=0,this.rooks=0,this.queens=0}clear(){this.pawns=0,this.knighs=0,this.bishops=0,this.rooks=0,this.queens=0}score(){let e=this.pawns+3*this.knighs+3*this.bishops+5*this.rooks+9*this.queens;return 2==this.bishops&&(e+=.5),e}getAllPeaces(){return this.knighs+this.bishops+this.rooks+this.queens}}class KB{constructor(e){this.chess=e,this.whiteCount=new gM,this.blackCount=new gM,this.whiteKingPosition={x:-1,y:-1},this.blackKingPosition={x:-1,y:-1}}description(){return"Material"}score(){let e=0;return this.whiteCount.clear(),this.blackCount.clear(),this.checkMaterial(),e=this.whiteCount.score()-this.blackCount.score(),e}checkMaterial(){var e,t,r,i,s;let a=this.chess.board();for(let l=0;l<8;l++)for(let c=0;c<8;c++)a[l][c]&&("w"==(null===(e=a[l][c])||void 0===e?void 0:e.color)?(this.countPieceMaterial(null===(t=a[l][c])||void 0===t?void 0:t.type,this.whiteCount),"k"===(null===(r=a[l][c])||void 0===r?void 0:r.type)&&(this.whiteKingPosition={x:c,y:l})):(this.countPieceMaterial(null===(i=a[l][c])||void 0===i?void 0:i.type,this.blackCount),"k"===(null===(s=a[l][c])||void 0===s?void 0:s.type)&&(this.blackKingPosition={x:c,y:l})))}countPieceMaterial(e,t){switch(e){case"p":t.pawns++;break;case"n":t.knighs++;break;case"b":t.bishops++;break;case"r":t.rooks++;break;case"q":t.queens++}}evaluatePieceMaterial(e){switch(e){case"p":return 1;case"n":return 3;case"b":return"w"==this.chess.turn()&&2==this.blackCount.bishops||"b"==this.chess.turn()&&2==this.whiteCount.bishops?3.5:3;case"r":return 5;case"q":return 9;default:return 0}}}class et{constructor(e,t,r){this.decription=e,this.fen=t,this.bestMove=r}}class GB{constructor(e,t){this.loadFen=e,this.getNextMove=t,this.verbose=!1}test(){console.log("TEST START");let e=0,t=0;this.loadTests().forEach(r=>{this.loadFen(r.fen);let i=this.getNextMove(),s=`${i.move.from}${i.move.to}`;this.verbose?(console.log("TEST - "+r.decription),console.log(`${s} | ${r.bestMove}`)):`${s}`!=`${r.bestMove}`?(console.warn(`${r.decription} | ${s} | ${r.bestMove}`),t++):e++}),console.log(`Total:${e+t} | Passed:${e} | Faild:${t}`),console.log("TEST END")}loadTests(){let e=[];return e.push(...this.center()),e.push(...this.peaces()),e.push(...this.castle()),e.push(...this.openLine()),e.push(...this.lastRank()),e.push(...this.passedPawn()),e.push(...this.exchange()),e.push(...this.twoBishops()),e.push(...this.promotion()),e.push(...this.kingRing()),e}center(){let e=[];return e.push(new et("Center - c4","rnbqkbnr/pppppppp/8/8/3PPP2/5N2/PPPNB1PP/R1BQ1RK1 w Qkq - 0 1","c2c4")),e.push(new et("Center - d4","rnbqkbnr/pppppppp/8/8/2P1PP2/2N2N2/PPQPB1PP/R1B2RK1 w Qkq - 0 1","d2d4")),e.push(new et("Center - e4","rnbqkbnr/pppppppp/8/8/2PP1P2/1QNB1N2/PP1BP1PP/R4RK1 w Qkq - 0 1","e2e4")),e.push(new et("Center - f4","rnbqkbnr/pppppppp/8/8/2PPP3/1QNB4/PP1BNPPP/R4RK1 w Qkq - 0 1","f2f4")),e.push(new et("Center - c5","r1bq1rk1/pppnb1pp/5n2/3ppp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","c7c5")),e.push(new et("Center - d5","r1b2rk1/ppqpb1pp/n4n2/2p1pp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","d7d5")),e.push(new et("Center - e5","r4rk1/ppqbp1pp/n2b1n2/2pp1p2/8/6P1/PPPPPP1P/RNBQKBNR b KQq - 0 1","e7e5")),e.push(new et("Center - f5","r4rk1/ppqbnppp/n2b4/2ppp3/8/6P1/PPPPPP1P/RNBQKBNR b KQq - 0 1","f7f5")),e}peaces(){let e=[];return e.push(new et("Peaces - Nb1","rnbqkbnr/pppppppp/8/8/2PPPP2/P4N2/1PQBB1PP/RN3RK1 w Qkq - 0 1","b1c3")),e.push(new et("Peaces - Ng1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1N4P/1PQBB1P1/2KR2NR w Kkq - 0 1","g1f3")),e.push(new et("Peaces - Bc1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1NBN3/1PQ3PP/R1B2RK1 w Qkq - 0 1","c1d2")),e.push(new et("Peaces - Bf1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1NQ1N1P/1P1B2P1/2KR1B1R w Kkq - 0 1","f1e2")),e.push(new et("Peaces - Qd1","rnbqkbnr/pppppppp/8/8/2PPPP2/PPN2N1P/3BB1P1/R2Q1RK1 w kq - 0 1","d1c2")),e.push(new et("Peaces - Nb8","rn3rk1/1pqbb1pp/p4n2/2pppp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","b8c6")),e.push(new et("Peaces - Ng8","2kr2nr/1pqbb1p1/p1n4p/2pppp2/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","g8f6")),e.push(new et("Peaces - Bc8","r1b2rk1/pp2qppp/3bnn2/2ppp3/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","c8d7")),e.push(new et("Peaces - Bf8","2kr1b1r/ppqn1ppp/3p1n2/2pbp3/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","f8e7")),e.push(new et("Peaces - Qd8","r2q1rk1/p2bbppp/1pn2n2/2ppp3/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","d8c7")),e}castle(){let e=[];return e.push(new et("Castel white - 0-0","rnbqkbnr/pppppppp/8/8/3PP3/2N2NP1/PPPBQPBP/1R2K2R w Kkq - 0 1","e1g1")),e.push(new et("Castel white - 0-0-0","rnbqkbnr/pppppppp/8/8/3PP3/2N2NP1/PPPBQPBP/R3K1R1 w Qkq - 0 1","e1c1")),e.push(new et("Castel black - 0-0","1r2k2r/pppq1ppp/2n2n2/2bppb2/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","e8g8")),e.push(new et("Castel black - 0-0-0","r3k1r1/pppq1ppp/2n2n2/2bppb2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","e8c8")),e}openLine(){let e=[];return e.push(new et("Semi-open line - white","rn2k2r/pppbbppp/4pn2/8/8/2NB1N2/PPPP1PPP/R1B2RK1 w Qkq - 0 1","f1e1")),e.push(new et("Semi-open line - black","rn3rk1/1p1b1ppp/p1p1pn2/2b5/8/2NB1N2/PPPP1PPP/R1B2RK1 b Qq - 0 1","f8d8")),e.push(new et("open line vs semi-open - white","rn2k2r/pp1bbppp/4pn2/8/8/N2B1N2/PP1P1PPP/5RK1 w kq - 0 1","f1c1")),e.push(new et("open line vs semi-open - black","rn3rk1/1p1nb2p/p1b3p1/4pp2/8/N2B1N2/PP1P1PPP/5RK1 b q - 0 1","f8c8")),e}lastRank(){let e=[];return e.push(new et("7th rank","4rk2/5ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c7")),e.push(new et("8th rank, no checkmate","5k2/r4ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c8")),e.push(new et("8th rank with checkmate","6k1/r4ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c8")),e.push(new et("2nd rank","5k2/r4ppp/8/8/8/8/4PPP1/2R2K2 b - - 0 1","a7a2")),e.push(new et("1st rank, no checkmate","5k2/r4ppp/8/8/8/8/2R1PP2/5K2 b - - 0 1","a7a1")),e.push(new et("1st rank with checkmate","5k2/r4ppp/8/8/8/8/2R1PPP1/5K2 b - - 0 1","a7a1")),e}passedPawn(){let e=[];return e.push(new et("passed pawn white","5k2/5ppp/1P6/8/8/3K1P2/P7/8 w - - 0 1","b6b7")),e.push(new et("passed pawn black","5k2/6pp/1P6/5p2/8/3K1P2/P7/8 b - - 0 1","h7h5")),e.push(new et("push passed pawn is better than center - white","8/8/8/8/4P3/8/8/k6K w - - 0 1","e4e5")),e.push(new et("push passed pawn is better than center - black","1RK5/p3b3/k6p/2p4P/1p6/8/4r3/8 b - - 1 62","c5c4")),e.push(new et("push passed pawn is better then promotion if new peaces can be captured","8/7p/P1bk4/8/8/2K3R1/6pr/8 b - - 9 54","h7h5")),e}exchange(){let e=[];return e.push(new et("exchange peace when material is in plus","8/4pp2/1p2nk2/3B4/2P2P2/6P1/PP3K2/8 w - - 0 1","d5e6")),e.push(new et("exhange pawns when have advantage and more pawns then 2","8/p1p1pp2/1p2nk2/2P5/5P2/4P1P1/PP1PBK2/8 w - - 0 1","c5b6")),e.push(new et("don't exhange pawns when have advantage and less pawns then 2","8/p7/1p5k/2P5/8/8/4BK2/8 w - - 0 1","c5c6")),e.push(new et("exhange pawns when opponent has advantage","8/p1p1pp2/1p3kn1/2P5/3P1P2/4P1P1/PP2BK2/8 b - - 0 1","b6c5")),e.push(new et("don't exhange peaces when opponeny has advantage","8/p1p1p3/1p2k1n1/2P5/3P1P1B/6P1/PP3K2/8 b - - 0 1","b6c5")),e}twoBishops(){let e=[];return e.push(new et("exchange knight for bishop to have bishop pair","8/p1pbp1b1/1p2k1n1/8/2P2P1B/1P1P2P1/P1BN1K2/8 b - - 0 1","g6h4")),e.push(new et("if have bishop pair don't exhange bishop for knight","8/p1pbpkb1/1p3n2/8/2P2P1B/1N4P1/PPBP1K2/8 w - - 0 1","d2d4")),e}promotion(){let e=[];return e.push(new et("promotion for white","2R5/p3P3/kp5p/2p4P/8/P6K/2rb4/8 w - - 3 49","e7e8")),e.push(new et("promotion for black","8/p5K1/7p/2p3bP/k7/8/1p6/8 b - - 1 72","b2b1")),e}kingRing(){let e=[];return e.push(new et("king ring for white","rnbq1rk1/ppp1bpp1/4pn1p/3p4/3P4/1P2PN2/PBP2PPP/RNQ1KB1R w KQq - 0 1","f1d3")),e.push(new et("king ring for black","rn1q1rk1/pppb2pp/3np3/b2p1p2/3P4/1P1BP3/PBPN1PPP/RN1Q1RK1 b Qq - 0 1","d8h4")),e}}let f0;try{f0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){f0=!1}let lf,p0,zB=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function TN(n){return n===jA}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(Ae(Em))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uf(n){return function qB(){if(null==lf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lf=!0}))}finally{lf=lf||!1}return lf}()?n:!!n.capture}function _M(n){if(function QB(){if(null==p0){const n="undefined"!=typeof document?document.head:null;p0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return p0}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function o_(n){return n.composedPath?n.composedPath()[0]:n.target}function vM(n){return null!=n&&"false"!=`${n}`}function Si(n){return n instanceof Vr?n.nativeElement:n}class p2 extends N{constructor(e,t){super()}schedule(e,t=0){return this}}const a_={setInterval(n,e,...t){const{delegate:r}=a_;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=a_;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class g0 extends p2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return a_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;a_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,P(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const EM={now:()=>(EM.delegate||Date).now(),delegate:void 0};class cf{constructor(e,t=cf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}cf.now=EM.now;class m0 extends cf{constructor(e,t=cf.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const _0=new m0(g0),g2=_0;function wM(n=0,e,t=g2){let r=-1;return null!=e&&(xf(e)?t=e:r=e),new O(i=>{let s=function m2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const df={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=df;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new N(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=df;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=df;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},DM=new class y2 extends m0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class v2 extends g0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=df.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(df.cancelAnimationFrame(t),e._scheduled=void 0)}});function v0(n){return _e((e,t)=>{Wr(n).subscribe(de(t,()=>t.complete(),oe)),!t.closed&&e.subscribe(t)})}let y0,C2=1;const l_={};function SM(n){return n in l_&&(delete l_[n],!0)}const b2={setImmediate(n){const e=C2++;return l_[e]=!0,y0||(y0=Promise.resolve()),y0.then(()=>SM(e)&&n()),e},clearImmediate(n){SM(n)}},{setImmediate:E2,clearImmediate:w2}=b2,u_={setImmediate(...n){const{delegate:e}=u_;return((null==e?void 0:e.setImmediate)||E2)(...n)},clearImmediate(n){const{delegate:e}=u_;return((null==e?void 0:e.clearImmediate)||w2)(n)},delegate:void 0};new class S2 extends m0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class D2 extends g0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=u_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(u_.clearImmediate(t),e._scheduled=void 0)}});let P2=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new J,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function M2(n,e=_0){return function T2(n){return _e((e,t)=>{let r=!1,i=null,s=null,a=!1;const l=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const h=i;i=null,t.next(h)}a&&t.complete()},c=()=>{s=null,a&&t.complete()};e.subscribe(de(t,h=>{r=!0,i=h,s||Wr(n(h)).subscribe(s=de(t,l,c))},()=>{a=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>wM(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(Ae(zB),Ae(yn),Ae(Gn,8))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})();const R2=new Ve("cdk-dir-doc",{providedIn:"root",factory:function x2(){return Xa(Gn)}}),F2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let k2=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new kt,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function N2(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?F2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(R2,8))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C0(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function pc(n,e){const t=e?"":"none";C0(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function AM(n,e,t){C0(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function c_(n,e){return e&&"none"!=e?n+" "+e:n}function TM(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function b0(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function E0(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function w0(n,e,t){const{top:r,bottom:i,left:s,right:a}=n;return t>=r&&t<=i&&e>=s&&e<=a}function hf(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function MM(n,e,t,r){const{top:i,right:s,bottom:a,left:l,width:c,height:h}=n,f=c*e,g=h*e;return r>i-g&&r<a+g&&t>l-f&&t<s+f}class IM{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:E0(t)})})}handleScroll(e){const t=o_(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let s,a;if(t===this._document){const h=this.getViewportScrollPosition();s=h.top,a=h.left}else s=t.scrollTop,a=t.scrollLeft;const l=i.top-s,c=i.left-a;return this.positions.forEach((h,f)=>{h.clientRect&&t!==f&&t.contains(f)&&hf(h.clientRect,l,c)}),i.top=s,i.left=a,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function PM(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?xM(n,e):("input"===r||"select"===r||"textarea"===r)&&RM(n,e),OM("canvas",n,e,xM),OM("input, textarea, select",n,e,RM),e}function OM(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const s=t.querySelectorAll(n);for(let a=0;a<i.length;a++)r(i[a],s[a])}}let B2=0;function RM(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${B2++}`)}function xM(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const FM=uf({passive:!0}),d_=uf({passive:!1}),D0=new Set(["position"]);class H2{constructor(e,t,r,i,s,a){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new J,this._pointerMoveSubscription=N.EMPTY,this._pointerUpSubscription=N.EMPTY,this._scrollSubscription=N.EMPTY,this._resizeSubscription=N.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new J,this.started=new J,this.released=new J,this.ended=new J,this.entered=new J,this.exited=new J,this.dropped=new J,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const b=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),T=this._dropContainer;if(!b)return void this._endDragSequence(l);(!T||!T.isDragging()&&!T.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const h=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,c);else{const f=this._activeTransform;f.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:l,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new IM(r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=vM(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>pc(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Si(r)),this._handles.forEach(r=>pc(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Si(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,d_),t.addEventListener("touchstart",this._pointerDown,FM),t.addEventListener("dragstart",this._nativeDragStart,d_)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Si(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),pc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),pc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){ff(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();i.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),AM(r,!1,D0),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,l).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=ff(t),s=!i&&0!==t.button,a=this._rootElement,l=o_(t),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=i?function h2(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function d2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),r||s||c||h)return;if(this._handles.length){const v=a.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=E0(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){AM(this._rootElement,!0,D0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),a=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,a,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const s=e.matchSize?this._rootElement.getBoundingClientRect():null,a=e.viewContainer.createEmbeddedView(r,e.context);a.detectChanges(),i=kM(a,this._document),this._previewRef=a,e.matchSize?LM(i,s):i.style.transform=h_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;i=PM(s),LM(i,s.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return C0(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},D0),pc(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>i.classList.add(s)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function L2(n){const e=getComputedStyle(n),t=b0(e,"transition-property"),r=t.find(l=>"transform"===l||"all"===l);if(!r)return 0;const i=t.indexOf(r),s=b0(e,"transition-duration"),a=b0(e,"transition-delay");return TM(s[i])+TM(a[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=a=>{var l;(!a||o_(a)===this._preview&&"transform"===a.propertyName)&&(null===(l=this._preview)||void 0===l||l.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=kM(this._placeholderRef,this._document)):r=PM(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,s=i?i.getBoundingClientRect():r,a=ff(t)?t.targetTouches[0]:t,l=this._getViewportScrollPosition();return{x:s.left-r.left+(a.pageX-s.left-l.left),y:s.top-r.top+(a.pageY-s.top-l.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=ff(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,s=r.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=i,l.y=s,l.matrixTransform(a.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:h}=this._getPreviewRect(),f=l.top+a,g=l.bottom-(h-a);r=NM(r,l.left+s,l.right-(c-s)),i=NM(i,f,g)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),l=Math.abs(r-s.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,pc(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,d_),e.removeEventListener("touchstart",this._pointerDown,FM),e.removeEventListener("dragstart",this._nativeDragStart,d_)}_applyRootElementTransform(e,t){const r=h_(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=c_(r,this._initialTransform)}_applyPreviewTransform(e,t){var r;const i=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,s=h_(e,t);this._preview.style.transform=c_(s,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,a=i.right-r.right,l=r.top-i.top,c=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),a>0&&(e-=a)):e=0,r.height>i.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:ff(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=o_(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&hf(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=_M(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Si(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function h_(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function NM(n,e,t){return Math.max(e,Math.min(t,n))}function ff(n){return"t"===n.type[0]}function kM(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function LM(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=h_(e.left,e.top)}function pf(n,e){return Math.max(0,Math.min(e,n))}class U2{constructor(e,t,r,i,s){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new J,this.entered=new J,this.exited=new J,this.dropped=new J,this.sorted=new J,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=N.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new J,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function _2(n=0,e=_0){return n<0&&(n=0),wM(n,n,e)}(0,DM).pipe(v0(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=Si(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new IM(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let s;this._draggingStarted(),null==i?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,r))):s=i;const a=this._activeDraggables,l=a.indexOf(e),c=e.getPlaceholderElement();let h=a[s];if(h===e&&(h=a[s+1]),!h&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(h=a[0]),l>-1&&a.splice(l,1),h&&!this._dragDropRegistry.isDragging(h)){const f=h.getRootElement();f.parentElement.insertBefore(c,f),a.splice(s,0,e)}else Si(this.element).appendChild(c),a.push(e);c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,s,a,l){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:a,dropPoint:l})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Si(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!MM(this._clientRect,.05,t,r))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===a&&s.length>0)return;const l="horizontal"===this._orientation,c=s.findIndex(Q=>Q.drag===e),h=s[a],g=h.clientRect,v=c>a?1:-1,b=this._getItemOffsetPx(s[c].clientRect,g,v),T=this._getSiblingOffsetPx(c,s,v),j=s.slice();(function j2(n,e,t){const r=pf(e,n.length-1),i=pf(t,n.length-1);if(r===i)return;const s=n[r],a=i<r?-1:1;for(let l=r;l!==i;l+=a)n[l]=n[l+a];n[i]=s})(s,c,a),this.sorted.next({previousIndex:c,currentIndex:a,container:this,item:e}),s.forEach((Q,ae)=>{if(j[ae]===Q)return;const $=Q.drag===e,Ce=$?b:T,Ne=$?e.getPlaceholderElement():Q.drag.getRootElement();Q.offset+=Ce,l?(Ne.style.transform=c_(`translate3d(${Math.round(Q.offset)}px, 0, 0)`,Q.initialTransform),hf(Q.clientRect,0,Ce)):(Ne.style.transform=c_(`translate3d(0, ${Math.round(Q.offset)}px, 0)`,Q.initialTransform),hf(Q.clientRect,Ce,0))}),this._previousSwap.overlaps=w0(g,t,r),this._previousSwap.drag=h.drag,this._previousSwap.delta=l?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||r||MM(a.clientRect,.05,e,t)&&([i,s]=function $2(n,e,t,r){const i=HM(e,r),s=jM(e,t);let a=0,l=0;if(i){const c=n.scrollTop;1===i?c>0&&(a=1):n.scrollHeight-c>n.clientHeight&&(a=2)}if(s){const c=n.scrollLeft;1===s?c>0&&(l=1):n.scrollWidth-c>n.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,e,t),(i||s)&&(r=l))}),!i&&!s){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};i=HM(c,t),s=jM(c,e),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Si(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Si(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:E0(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=Si(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var r;const i=t.getRootElement();if(i){const s=null===(r=this._itemPositions.find(a=>a.drag===t))||void 0===r?void 0:r.initialTransform;i.style.transform=s||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,s=t[e].clientRect,a=t[e+-1*r];let l=s[i?"width":"height"]*r;if(a){const c=i?"left":"top",h=i?"right":"bottom";-1===r?l-=a.clientRect[c]-s[h]:l+=s[c]-a.clientRect[h]}return l}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let s=i?t.left-e.left:t.top-e.top;return-1===r&&(s+=i?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const a=r[r.length-1].clientRect;return i?e>=a.right:t>=a.bottom}{const a=r[0].clientRect;return i?e<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(e,t,r,i){const s="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>{if(l===e)return!1;if(i){const h=s?i.x:i.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return s?t>=Math.floor(c.left)&&t<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return-1!==a&&this.sortPredicate(a,e,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&w0(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!w0(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const s=Si(this.element);return i===s||s.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{hf(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=_M(Si(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function HM(n,e){const{top:t,bottom:r,height:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}function jM(n,e){const{left:t,right:r,width:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}const f_=uf({passive:!1,capture:!0});let W2=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new J,this.pointerUp=new J,this.scroll=new J,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,f_)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,f_)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:f_}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:f_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new O(i=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&i.next(l)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),jl(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(Ae(yn),Ae(Gn))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const K2={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let UM=(()=>{class n{constructor(t,r,i,s){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(t,r=K2){return new H2(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new U2(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn),Ae(yn),Ae(P2),Ae(W2))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $M=new Ve("CDK_DRAG_PARENT"),G2=new Ve("CDK_DRAG_CONFIG"),z2=new Ve("CdkDropList"),WM=new Ve("CdkDragHandle"),q2=new Ve("CdkDragPlaceholder"),Q2=new Ve("CdkDragPreview");let Y2=(()=>{class n{constructor(t,r,i,s,a,l,c,h,f,g,v){this.element=t,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=f,this._selfHandle=g,this._parentDrag=v,this._destroyed=new J,this.started=new kt,this.released=new kt,this.ended=new kt,this.entered=new kt,this.exited=new kt,this.dropped=new kt,this.moved=new O(b=>{const T=this._dragRef.moved.pipe(ve(j=>({source:this,pointerPosition:j.pointerPosition,event:j.event,delta:j.delta,distance:j.distance}))).subscribe(b);return()=>{T.unsubscribe()}}),this._dragRef=h.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:null==l?void 0:l.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),l&&this._assignDefaults(l),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=vM(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(so(1),v0(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const r=this.element.nativeElement;let i=r;this.rootElementSelector&&(i=void 0!==r.closest?r.closest(this.rootElementSelector):null===(t=r.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||r)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Si(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function ZB(n,e=0){return function YB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(so(1)).subscribe(()=>{var r;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent((null===(r=n._dragInstances.find(s=>s.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:h,previewContainer:f}=t;this.disabled=null!=c&&c,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),a&&(this.previewClass=a),l&&(this.boundaryElement=l),h&&(this.rootElementSelector=h),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(Ub(this._handles),li(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Ca(t=>jl(...t.map(r=>r._stateChanges.pipe(Ub(r))))),v0(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(se(Vr),se(z2,12),se(Gn),se(yn),se(Zi),se(G2,8),se(k2,8),se(UM),se(sc),se(WM,10),se($M,12))},n.\u0275dir=Ke({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(rc(i,Q2,5),rc(i,q2,5),rc(i,WM,5)),2&t){let s;Zs(s=Ys())&&(r._previewTemplate=s.first),Zs(s=Ys())&&(r._placeholderTemplate=s.first),Zs(s=Ys())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&Xu("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[dn([{provide:$M,useExisting:n}]),Un]}),n})(),X2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({providers:[UM],imports:[O2]}),n})();var J2=R(489);const eV=["myModal"];function tV(n,e){if(1&n){const t=wo();ct(0,"div",5)(1,"div",6),Ot("click",function(){return an(t),xt().changeSelection(1)}),Ar(2,"img",7),dt(),ct(3,"div",6),Ot("click",function(){return an(t),xt().changeSelection(2)}),Ar(4,"img",8),dt(),ct(5,"div",6),Ot("click",function(){return an(t),xt().changeSelection(3)}),Ar(6,"img",9),dt(),ct(7,"div",6),Ot("click",function(){return an(t),xt().changeSelection(4)}),Ar(8,"img",10),dt()()}if(2&n){const t=xt();xe(2),Bt("src",t.getPieceIcon("queen"),Ln),xe(2),Bt("src",t.getPieceIcon("rook"),Ln),xe(2),Bt("src",t.getPieceIcon("bishop"),Ln),xe(2),Bt("src",t.getPieceIcon("knight"),Ln)}}function nV(n,e){if(1&n){const t=wo();ct(0,"div",5)(1,"div",6),Ot("click",function(){return an(t),xt().changeSelection(1)}),hn(2,"\u265b"),dt(),ct(3,"div",6),Ot("click",function(){return an(t),xt().changeSelection(2)}),hn(4,"\u265c"),dt(),ct(5,"div",6),Ot("click",function(){return an(t),xt().changeSelection(3)}),hn(6,"\u265d"),dt(),ct(7,"div",6),Ot("click",function(){return an(t),xt().changeSelection(4)}),hn(8,"\u265e"),dt()()}}const rV=["boardRef"],iV=["modal"];function sV(n,e){if(1&n){const t=wo();ct(0,"div",11),Ot("cdkDragEnded",function(i){return an(t),xt().dragEnded(i)})("cdkDragMoved",function(i){return an(t),xt().dragMoved(i)})("cdkDragStarted",function(i){return an(t),xt().dragStart(i)}),dt()}if(2&n){const t=e.$implicit,r=xt();Do("transform","translate3d("+t.point.col*r.pieceSize+"px, "+t.point.row*r.pieceSize+"px,0px)")("max-height",r.pieceSize+"px")("font-size",.8*r.pieceSize+"px")("width",r.pieceSize+"px")("height",r.pieceSize+"px"),Bt("cdkDragDisabled",r.engineFacade.dragDisabled)("innerHTML",r.engineFacade.pieceIconManager.isDefaultIcons()?t.constant.icon:"",Zp)("ngStyle",r.engineFacade.pieceIconManager.isDefaultIcons()?"":r.getCustomPieceIcons(t))}}function oV(n,e){if(1&n&&(ct(0,"span",18),hn(1),dt()),2&n){const t=xt(2).index,r=xt();Do("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),xe(1),_l(" ",r.engineFacade.coords.yCoords[t]," ")}}function aV(n,e){if(1&n&&(ct(0,"span",19),hn(1),dt()),2&n){const t=xt().index,r=xt(2);Do("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),xe(1),_l(" ",r.engineFacade.coords.xCoords[t]," ")}}function lV(n,e){if(1&n&&(ct(0,"div",20),Ar(1,"div",21),dt()),2&n){const t=xt(3);xe(1),Do("font-size",t.pieceSize+"px"),Bt("ngClass","piece")}}function uV(n,e){if(1&n&&(ct(0,"div",14),nr(1,oV,2,5,"span",15),nr(2,aV,2,5,"span",16),nr(3,lV,2,3,"div",17),dt()),2&n){const t=e.index,r=xt().index,i=xt();Do("background-color",i.getTileBackgroundColor(r,t)),Xu("current-selection",i.showActivePiece&&i.engineFacade.board.isXYInActiveMove(r,t))("king-check",i.engineFacade.board.isKingChecked(i.engineFacade.board.getPieceByPoint(r,t)))("point-circle",i.engineFacade.board.isXYInPointSelection(r,t))("possible-capture",i.showPossibleCaptures&&i.engineFacade.board.isXYInPossibleCaptures(r,t))("possible-point",i.engineFacade.board.isXYInPossibleMoves(r,t)&&i.showLegalMoves),xe(1),Bt("ngIf",i.showCoords&&7===t),xe(1),Bt("ngIf",i.showCoords&&7===r),xe(1),Bt("ngIf",i.engineFacade.board.getPieceByPoint(r,t))}}function cV(n,e){if(1&n&&(ct(0,"div",12),nr(1,uV,4,15,"div",13),dt()),2&n){const t=e.$implicit;xe(1),Bt("ngForOf",t)}}function dV(n,e){if(1&n&&($a(),ct(0,"defs")(1,"marker",22),Ar(2,"path",23),dt()()),2&n){const t=e.$implicit;xe(1),Bt("id",t+"Arrow"),xe(1),Do("fill",t)}}function hV(n,e){if(1&n&&($a(),Ar(0,"line",24)),2&n){const t=e.$implicit;wi("marker-end","url(#"+t.end.color+"Arrow)")("stroke",t.end.color)("x1",t.start.x)("x2",t.end.x)("y1",t.start.y)("y2",t.end.y)}}function fV(n,e){if(1&n&&($a(),Ar(0,"circle",25)),2&n){const t=e.$implicit,r=xt();wi("cx",t.drawPoint.x)("cy",t.drawPoint.y)("r",r.engineFacade.heightAndWidth/18)("stroke",t.drawPoint.color)}}const pV=function(){return["red","green","blue","orange"]};var w=(()=>{return(n=w||(w={}))[n.WHITE=0]="WHITE",n[n.BLACK=1]="BLACK",w;var n})();class gc{constructor(e,t,r,i,s){this.checkPoints=[],this.color=t,this.constant=r,this.point=e,this.relValue=i,this.board=s}}class H{constructor(e,t){this.row=e,this.col=t}isEqual(e){return e&&this.row===e.row&&this.col===e.col}hasCoordsEqual(e,t){return e&&t&&this.row===e&&this.col===t}isInRange(){return this.row>=0&&this.row<=7&&this.col>=0&&this.col<=7}clone(){return new H(this.row,this.col)}}class rr extends gc{constructor(e,t,r,i){super(e,t,r,5,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new H(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new H(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new H(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new H(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldEmpty(i,r))e.push(new H(i,r));else if(!(this.board.getPieceByField instanceof Ut)){e.push(new H(i,r));break}for(let i=t-1;i>=0;--i)if(this.board.isFieldEmpty(i,r))e.push(new H(i,r));else if(!(this.board.getPieceByField instanceof Ut)){e.push(new H(i,r));break}for(let i=r-1;i>=0;--i)if(this.board.isFieldEmpty(t,i))e.push(new H(t,i));else if(!(this.board.getPieceByField instanceof Ut)){e.push(new H(t,i));break}for(let i=r+1;i<8;++i)if(this.board.isFieldEmpty(t,i))e.push(new H(t,i));else if(!(this.board.getPieceByField instanceof Ut)){e.push(new H(t,i));break}return e}}class Ut extends gc{constructor(e,t,r,i){super(e,t,r,0,i),this.castledAlready=!1,this.shortCastled=!1,this.longCastled=!1,this.isCastling=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;if(this.board.isFieldEmpty(t,r-1)&&!this.board.isFieldUnderAttack(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t,r-1)),this.board.isFieldEmpty(t,r+1)&&!this.board.isFieldUnderAttack(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t,r+1)),this.board.isFieldEmpty(t+1,r)&&!this.board.isFieldUnderAttack(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r)),this.board.isFieldEmpty(t-1,r)&&!this.board.isFieldUnderAttack(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r)),this.board.isFieldEmpty(t-1,r-1)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r-1)),this.board.isFieldEmpty(t-1,r+1)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r+1)),this.board.isFieldEmpty(t+1,r-1)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r-1)),this.board.isFieldEmpty(t+1,r+1)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r+1)),!this.isMovedAlready){let i=!0;for(let a=r-1;a>0;--a)if(!this.board.isFieldEmpty(t,a)||this.board.isFieldUnderAttack(t,a,this.color===w.WHITE?w.BLACK:w.WHITE)){i=!1;break}if(i&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,0)){const a=this.board.getPieceByField(t,0);a instanceof rr&&(a.isMovedAlready||e.push(new H(t,r-2)))}let s=!0;for(let a=r+1;a<7;++a)if(!this.board.isFieldEmpty(t,a)||this.board.isFieldUnderAttack(t,a,this.color===w.WHITE?w.BLACK:w.WHITE)){s=!1;break}if(s&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,7)){const a=this.board.getPieceByField(t,7);a instanceof rr&&(a.isMovedAlready||e.push(new H(t,r+2)))}}return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t,r-1)),this.board.isFieldTakenByEnemy(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t,r+1)),this.board.isFieldTakenByEnemy(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r)),this.board.isFieldTakenByEnemy(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r)),this.board.isFieldTakenByEnemy(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r+1)),this.board.isFieldTakenByEnemy(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new H(t,r-1)),e.push(new H(t,r+1)),e.push(new H(t+1,r)),e.push(new H(t-1,r)),e.push(new H(t-1,r-1)),e.push(new H(t-1,r+1)),e.push(new H(t+1,r-1)),e.push(new H(t+1,r+1)),e}}class es extends gc{constructor(e,t,r,i){super(e,t,r,3,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new H(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new H(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new H(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new H(i,s));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}return e}}class ts extends gc{constructor(e,t,r,i){super(e,t,r,3,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldEmpty(t-2,r-1)&&e.push(new H(t-2,r-1)),this.board.isFieldEmpty(t-2,r+1)&&e.push(new H(t-2,r+1)),this.board.isFieldEmpty(t-1,r-2)&&e.push(new H(t-1,r-2)),this.board.isFieldEmpty(t-1,r+2)&&e.push(new H(t-1,r+2)),this.board.isFieldEmpty(t+1,r-2)&&e.push(new H(t+1,r-2)),this.board.isFieldEmpty(t+1,r+2)&&e.push(new H(t+1,r+2)),this.board.isFieldEmpty(t+2,r-1)&&e.push(new H(t+2,r-1)),this.board.isFieldEmpty(t+2,r+1)&&e.push(new H(t+2,r+1)),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t-2,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-2,r-1)),this.board.isFieldTakenByEnemy(t-2,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-2,r+1)),this.board.isFieldTakenByEnemy(t-1,r-2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r-2)),this.board.isFieldTakenByEnemy(t-1,r+2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r+2)),this.board.isFieldTakenByEnemy(t+1,r-2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r-2)),this.board.isFieldTakenByEnemy(t+1,r+2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r+2)),this.board.isFieldTakenByEnemy(t+2,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+2,r-1)),this.board.isFieldTakenByEnemy(t+2,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+2,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new H(t-2,r-1)),e.push(new H(t-2,r+1)),e.push(new H(t-1,r-2)),e.push(new H(t-1,r+2)),e.push(new H(t+1,r-2)),e.push(new H(t+1,r+2)),e.push(new H(t+2,r-1)),e.push(new H(t+2,r+1)),e}}class ir extends gc{constructor(e,t,r,i){super(e,t,r,1,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?this.board.isFieldEmpty(t-1,r)&&(e.push(new H(t-1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t-2,r)&&e.push(new H(t-2,r))):this.board.isFieldEmpty(t+1,r)&&(e.push(new H(t+1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t+2,r)&&e.push(new H(t+2,r))),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?(this.board.isFieldTakenByEnemy(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r+1))):(this.board.isFieldTakenByEnemy(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r+1))),this.board.enPassantPoint&&this.board.enPassantPiece.color===(this.color===w.WHITE?w.BLACK:w.WHITE)&&t===this.board.enPassantPiece.point.row&&1===Math.abs(this.board.enPassantPiece.point.col-r)&&e.push(this.board.enPassantPoint),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?(e.push(new H(t-1,r-1)),e.push(new H(t-1,r+1))):(e.push(new H(t+1,r-1)),e.push(new H(t+1,r+1))),e}}class to extends gc{constructor(e,t,r,i){super(e,t,r,9,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new H(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new H(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new H(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new H(i,s));for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new H(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new H(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new H(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new H(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof Ut||e.push(new H(i,r));break}e.push(new H(i,r))}for(let i=t-1;i>=0;--i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof Ut||e.push(new H(i,r));break}e.push(new H(i,r))}for(let i=r-1;i>=0;--i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof Ut||e.push(new H(t,i));break}e.push(new H(t,i))}for(let i=r+1;i<8;++i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof Ut||e.push(new H(t,i));break}e.push(new H(t,i))}for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}return e}}const Ze={WHITE_KING:{name:"King",icon:"&#x2654;"},WHITE_QUEEN:{name:"Queen",icon:"&#x2655;"},WHITE_KNIGHT:{name:"Knight",icon:"&#x2658"},WHITE_ROOK:{name:"Rook",icon:"&#x2656"},WHITE_PAWN:{name:"Pawn",icon:"&#x2659"},WHITE_BISHOP:{name:"Bishop",icon:"&#x2657"},BLACK_KING:{name:"King",icon:"&#x265A"},BLACK_QUEEN:{name:"Queen",icon:"&#x265B"},BLACK_KNIGHT:{name:"Knight",icon:"&#x265E"},BLACK_ROOK:{name:"Rook",icon:"&#x265C"},BLACK_PAWN:{name:"Pawn",icon:"&#x265F"},BLACK_BISHOP:{name:"Bishop",icon:"&#x265D"}};class KM{process(e,t){let r=e;if(!e)throw Error("Incorrect FEN provided");{t.board.reverted=!1,t.board.pieces=[];const i=r.split("/");for(let s=0;s<8;++s){let a=0;for(let l=0;l<i[s].split(" ")[0].length;++l){const c=i[s].charAt(l);if(c.match(/[0-9]/))a+=Number(c);else{switch(c){case"r":t.board.pieces.push(new rr(new H(s,a),w.BLACK,Ze.BLACK_ROOK,t.board));break;case"n":t.board.pieces.push(new ts(new H(s,a),w.BLACK,Ze.BLACK_KNIGHT,t.board));break;case"b":t.board.pieces.push(new es(new H(s,a),w.BLACK,Ze.BLACK_BISHOP,t.board));break;case"q":t.board.pieces.push(new to(new H(s,a),w.BLACK,Ze.BLACK_QUEEN,t.board));break;case"k":t.board.pieces.push(new Ut(new H(s,a),w.BLACK,Ze.BLACK_KING,t.board));break;case"p":{const h=new ir(new H(s,a),w.BLACK,Ze.BLACK_PAWN,t.board);(h.color===w.BLACK&&1!==h.point.row||h.color===w.WHITE&&6!==h.point.row)&&(h.isMovedAlready=!0),t.board.pieces.push(h);break}case"R":t.board.pieces.push(new rr(new H(s,a),w.WHITE,Ze.WHITE_ROOK,t.board));break;case"N":t.board.pieces.push(new ts(new H(s,a),w.WHITE,Ze.WHITE_KNIGHT,t.board));break;case"B":t.board.pieces.push(new es(new H(s,a),w.WHITE,Ze.WHITE_BISHOP,t.board));break;case"Q":t.board.pieces.push(new to(new H(s,a),w.WHITE,Ze.WHITE_QUEEN,t.board));break;case"K":t.board.pieces.push(new Ut(new H(s,a),w.WHITE,Ze.WHITE_KING,t.board));break;case"P":{const h=new ir(new H(s,a),w.WHITE,Ze.WHITE_PAWN,t.board);(h.color===w.BLACK&&1!==h.point.row||h.color===w.WHITE&&6!==h.point.row)&&(h.isMovedAlready=!0),t.board.pieces.push(h);break}}++a}}}this.setCurrentPlayer(t.board,r),this.setCastles(t.board,r),this.setEnPassant(r),this.setFullMoveCount(r),t.board.fen=r}}setCurrentPlayer(e,t){if(t){const r=t.split(" ");e.currentWhitePlayer="w"===r[1]}}setCastles(e,t){if(t){const i=t.split(" ")[2];i.includes("K")||this.setRookAlreadyMoved(e,w.WHITE,7),i.includes("Q")||this.setRookAlreadyMoved(e,w.WHITE,0),i.includes("k")||this.setRookAlreadyMoved(e,w.BLACK,7),i.includes("q")||this.setRookAlreadyMoved(e,w.BLACK,0)}}setFullMoveCount(e){}setEnPassant(e){!e||e.split(" ")}setRookAlreadyMoved(e,t,r){const i=e.pieces.find(s=>s.color===t&&s instanceof rr&&s.point.col===r);i&&(i.isMovedAlready=!0)}}class gV{constructor(e,t,r){this._xAxis=e,this._yAxis=t,this._reverted=r}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e}get reverted(){return this._reverted}set reverted(e){this._reverted=e}}class Le{static willMoveCauseCheck(e,t,r,i,s,a){const l=a.getPieceByField(t,r),c=a.getPieceByField(i,s);l&&(l.point.row=i,l.point.col=s),c&&(a.pieces=a.pieces.filter(f=>f!==c));const h=a.isKingInCheck(e,a.pieces);return l&&(l.point.col=r,l.point.row=t),c&&a.pieces.push(c),h}static format(e,t,r){if(r){const s=104-t.col;return String.fromCharCode(104-e.col)+(e.row+1)+String.fromCharCode(s)+(t.row+1)}return String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)+String.fromCharCode(t.col+97)+(Math.abs(t.row-7)+1)}static translateCoordsToIndex(e,t){let r,i;return t?(r=104-e.charCodeAt(0),i=+e.charAt(1)-1):(r=e.charCodeAt(0)-97,i=Math.abs(+e.charAt(1)-8)),new gV(r,i,t)}static findPieceByPossibleMovesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new H(i.yAxis,i.xAxis),a=[];for(let l of t.pieces.filter(c=>c.color===r))for(let c of l.getPossibleMoves())!Le.willMoveCauseCheck(l.color,l.point.row,l.point.col,i.yAxis,i.xAxis,t)&&c.isEqual(s)&&a.push(l);return a}static findPieceByPossibleCapturesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new H(i.yAxis,i.xAxis),a=[];for(let l of t.pieces.filter(c=>c.color===r))for(let c of l.getPossibleCaptures())!Le.willMoveCauseCheck(l.color,l.point.row,l.point.col,i.yAxis,i.xAxis,t)&&c.isEqual(s)&&a.push(l);return a}static formatSingle(e,t){return t?String.fromCharCode(104-e.col)+(e.row+1):String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)}static getFirstLetterPiece(e){return e instanceof ir?"P":e instanceof ts?"N":e instanceof es?"B":e instanceof rr?"R":e instanceof Ut?"K":e instanceof to?"Q":""}static reverse(e,t){return e.reverted?t+1:Math.abs(t-7)+1}static formatCol(e,t){return String.fromCharCode(e.reverted?104-t:97+t)}}class GM{static loadDefaultPieces(e){e.pieces=[];for(let t=0;t<8;++t)e.pieces.push(new ir(new H(1,t),w.BLACK,Ze.BLACK_PAWN,e));e.pieces.push(new rr(new H(0,0),w.BLACK,Ze.BLACK_ROOK,e)),e.pieces.push(new ts(new H(0,1),w.BLACK,Ze.BLACK_KNIGHT,e)),e.pieces.push(new es(new H(0,2),w.BLACK,Ze.BLACK_BISHOP,e)),e.pieces.push(new to(new H(0,3),w.BLACK,Ze.BLACK_QUEEN,e)),e.pieces.push(new Ut(new H(0,4),w.BLACK,Ze.BLACK_KING,e)),e.pieces.push(new es(new H(0,5),w.BLACK,Ze.BLACK_BISHOP,e)),e.pieces.push(new ts(new H(0,6),w.BLACK,Ze.BLACK_KNIGHT,e)),e.pieces.push(new rr(new H(0,7),w.BLACK,Ze.BLACK_ROOK,e));for(let t=0;t<8;++t)e.pieces.push(new ir(new H(6,t),w.WHITE,Ze.WHITE_PAWN,e));e.pieces.push(new rr(new H(7,0),w.WHITE,Ze.WHITE_ROOK,e)),e.pieces.push(new ts(new H(7,1),w.WHITE,Ze.WHITE_KNIGHT,e)),e.pieces.push(new es(new H(7,2),w.WHITE,Ze.WHITE_BISHOP,e)),e.pieces.push(new to(new H(7,3),w.WHITE,Ze.WHITE_QUEEN,e)),e.pieces.push(new Ut(new H(7,4),w.WHITE,Ze.WHITE_KING,e)),e.pieces.push(new es(new H(7,5),w.WHITE,Ze.WHITE_BISHOP,e)),e.pieces.push(new ts(new H(7,6),w.WHITE,Ze.WHITE_KNIGHT,e)),e.pieces.push(new rr(new H(7,7),w.WHITE,Ze.WHITE_ROOK,e)),e.calculateFEN()}}class mV{process(e,t){if(e){t.board.reverted=!1,t.board.pieces=[],t.reset(),GM.loadDefaultPieces(t.board);let r=this.extractMoves(e),i=-1;for(let s of r){++i,s=s.replace(/[+#]/g,"");let a="";s.includes("=")&&(a=this.resolvePromotion(s.substring(s.length-1)),s=s.substring(0,s.length-2));let l=0===i||i%2==0?w.WHITE:w.BLACK;if(/^[a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleMovesContaining(s,t.board,l).find(h=>h instanceof ir);c||(c=Le.findPieceByPossibleCapturesContaining(s,t.board,l).find(h=>h instanceof ir)),c&&t.move(Le.formatSingle(c.point,!1)+s+a)}else if(/^[A-Z][a-h]\d$/g.test(s)){let h=Le.findPieceByPossibleMovesContaining(s.substring(1),t.board,l).find(f=>this.resolvePieceByFirstChar(s.charAt(0),f));h&&t.move(Le.formatSingle(h.point,!1)+s.substring(1)+a)}else if("O-O"===s)t.move(l===w.WHITE?"e1g1":"e8g8");else if(/^[a-z]x[a-z]\d$/g.test(s)){let h,c=Le.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>f instanceof ir);h=c.length>1?this.resolveByCol(c,s.substring(0,1)):c[0],h&&t.move(Le.formatSingle(h.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if(/^[A-Z]x[a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).find(h=>this.resolvePieceByFirstChar(s.substring(0,1),h));c&&t.move(Le.formatSingle(c.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if("O-O-O"===s)t.move(l===w.WHITE?"e1c1":"e8c8");else if(/^[A-Z]\dx[a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),h=this.resolveByRow(c,s.substring(1,2));h&&t.move(Le.formatSingle(h.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if(/^[A-Z][a-z][a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleMovesContaining(s.substring(2,4),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),h=this.resolveByCol(c,s.substring(1,2));h&&t.move(Le.formatSingle(h.point,!1)+s.substring(2,4)+a)}else if(/^[A-Z][a-z]x[a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),h=this.resolveByCol(c,s.substring(1,2));h&&t.move(Le.formatSingle(h.point,!1)+s.substring(s.indexOf("x")+1)+a)}else this.processR1f2(s,t,l,a)}}}processR1f2(e,t,r,i){if(/^[A-Z]\d[a-z]\d$/g.test(e)){let s=Le.findPieceByPossibleMovesContaining(e.substring(2,4),t.board,r).filter(l=>this.resolvePieceByFirstChar(e.charAt(0),l)),a=this.resolveByRow(s,e.substring(1,2));a&&t.move(Le.formatSingle(a.point,!1)+e.substring(2,4)+i)}}extractMoves(e){return e.substring(e.lastIndexOf("]")+1).replace(/[0-9]+\./g,"").replace(/\s+/g," ").replace(/{[^}]*}/g,"").trim().split(" ").filter(t=>t)}movePiece(e,t,r){let i=Le.translateCoordsToIndex(r,t.reverted);e.point.col=i.xAxis,e.point.row=i.yAxis}hasUpperCase(e){return/[A-Z]/.test(e)}resolvePieceByFirstChar(e,t){let r="";return t instanceof Ut?r="K":t instanceof to?r="Q":t instanceof rr?r="R":t instanceof es?r="B":t instanceof ts?r="N":t instanceof ir&&(r="P"),e===r}isShortCastle(e){return"O-O"===e}removePiece(e,t){let r=Le.translateCoordsToIndex(e,t.reverted);t.pieces=t.pieces.filter(i=>!i.point.isEqual(new H(r.yAxis,r.xAxis)))}isLongCastle(e){return"O-O-O"===e}resolveByCol(e,t){let r=Le.formatSingle(e[0].point,!1);return Le.formatSingle(e[1].point,!1),r.substring(0,1)===t?e[0]:e[1]}resolveByRow(e,t){let r=Le.formatSingle(e[0].point,!1);return Le.formatSingle(e[1].point,!1),r.substring(1,2)===t?e[0]:e[1]}replacePromotion(e){return e.replace("=Q","1").replace("=R","2").replace("=B","3").replace("=K","4")}resolvePromotion(e){switch(e){case"Q":return"1";case"R":return"2";case"B":return"3";case"N":return"4"}return""}}class S0{static getProcessor(e){switch(e){case Al.FEN:return new KM;case Al.PGN:return new mV}}static getDefaultProcessor(){return new KM}}var Al=(()=>{return(n=Al||(Al={}))[n.FEN=1]="FEN",n[n.PGN=2]="PGN",Al;var n})();class _V{constructor(e,t,r){this.x=e+.5,this.y=t+.5,this.color=r}isEqual(e){return e&&e.x===this.x&&this.y===e.y}}class A0{static getClickPoint(e,t,r,i,s){return new H(Math.floor((e.y-t)/(r/8)),Math.floor((e.x-i)/(s/8)))}static getDrawingPoint(e,t,r,i,s,a,l,c,h){const f=e/8,g=Math.floor((r-c)/f),v=Math.floor((i-h)/f);let b=t.resolve(s,l,a);return new _V(Math.floor(g*f+f/2),Math.floor(v*f+f/2),b)}}class vV{constructor(e,t,r,i){this.move=e,this.piece=t,this.color=r,this.x=i}setGameStates(e,t,r){this.check=e,this.stalemate=t,this.mate=r}}class yV{constructor(){this.historyMovesSubject$=new jr([])}get historyMoves(){return this.historyMovesSubject$.value}set historyMoves(e){this.historyMovesSubject$.next(e)}addMove(e){this.historyMoves=[...this.historyMoves,e]}pop(){const e=this.getLastMove();return this.historyMoves=this.historyMoves.filter(t=>t!==e),e}getAll(){return this.historyMoves}clear(){this.historyMoves=[]}getLastMove(){return this.historyMoves[this.getLastMoveIndex()]}getLastMoveIndex(){return this.historyMoves.length-1}}let Ro=(()=>{class n{}return n.DEFAULT_DARK_TILE_COLOR="rgb(97, 84, 61)",n.DEFAULT_LIGHT_TILE_COLOR="#BAA378",n.DEFAULT_SIZE=500,n.MIN_BOARD_SIZE=100,n.MAX_BOARD_SIZE=4e3,n.DEFAULT_SOURCE_POINT_COLOR="rgba(146, 111, 26, 0.79)",n.DEFAULT_DESTINATION_POINT_COLOR="#b28e1a",n.DEFAULT_LEGAL_MOVE_POINT_COLOR="radial-gradient(#13262F 15%, transparent 20%);",n})();class CV{constructor(){this._defaultIcons=!1}get pieceIconInput(){return this._pieceIconInput}set pieceIconInput(e){this._pieceIconInput=e}get defaultIcons(){return this._defaultIcons}set defaultIcons(e){this._defaultIcons=e}isDefaultIcons(){return null==this.pieceIconInput}getPieceIcon(e){let t=e.color===w.WHITE;switch(e.constructor){case Ut:return t?this.pieceIconInput.whiteKingUrl:this.pieceIconInput.blackKingUrl;case to:return t?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;case rr:return t?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;case es:return t?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;case ts:return t?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;case ir:return t?this.pieceIconInput.whitePawnUrl:this.pieceIconInput.blackPawnUrl}}loadDefaultData(){this.pieceIconInput={blackBishopUrl:"",blackKingUrl:"",blackKnightUrl:"",blackQueenUrl:"",blackRookUrl:"",whiteBishopUrl:"",whiteKingUrl:"",whiteKnightUrl:"",whitePawnUrl:"",whiteQueenUrl:"",whiteRookUrl:"",blackPawnUrl:"a"}}}class bV{constructor(){this.defaultXCoords=["a","b","c","d","e","f","g","h"],this.defaultYCoords=[8,7,6,5,4,3,2,1],this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}get xCoords(){return this.currentXCoords}get yCoords(){return this.currentYCoords}reverse(){this.currentXCoords=this.currentXCoords.reverse(),this.currentYCoords=this.currentYCoords.reverse()}reset(){this.init()}init(){this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}}class EV{dragEnded(e,t,r){t||r&&(e.source._dragRef.getRootElement().style.transform=r)}}class wV{constructor(){this.dragEndProcessor=new EV}process(e,t,r){this.dragEndProcessor.dragEnded(e,t,r)}setDragEndProcessor(e){this.dragEndProcessor=e}}class DV{dragStarted(e){const t=e.source.getRootElement().style;t.zIndex="1000",t.position="absolute"}}class SV{constructor(){this.dragStartProcessor=new DV}process(e){this.dragStartProcessor.dragStarted(e)}setDragStartProcessor(e){this.dragStartProcessor=e}}class AV{resolve(e,t,r){let i="green";return(e||t)&&(i="red"),r&&(i="blue"),(t||e)&&r&&(i="orange"),i}}class TV{constructor(){this.colorProcessor=new AV}resolve(e,t,r){return this.colorProcessor.resolve(e,t,r)}setColorProcessor(e){this.colorProcessor=e}}class MV{constructor(){this.arrowsSubject$=new jr([]),this.circlesSubject$=new jr([]),this.arrows$=this.arrowsSubject$.asObservable(),this.circles$=this.circlesSubject$.asObservable()}get circles(){return this.circlesSubject$.value}set circles(e){this.circlesSubject$.next(e)}get arrows(){return this.arrowsSubject$.value}set arrows(e){this.arrowsSubject$.next(e)}addCircle(e){this.circles=[...this.circles,e]}reomveCircle(e){this.circles=this.circles.filter(t=>!t.isEqual(e))}addArrow(e){this.arrows=[...this.arrows,e]}removeArrow(e){this.arrows=this.arrows.filter(t=>!t.isEqual(e))}containsCircle(e){return this.circles.some(t=>t.isEqual(e))}containsArrow(e){return this.arrows.some(t=>t.isEqual(e))}clear(){this.arrows=[],this.circles=[]}}class PV extends class IV{constructor(){this.pgn="",this.currentIndex=.5}getPGN(){return this.pgn}processChecks(e,t,r){e?this.pgn+="#":t&&(this.pgn+="+")}reset(){this.pgn="",this.currentIndex=.5}addPromotionChoice(e){switch(e){case 1:this.pgn+="=Q";break;case 2:this.pgn+="=R";break;case 3:this.pgn+="=B";break;case 4:this.pgn+="=N"}}removeLast(){if(this.currentIndex>=.5){this.currentIndex-=.5;const e=new RegExp(/\d+\./g);e.test(this.pgn),this.pgn=this.pgn.substring(0,e.lastIndex).trim()}}}{process(e,t,r,i){this.currentIndex+=.5,this.pgn+=this.currentIndex%Math.floor(this.currentIndex)==0?" "+this.currentIndex+". ":" ";let s=[],a=[];i&&(s=Le.findPieceByPossibleCapturesContaining(Le.formatSingle(r,e.reverted),e,t.color).filter(l=>l.constructor.name===t.constructor.name)),a=Le.findPieceByPossibleMovesContaining(Le.formatSingle(r,e.reverted),e,t.color).filter(l=>l.constructor.name===t.constructor.name),t instanceof ir&&!i&&0===s.length?this.pgn+=Le.formatSingle(r,e.reverted):t instanceof ir&&i?this.pgn+=Le.formatSingle(t.point,e.reverted).substring(0,1)+"x"+Le.formatSingle(r,e.reverted):t instanceof Ut&&2===Math.abs(t.point.col-r.col)?this.pgn+=e.reverted?r.col<2?"O-O":"O-O-O":r.col<3?"O-O-O":"O-O":!(t instanceof ir)&&0===s.length&&a.length<2?this.pgn+=Le.getFirstLetterPiece(t)+Le.formatSingle(r,e.reverted):a&&2===a.length&&0===s.length?this.isEqualByCol(a[0],a[1])?this.pgn+=Le.getFirstLetterPiece(t)+Le.reverse(e,t.point.row)+Le.formatSingle(r,e.reverted):this.pgn+=Le.getFirstLetterPiece(t)+Le.formatCol(e,t.point.col)+Le.formatSingle(r,e.reverted):s.length>1?this.isEqualByCol(s[0],s[1])?this.pgn+=Le.getFirstLetterPiece(t)+Le.reverse(e,t.point.row)+"x"+Le.formatSingle(r,e.reverted):this.pgn+=Le.getFirstLetterPiece(t)+Le.formatCol(e,t.point.col)+"x"+Le.formatSingle(r,e.reverted):this.pgn+=Le.getFirstLetterPiece(t)+"x"+Le.formatSingle(r,e.reverted),this.pgn=this.pgn.trim()}resolvePieceByFirstChar(e,t){return Le.getFirstLetterPiece(t)===e}isEqualByCol(e,t){return e.point.col===t.point.col}}class RV{constructor(e,t){this.engineFacade=e,this.notationProcessor=t||S0.getDefaultProcessor()}addPieces(){GM.loadDefaultPieces(this.engineFacade.board)}loadFEN(e){this.notationProcessor.process(e,this.engineFacade)}loadPGN(e){this.notationProcessor.process(e,this.engineFacade)}setEngineFacade(e){this.engineFacade=e}setNotationProcessor(e){this.notationProcessor=e}}class zM{constructor(e){this.board=e}}class xV{constructor(){this.statesSubject$=new jr([])}get states(){return this.statesSubject$.value}set states(e){this.statesSubject$.next(e)}addMove(e){this.states=[...this.states,e]}getStates(){return this.states}pop(){const e=this.getLastState();return this.states=this.states.filter(t=>t!==e),e}isEmpty(){return 0===this.states.length}clear(){this.states=[]}getLastState(){return this.states[this.getLastStateIndex()]}getLastStateIndex(){return this.states.length-1}}class FV{isEqual(e){return e&&this.start.isEqual(e.start)&&this.end.isEqual(e.end)}}class NV{isEqual(e){return e&&this.drawPoint.isEqual(e.drawPoint)}}class qM extends class kV{constructor(e){this.piece=e}}{constructor(e,t,r,i){super(e),this.pointClicked=t,this.color=r,this.board=i}getPossibleCaptures(){return this.piece.getPossibleCaptures().filter(e=>!Le.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}getPossibleMoves(){return this.piece.getPossibleMoves().filter(e=>!Le.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}}class QM{static resolvePromotionChoice(e,t,r){const i=t.color===w.WHITE;switch(r){case 1:e.pieces.push(new to(t.point,t.color,i?Ze.WHITE_QUEEN:Ze.BLACK_QUEEN,e));break;case 2:e.pieces.push(new rr(t.point,t.color,i?Ze.WHITE_ROOK:Ze.BLACK_ROOK,e));break;case 3:e.pieces.push(new es(t.point,t.color,i?Ze.WHITE_BISHOP:Ze.BLACK_BISHOP,e));break;case 4:e.pieces.push(new ts(t.point,t.color,i?Ze.WHITE_KNIGHT:Ze.BLACK_KNIGHT,e))}}}var xo=(()=>{return(n=xo||(xo={}))[n.KING=1]="KING",n[n.QUEEN=2]="QUEEN",n[n.BISHOP=3]="BISHOP",n[n.KNIGHT=4]="KNIGHT",n[n.ROOK=5]="ROOK",n[n.PAWN=6]="PAWN",xo;var n})(),p_=(()=>{return(n=p_||(p_={}))[n.LIGHT=1]="LIGHT",n[n.DARK=2]="DARK",p_;var n})();class BV extends class OV{constructor(e){this.dragStartStrategy=new SV,this.dragEndStrategy=new wV,this.pgnProcessor=new PV,this.colorStrategy=new TV,this.coords=new bV,this.heightAndWidth=Ro.DEFAULT_SIZE,this.freeMode=!1,this.drawProvider=new MV,this.pieceIconManager=new CV,this.moveHistoryProvider=new yV,this.disabling=!1,this.board=e}checkIfPawnFirstMove(e){e instanceof ir&&(e.isMovedAlready=!0)}checkIfRookMoved(e){e instanceof rr&&(e.isMovedAlready=!0)}checkIfKingMoved(e){e instanceof Ut&&(e.isMovedAlready=!0)}getMoveHistory(){return this.moveHistoryProvider.getAll()}}{constructor(e,t){super(e),this._selected=!1,this.moveChange=t,this.boardLoader=new RV(this),this.boardLoader.addPieces(),this.boardStateProvider=new xV}reset(){this.boardStateProvider.clear(),this.moveHistoryProvider.clear(),this.boardLoader.addPieces(),this.board.reset(),this.coords.reset(),this.drawProvider.clear(),this.pgnProcessor.reset()}undo(){if(!this.boardStateProvider.isEmpty()){const e=this.boardStateProvider.pop().board;this.board.reverted&&e.reverse(),this.board=e,this.board.possibleCaptures=[],this.board.possibleMoves=[],this.board.activePiece=null,this.moveHistoryProvider.pop(),this.board.calculateFEN(),this.pgnProcessor.removeLast()}}saveMoveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.moveStateProvider.addMove(new zM(e))}move(e){if(e){const t=Le.translateCoordsToIndex(e.substring(0,2),this.board.reverted),r=Le.translateCoordsToIndex(e.substring(2,4),this.board.reverted),i=this.board.getPieceByPoint(t.yAxis,t.xAxis);if(i){if(this.board.currentWhitePlayer&&i.color===w.BLACK||!this.board.currentWhitePlayer&&i.color===w.WHITE)return;this.prepareActivePiece(i,i.point),this.board.isPointInPossibleMoves(new H(r.yAxis,r.xAxis))||this.board.isPointInPossibleCaptures(new H(r.yAxis,r.xAxis))?(this.saveClone(),this.movePiece(i,new H(r.yAxis,r.xAxis),5===e.length?+e.substring(4,5):0),this.board.lastMoveSrc=new H(t.yAxis,t.xAxis),this.board.lastMoveDest=new H(r.yAxis,r.xAxis),this.disableSelection()):this.disableSelection()}}}prepareActivePiece(e,t){this.board.activePiece=e,this._selected=!0,this.board.possibleCaptures=new qM(e,t,this.board.currentWhitePlayer?w.WHITE:w.BLACK,this.board).getPossibleCaptures(),this.board.possibleMoves=new qM(e,t,this.board.currentWhitePlayer?w.WHITE:w.BLACK,this.board).getPossibleMoves()}onPieceClicked(e,t){this.board.currentWhitePlayer&&e.color===w.BLACK||!this.board.currentWhitePlayer&&e.color===w.WHITE||this.prepareActivePiece(e,t)}handleClickEvent(e,t){let r=!1;(this.board.isPointInPossibleMoves(e)||this.board.isPointInPossibleCaptures(e)||this.freeMode)&&e.isInRange()&&(this.saveClone(),this.board.lastMoveSrc=new H(this.board.activePiece.point.row,this.board.activePiece.point.col),this.board.lastMoveDest=e.clone(),this.movePiece(this.board.activePiece,e),this.board.activePiece.point.isEqual(this.board.lastMoveSrc)||(r=!0)),(t||r)&&this.disableSelection(),this.disableSelection();const i=this.board.getPieceByPoint(e.row,e.col);i&&!r&&(this.onFreeMode(i),this.onPieceClicked(i,e))}onMouseDown(e,t,r,i){if(this.moveDone=!1,0!==e.button)return void(this.drawPoint=A0.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i));if(this.drawProvider.clear(),this.board.activePiece&&t.isEqual(this.board.activePiece.point))return void(this.disabling=!0);const s=this.board.getPieceByPoint(t.row,t.col);if(this.freeMode&&s){if(e.ctrlKey)return void(this.board.pieces=this.board.pieces.filter(a=>a!==s));this.board.currentWhitePlayer=s.color===w.WHITE}this.isPieceDisabled(s)||(this._selected?this.handleClickEvent(t,!0):s&&(this.onFreeMode(s),this.onPieceClicked(s,t)))}onMouseUp(e,t,r,i){if(this.moveDone=!1,0!==e.button&&!this.drawDisabled)return void this.addDrawPoint(e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i);if(this.drawProvider.clear(),this.dragDisabled)return;if(this.board.activePiece&&t.isEqual(this.board.activePiece.point)&&this.disabling)return this.disableSelection(),void(this.disabling=!1);const s=this.board.getPieceByPoint(t.row,t.col);this.isPieceDisabled(s)||this._selected&&this.handleClickEvent(t,!1)}saveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.boardStateProvider.addMove(new zM(e))}movePiece(e,t,r){const i=this.board.pieces.find(s=>s.point.col===t.col&&s.point.row===t.row);if(this.pgnProcessor.process(this.board,e,t,i),i&&e.color!==i.color)this.board.pieces=this.board.pieces.filter(s=>s!==i);else if(i&&e.color===i.color)return;if(this.historyMoveCandidate=new vV(Le.format(e.point,t,this.board.reverted),e.constant.name,e.color===w.WHITE?"white":"black",!!i),this.moveHistoryProvider.addMove(this.historyMoveCandidate),e instanceof Ut&&Math.abs(t.col-e.point.col)>1)if(t.col<3){const a=this.board.getPieceByField(e.point.row,0);this.freeMode||(a.point.col=this.board.reverted?2:3)}else{const a=this.board.getPieceByField(e.point.row,7);this.freeMode||(a.point.col=this.board.reverted?4:5)}e instanceof ir?(this.board.checkIfPawnTakesEnPassant(t),this.board.checkIfPawnEnpassanted(e,t)):(this.board.enPassantPoint=null,this.board.enPassantPiece=null),e.point=t,this.increaseFullMoveCount(),this.board.currentWhitePlayer=!this.board.currentWhitePlayer,this.checkForPawnPromote(e,r)||this.afterMoveActions()}checkForPawnPromote(e,t){if(e instanceof ir&&(0===e.point.row||7===e.point.row))return this.board.pieces=this.board.pieces.filter(r=>r!==e),t?(QM.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)):this.openPromoteDialog(e),!0}afterMoveActions(e){this.checkIfPawnFirstMove(this.board.activePiece),this.checkIfRookMoved(this.board.activePiece),this.checkIfKingMoved(this.board.activePiece),this.board.blackKingChecked=this.board.isKingInCheck(w.BLACK,this.board.pieces),this.board.whiteKingChecked=this.board.isKingInCheck(w.WHITE,this.board.pieces);const t=this.board.blackKingChecked||this.board.whiteKingChecked,r=this.checkForPossibleMoves(w.BLACK)||this.checkForPossibleMoves(w.WHITE),i=this.checkForPat(w.BLACK)||this.checkForPat(w.WHITE);this.historyMoveCandidate.setGameStates(t,i,r),this.pgnProcessor.processChecks(r,t,i),this.pgnProcessor.addPromotionChoice(e),this.disabling=!1,this.board.calculateFEN();const s=this.moveHistoryProvider.getLastMove();s&&e&&(s.move+=e),this.moveChange.emit(Object.assign(Object.assign({},s),{check:t,checkmate:r,stalemate:i,fen:this.board.fen,pgn:{pgn:this.pgnProcessor.getPGN()},freeMode:this.freeMode})),this.moveDone=!0}checkForPat(e){return e===w.WHITE&&!this.board.whiteKingChecked||e===w.BLACK&&!this.board.blackKingChecked?this.checkForPossibleMoves(e):void 0}openPromoteDialog(e){e.color===this.board.activePiece.color&&this.modal.open(t=>{QM.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)})}checkForPossibleMoves(e){return!this.board.pieces.filter(t=>t.color===e).some(t=>t.getPossibleMoves().some(r=>!Le.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board))||t.getPossibleCaptures().some(r=>!Le.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board)))}disableSelection(){this._selected=!1,this.board.possibleCaptures=[],this.board.activePiece=null,this.board.possibleMoves=[]}onFreeMode(e){!this.freeMode||null==e||(this.board.currentWhitePlayer=e.color===w.WHITE)}isPieceDisabled(e){return!(e&&e.point&&this.board.possibleCaptures.find(r=>r.col===e.point.col&&r.row===e.point.row))&&e&&(this.lightDisabled&&e.color===w.WHITE||this.darkDisabled&&e.color===w.BLACK)}addDrawPoint(e,t,r,i,s,a,l){const c=A0.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e,t,r,i,s,a,l);if(this.drawPoint.isEqual(c)){const h=new NV;h.drawPoint=c,this.drawProvider.containsCircle(h)?this.drawProvider.reomveCircle(h):this.drawProvider.addCircle(h)}else{const h=new FV;h.start=this.drawPoint,h.end=c,this.drawProvider.containsArrow(h)?this.drawProvider.removeArrow(h):this.drawProvider.addArrow(h)}}increaseFullMoveCount(){this.board.currentWhitePlayer||++this.board.fullMoveCount}addPiece(e,t,r){if(this.freeMode&&r&&e>0&&t>0){let i=Le.translateCoordsToIndex(r,this.board.reverted),s=this.board.getPieceByPoint(i.yAxis,i.xAxis);s&&(this.board.pieces=this.board.pieces.filter(l=>l!==s));let a=class LV{static create(e,t,r,i){let s,a=r===p_.LIGHT?w.WHITE:w.BLACK;switch(t){case xo.QUEEN:s=new to(new H(e.yAxis,e.xAxis),a,a===w.WHITE?Ze.WHITE_QUEEN:Ze.BLACK_QUEEN,i);break;case xo.KING:s=new Ut(new H(e.yAxis,e.xAxis),a,a===w.WHITE?Ze.WHITE_KING:Ze.BLACK_KING,i);break;case xo.KNIGHT:s=new ts(new H(e.yAxis,e.xAxis),a,a===w.WHITE?Ze.WHITE_KNIGHT:Ze.BLACK_KNIGHT,i);break;case xo.BISHOP:s=new es(new H(e.yAxis,e.xAxis),a,a===w.WHITE?Ze.WHITE_BISHOP:Ze.BLACK_BISHOP,i);break;case xo.ROOK:s=new rr(new H(e.yAxis,e.xAxis),a,a===w.WHITE?Ze.WHITE_ROOK:Ze.BLACK_ROOK,i);break;case xo.PAWN:s=new ir(new H(e.yAxis,e.xAxis),a,a===w.WHITE?Ze.WHITE_PAWN:Ze.BLACK_PAWN,i)}return s}}.create(i,e,t,this.board);this.saveClone(),this.board.pieces.push(a),this.afterMoveActions()}}}class VV{constructor(){this.board=[],this.pieces=[],this.enPassantPoint=null,this.enPassantPiece=null,this.lastMoveSrc=null,this.lastMoveDest=null,this.possibleCaptures=[],this.possibleMoves=[],this.currentWhitePlayer=!0,this.reverted=!1,this.fullMoveCount=1;for(let e=0;e<8;++e){this.board[e]=[];for(let t=0;t<8;++t)this.board[e][t]=0}}isXYInPossibleMoves(e,t){return this.possibleMoves.some(r=>r.row===e&&r.col===t)}isXYInPossibleCaptures(e,t){return this.possibleCaptures.some(r=>r.row===e&&r.col===t)}isXYInSourceMove(e,t){return this.lastMoveSrc&&this.lastMoveSrc.row===e&&this.lastMoveSrc.col===t}isXYInDestMove(e,t){return this.lastMoveDest&&this.lastMoveDest.row===e&&this.lastMoveDest.col===t}isXYInActiveMove(e,t){return this.activePiece&&this.activePiece.point.row===e&&this.activePiece.point.col===t}isPointInPossibleMoves(e){return this.possibleMoves.some(t=>t.row===e.row&&t.col===e.col)}isPointInPossibleCaptures(e){return this.possibleCaptures.some(t=>t.row===e.row&&t.col===e.col)}reset(){this.lastMoveDest=null,this.lastMoveSrc=null,this.whiteKingChecked=!1,this.blackKingChecked=!1,this.possibleCaptures=[],this.possibleMoves=[],this.activePiece=null,this.reverted=!1,this.currentWhitePlayer=!0,this.enPassantPoint=null,this.enPassantPiece=null,this.fullMoveCount=1,this.calculateFEN()}reverse(){this.reverted=!this.reverted,this.activePiece=null,this.possibleMoves=[],this.possibleCaptures=[],this.pieces.forEach(e=>this.reversePoint(e.point)),this.reversePoint(this.lastMoveSrc),this.reversePoint(this.lastMoveDest),this.enPassantPoint&&this.enPassantPiece&&this.reversePoint(this.enPassantPoint)}clone(){return(0,J2.cloneDeep)(this)}isFieldTakenByEnemy(e,t,r){return!(e>7||e<0||t>7||t<0)&&this.pieces.some(i=>i.point.col===t&&i.point.row===e&&i.color===r)}isFieldEmpty(e,t){return!(e>7||e<0||t>7||t<0||this.pieces.some(r=>r.point.col===t&&r.point.row===e))}isFieldUnderAttack(e,t,r){return this.pieces.filter(i=>i.color===r).some(i=>i.getCoveredFields().some(s=>s.col===t&&s.row===e))}getPieceByField(e,t){if(!this.isFieldEmpty(e,t))return this.pieces.find(r=>r.point.col===t&&r.point.row===e)}isKingInCheck(e,t){const r=t.find(i=>i.color===e&&i instanceof Ut);return!!r&&t.some(i=>i.getPossibleCaptures().some(s=>s.col===r.point.col&&s.row===r.point.row)&&i.color!==e)}getKingByColor(e){return this.pieces.find(t=>t instanceof Ut&&t.color===e)}getCastleFENString(e){const t=this.getKingByColor(e);if(!t||t.isMovedAlready)return"";let r="";const i=this.getPieceByField(t.point.row,0),s=this.getPieceByField(t.point.row,7);return s instanceof rr&&s.color===e&&(s.isMovedAlready||(r+=this.reverted?"q":"k")),i instanceof rr&&i.color===e&&(i.isMovedAlready||(r+=this.reverted?"k":"q")),r=r.split("").sort().join(""),e===w.BLACK?r:r.toUpperCase()}getEnPassantFENString(){return this.enPassantPoint?this.reverted?String.fromCharCode(104-this.enPassantPoint.col)+(this.enPassantPoint.row+1):String.fromCharCode(97+this.enPassantPoint.col)+(Math.abs(this.enPassantPoint.row-7)+1):"-"}calculateFEN(){let e="";for(let s=0;s<8;++s){let a=0;for(let l=0;l<8;++l){const c=this.pieces.find(h=>h.point.col===l&&h.point.row===s);c?(a>0&&(e+=a,a=0),c instanceof rr?e+=c.color===w.BLACK?"r":"R":c instanceof ts?e+=c.color===w.BLACK?"n":"N":c instanceof es?e+=c.color===w.BLACK?"b":"B":c instanceof to?e+=c.color===w.BLACK?"q":"Q":c instanceof Ut?e+=c.color===w.BLACK?"k":"K":c instanceof ir&&(e+=c.color===w.BLACK?"p":"P")):++a}a>0&&(e+=a),e+="/"}e=e.substr(0,e.length-1),this.reverted&&(e=e.split("").reverse().join("")),e+=" "+(this.currentWhitePlayer?"w":"b");let i=this.getCastleFENString(w.WHITE)+this.getCastleFENString(w.BLACK);i||(i="-"),e+=" "+i,e+=" "+this.getEnPassantFENString(),e+=" 0",e+=" "+this.fullMoveCount,this.fen=e}isXYInPointSelection(e,t){return!1}reversePoint(e){e&&(e.row=Math.abs(e.row-7),e.col=Math.abs(e.col-7))}getPieceByPoint(e,t){return e=Math.floor(e),t=Math.floor(t),this.pieces.find(r=>r.point.col===t&&r.point.row===e)}checkIfPawnTakesEnPassant(e){e.isEqual(this.enPassantPoint)&&(this.pieces=this.pieces.filter(t=>t!==this.enPassantPiece),this.enPassantPoint=null,this.enPassantPiece=null)}checkIfPawnEnpassanted(e,t){Math.abs(e.point.row-t.row)>1?(this.enPassantPiece=e,this.enPassantPoint=new H((e.point.row+t.row)/2,e.point.col)):(this.enPassantPoint=null,this.enPassantPiece=null)}isKingChecked(e){if(e instanceof Ut)return e.color===w.WHITE?this.whiteKingChecked:this.blackKingChecked}getCurrentPlayerColor(){return this.currentWhitePlayer?w.WHITE:w.BLACK}}let T0=(()=>{class n{constructor(){this.componentMethodCallSource=new J,this.componentMethodCalled$=this.componentMethodCallSource.asObservable()}reset(){this.componentMethodCallSource.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HV=(()=>{class n{constructor(){this.color="white",this.opened=!1}open(t){this.opened=!0,this.onCloseCallback=t,this.modal.nativeElement.style.display="block"}changeSelection(t){this.modal.nativeElement.style.display="none",this.opened=!1,this.onCloseCallback(t)}getPieceIcon(t){let r="";switch(t.toLowerCase()){case"queen":r="white"===this.color?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;break;case"rook":r="white"===this.color?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;break;case"bishop":r="white"===this.color?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;break;case"knight":r="white"===this.color?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl}return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ts({type:n,selectors:[["app-piece-promotion-modal"]],viewQuery:function(t,r){if(1&t&&Hh(eV,5),2&t){let i;Zs(i=Ys())&&(r.modal=i.first)}},inputs:{pieceIconInput:"pieceIconInput",color:"color"},decls:6,vars:2,consts:[[1,"container"],["myModal",""],[1,"wrapper"],[1,"content"],["class","piece-wrapper",4,"ngIf"],[1,"piece-wrapper"],[1,"piece",3,"click"],["alt","Queen",3,"src"],["alt","Rook",3,"src"],["alt","Bishop",3,"src"],["alt","Knight",3,"src"]],template:function(t,r){1&t&&(ct(0,"div",0,1)(2,"div",2)(3,"div",3),nr(4,tV,9,4,"div",4),nr(5,nV,9,0,"div",4),dt()()()),2&t&&(xe(4),Bt("ngIf",r.pieceIconInput),xe(1),Bt("ngIf",!r.pieceIconInput))},directives:[Lm],styles:[".container[_ngcontent-%COMP%]{display:none;position:absolute;z-index:9999;top:0;color:#000;width:100%;height:100%;overflow:auto;background-color:#0006}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;position:relative;top:30%;font-size:100%;height:40%;padding:10px;border:1px solid #888;width:90%}.piece[_ngcontent-%COMP%]{font-size:5rem;height:100%;width:25%;cursor:pointer;display:inline-block;text-align:center}.piece[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.piece[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:5px}.piece-wrapper[_ngcontent-%COMP%]{height:80%;width:100%}#close-button[_ngcontent-%COMP%]{border-radius:4px;background-color:#4caf50;border:none;color:#fff;padding-left:5px;padding-right:5px;text-align:center;text-decoration:none;display:inline-block}.selected[_ngcontent-%COMP%]{border:2px solid #00B919;border-radius:4px;box-sizing:border-box}"]}),n})(),jV=(()=>{class n{constructor(t){this.ngxChessBoardService=t,this.darkTileColor=Ro.DEFAULT_DARK_TILE_COLOR,this.lightTileColor=Ro.DEFAULT_LIGHT_TILE_COLOR,this.showCoords=!0,this.sourcePointColor=Ro.DEFAULT_SOURCE_POINT_COLOR,this.destinationPointColor=Ro.DEFAULT_DESTINATION_POINT_COLOR,this.legalMovesPointColor=Ro.DEFAULT_LEGAL_MOVE_POINT_COLOR,this.showLastMove=!0,this.showLegalMoves=!0,this.showActivePiece=!0,this.showPossibleCaptures=!0,this.moveChange=new kt,this.checkmate=new kt,this.stalemate=new kt,this.selected=!1,this.isDragging=!1,this.startTransition="",this.engineFacade=new BV(new VV,this.moveChange)}set size(t){this.engineFacade.heightAndWidth=t&&t>=Ro.MIN_BOARD_SIZE&&t<=Ro.MAX_BOARD_SIZE?t:Ro.DEFAULT_SIZE,this.engineFacade.drawProvider.clear(),this.calculatePieceSize()}set freeMode(t){this.engineFacade.freeMode=t}set dragDisabled(t){this.engineFacade.dragDisabled=t}set drawDisabled(t){this.engineFacade.drawDisabled=t}set pieceIcons(t){this.engineFacade.pieceIconManager.pieceIconInput=t}set lightDisabled(t){this.engineFacade.lightDisabled=t}set darkDisabled(t){this.engineFacade.darkDisabled=t}onRightClick(t){t.preventDefault()}ngOnChanges(t){(t.lightDisabled&&this.lightDisabled&&this.engineFacade.board.currentWhitePlayer||t.darkDisabled&&this.darkDisabled&&!this.engineFacade.board.currentWhitePlayer)&&(this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[])}ngOnInit(){this.ngxChessBoardService.componentMethodCalled$.subscribe(()=>{this.engineFacade.reset()})}ngAfterViewInit(){this.engineFacade.modal=this.modal,this.calculatePieceSize()}onMouseUp(t){this.engineFacade.onMouseUp(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}reverse(){this.selected=!1,this.engineFacade.board.reverse(),this.engineFacade.coords.reverse()}updateBoard(t){this.engineFacade.board=t,this.boardLoader.setEngineFacade(this.engineFacade),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[]}setFEN(t){try{this.engineFacade.boardLoader.setNotationProcessor(S0.getProcessor(Al.FEN)),this.engineFacade.boardLoader.loadFEN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){this.engineFacade.boardLoader.addPieces()}}setPGN(t){try{this.engineFacade.pgnProcessor.reset(),this.engineFacade.boardLoader.setNotationProcessor(S0.getProcessor(Al.PGN)),this.engineFacade.boardLoader.loadPGN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){console.log(r),this.engineFacade.boardLoader.addPieces()}}getFEN(){return this.engineFacade.board.fen}dragEnded(t){this.isDragging=!1,this.engineFacade.dragEndStrategy.process(t,this.engineFacade.moveDone,this.startTransition)}dragStart(t){this.isDragging=!0;let r=t.source.getRootElement().style.transform.split(") ");this.startTransition=2===r.length?r[1]:r[0],this.engineFacade.dragStartStrategy.process(t)}onMouseDown(t){this.engineFacade.onMouseDown(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}getClickPoint(t){return A0.getClickPoint(t,this.boardRef.nativeElement.getBoundingClientRect().top,this.boardRef.nativeElement.getBoundingClientRect().height,this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().width)}calculatePieceSize(){this.pieceSize=this.engineFacade.heightAndWidth/8}getCustomPieceIcons(t){return JSON.parse(`{ "background-image": "url('${this.engineFacade.pieceIconManager.getPieceIcon(t)}')"}`)}move(t){this.engineFacade.move(t)}getMoveHistory(){return this.engineFacade.getMoveHistory()}reset(){this.engineFacade.reset()}undo(){this.engineFacade.undo()}addPiece(t,r,i){this.engineFacade.addPiece(t,r,i)}getPGN(){return this.engineFacade.pgnProcessor.getPGN()}dragMoved(t){let r=t.pointerPosition.x-t.source.getRootElement().parentElement.getBoundingClientRect().left-this.pieceSize/2,i=t.pointerPosition.y-t.source.getRootElement().parentElement.getBoundingClientRect().top-this.pieceSize/2;t.source.getRootElement().style.transform="translate3d("+r+"px, "+i+"px,0px)"}getTileBackgroundColor(t,r){let i=(t+r)%2==0?this.lightTileColor:this.darkTileColor;return this.showLastMove&&(this.engineFacade.board.isXYInSourceMove(t,r)&&(i=this.sourcePointColor),this.engineFacade.board.isXYInDestMove(t,r)&&(i=this.destinationPointColor)),i}}return n.\u0275fac=function(t){return new(t||n)(se(T0))},n.\u0275cmp=Ts({type:n,selectors:[["ngx-chess-board"]],viewQuery:function(t,r){if(1&t&&(Hh(rV,5),Hh(iV,5)),2&t){let i;Zs(i=Ys())&&(r.boardRef=i.first),Zs(i=Ys())&&(r.modal=i.first)}},hostBindings:function(t,r){1&t&&Ot("contextmenu",function(s){return r.onRightClick(s)})},inputs:{darkTileColor:"darkTileColor",lightTileColor:"lightTileColor",showCoords:"showCoords",sourcePointColor:"sourcePointColor",destinationPointColor:"destinationPointColor",legalMovesPointColor:"legalMovesPointColor",showLastMove:"showLastMove",showLegalMoves:"showLegalMoves",showActivePiece:"showActivePiece",showPossibleCaptures:"showPossibleCaptures",size:"size",freeMode:"freeMode",dragDisabled:"dragDisabled",drawDisabled:"drawDisabled",pieceIcons:"pieceIcons",lightDisabled:"lightDisabled",darkDisabled:"darkDisabled"},outputs:{moveChange:"moveChange",checkmate:"checkmate",stalemate:"stalemate"},features:[Un],decls:13,vars:18,consts:[["id","board",3,"pointerdown","pointerup"],["boardRef",""],["id","drag"],["class","single-piece","cdkDrag","",3,"cdkDragDisabled","innerHTML","ngStyle","transform","max-height","font-size","width","height","cdkDragEnded","cdkDragMoved","cdkDragStarted",4,"ngFor","ngForOf"],["class","board-row",4,"ngFor","ngForOf"],[2,"position","absolute","top","0","pointer-events","none"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngFor","ngForOf"],["fill-opacity","0.0","stroke-width","2",4,"ngFor","ngForOf"],[3,"pieceIconInput","color"],["modal",""],["cdkDrag","",1,"single-piece",3,"cdkDragDisabled","innerHTML","ngStyle","cdkDragEnded","cdkDragMoved","cdkDragStarted"],[1,"board-row"],["class","board-col",3,"current-selection","king-check","point-circle","possible-capture","possible-point","background-color",4,"ngFor","ngForOf"],[1,"board-col"],["class","yCoord",3,"color","font-size",4,"ngIf"],["class","xCoord",3,"color","font-size",4,"ngIf"],["style","height:100%; width:100%",4,"ngIf"],[1,"yCoord"],[1,"xCoord"],[2,"height","100%","width","100%"],[3,"ngClass"],["markerHeight","13","markerWidth","13","orient","auto","refX","9","refY","6",3,"id"],["d","M2,2 L2,11 L10,6 L2,2"],[1,"arrow"],["fill-opacity","0.0","stroke-width","2"]],template:function(t,r){if(1&t){const i=wo();ct(0,"div",0,1),Ot("pointerdown",function(a){return an(i),!om(12).opened&&r.onMouseDown(a)})("pointerup",function(a){return an(i),!om(12).opened&&r.onMouseUp(a)}),ct(2,"div",2),nr(3,sV,1,13,"div",3),nr(4,cV,2,1,"div",4),dt(),$a(),ct(5,"svg",5),nr(6,dV,3,3,"defs",6),nr(7,hV,1,6,"line",7),mm(8,"async"),nr(9,fV,1,4,"circle",8),mm(10,"async"),dt(),function ru(){!function _o(){Ge.lFrame.currentNamespace=null}()}(),Ar(11,"app-piece-promotion-modal",9,10),dt()}2&t&&(Do("height",r.engineFacade.heightAndWidth,"px")("width",r.engineFacade.heightAndWidth,"px"),xe(3),Bt("ngForOf",r.engineFacade.board.pieces),xe(1),Bt("ngForOf",r.engineFacade.board.board),xe(1),wi("height",r.engineFacade.heightAndWidth)("width",r.engineFacade.heightAndWidth),xe(1),Bt("ngForOf",function mS(n,e,t){const r=hr()+n,i=ce();return i[r]===Xe?zs(i,r,t?e.call(t):e()):function Th(n,e){return n[e]}(i,r)}(17,pV)),xe(1),Bt("ngForOf",_m(8,13,r.engineFacade.drawProvider.arrows$)),xe(2),Bt("ngForOf",_m(10,15,r.engineFacade.drawProvider.circles$)),xe(2),Bt("pieceIconInput",r.engineFacade.pieceIconManager.pieceIconInput)("color",r.engineFacade.board.getCurrentPlayerColor()?"white":"black"))},directives:[HV,km,Y2,kA,Lm,RA],pipes:[LA],styles:['@charset "UTF-8";#board[_ngcontent-%COMP%]{font-family:Courier New,serif;position:relative}.board-row[_ngcontent-%COMP%]{display:block;width:100%;height:12.5%;position:relative}.board-col[_ngcontent-%COMP%]{position:relative;display:inline-block;width:12.5%;vertical-align:top;cursor:default;height:100%}.piece[_ngcontent-%COMP%]{height:100%;cursor:-webkit-grab;cursor:grab;width:100%;-moz-user-select:none;user-select:none;-webkit-user-select:none;background-size:cover;justify-content:center;text-align:center;color:#000!important;box-sizing:border-box}.piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}#drag[_ngcontent-%COMP%]{height:100%;width:100%}.possible-point[_ngcontent-%COMP%]{background:radial-gradient(#13262F 15%,transparent 20%)}.possible-point[_ngcontent-%COMP%]:hover, .possible-capture[_ngcontent-%COMP%]:hover{opacity:.4}.possible-capture[_ngcontent-%COMP%]{background:radial-gradient(transparent 0%,transparent 80%,#13262F 80%);opacity:.5;box-sizing:border-box;margin:0;padding:0}.king-check[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,red 0%,#e70000 25%,rgba(169,0,0,0) 89%,rgba(158,0,0,0) 100%)}.current-selection[_ngcontent-%COMP%]{background-color:#72620b!important}.yCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;right:.2em;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.xCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;left:.2em;bottom:0;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.hovering[_ngcontent-%COMP%]{background-color:red!important}.arrow[_ngcontent-%COMP%]{stroke-width:2}svg[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0px #111) drop-shadow(-1px 1px 0px #111) drop-shadow(1px -1px 0px #111) drop-shadow(-1px -1px 0px #111)}[_nghost-%COMP%]{display:inline-block!important}.single-piece[_ngcontent-%COMP%]{position:absolute;z-index:999;justify-content:center;text-align:center;-moz-user-select:none;user-select:none;-webkit-user-select:none;color:#000!important;cursor:-webkit-grab;cursor:grab;background-size:cover}.single-piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .2s cubic-bezier(0,.3,.14,.49)}']}),n})(),UV=(()=>{class n{static forRoot(){return{ngModule:n,providers:[T0]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({imports:[[HA,X2]]}),n})();function $V(n,e){if(1&n&&(ct(0,"h3"),hn(1),dt()),2&n){const t=e.$implicit;xe(1),NC(" ",t.key,"=",t.value," ")}}let WV=(()=>{class n{constructor(){this.selectedMove=new kt}ngOnInit(){}makeMove(){this.selectedMove.emit(this.moveEvaluation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ts({type:n,selectors:[["app-chess-move"]],inputs:{moveEvaluation:"moveEvaluation"},outputs:{selectedMove:"selectedMove"},decls:11,vars:6,consts:[[1,"move",3,"click"],[1,"details"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(ct(0,"div",0),Ot("click",function(){return r.makeMove()}),ct(1,"p"),hn(2),dt(),ct(3,"p"),hn(4),dt(),Ar(5,"br"),ct(6,"div",1)(7,"h3"),hn(8),nr(9,$V,2,2,"h3",2),mm(10,"keyvalue"),dt()()()),2&t&&(xe(2),um(r.moveEvaluation.move.san),xe(2),um(r.moveEvaluation.score),xe(4),_l(" Check=",r.moveEvaluation.check," "),xe(1),Bt("ngForOf",_m(10,4,r.moveEvaluation.scoreList)))},directives:[km],pipes:[BA],styles:[".move[_ngcontent-%COMP%]{min-width:30px;border:solid 1px;text-align:center;margin-right:2px}.move[_ngcontent-%COMP%]:hover{background-color:#7fffd4}h3[_ngcontent-%COMP%]{font-size:12px}.details[_ngcontent-%COMP%]{display:none}.move[_ngcontent-%COMP%]:hover > .details[_ngcontent-%COMP%]{display:block}"]}),n})();const Tr=new Ve("NgValidators"),Da=new Ve("NgAsyncValidators");function aI(n){return null!=n}function lI(n){const e=Mh(n)?Pn(n):n;return OC(e),e}function uI(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function cI(n,e){return e.map(t=>t(n))}function dI(n){return n.map(e=>function YV(n){return!n.validate}(e)?e:t=>e.validate(t))}function I0(n){return null!=n?function hI(n){if(!n)return null;const e=n.filter(aI);return 0==e.length?null:function(t){return uI(cI(t,e))}}(dI(n)):null}function P0(n){return null!=n?function fI(n){if(!n)return null;const e=n.filter(aI);return 0==e.length?null:function(t){return function KV(...n){const e=Mc(n),{args:t,keys:r}=nT(n),i=new O(s=>{const{length:a}=t;if(!a)return void s.complete();const l=new Array(a);let c=a,h=a;for(let f=0;f<a;f++){let g=!1;Wr(t[f]).subscribe(de(s,v=>{g||(g=!0,h--),l[f]=v},()=>c--,void 0,()=>{(!c||!g)&&(h||s.next(r?iT(r,l):l),s.complete())}))}});return e?i.pipe(rT(e)):i}(cI(t,e).map(lI)).pipe(ve(uI))}}(dI(n)):null}function pI(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function O0(n){return n?Array.isArray(n)?n:[n]:[]}function m_(n,e){return Array.isArray(n)?n.includes(e):n===e}function _I(n,e){const t=O0(e);return O0(n).forEach(i=>{m_(t,i)||t.push(i)}),t}function vI(n,e){return O0(e).filter(t=>!m_(n,t))}class Ur extends class yI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=I0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=P0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}{get formDirective(){return null}get path(){return null}}let bI=(()=>{class n extends class CI{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(se(Ur,10))},n.\u0275dir=Ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Xu("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Zt]}),n})();function C_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function F0(n,e){const t=function gI(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(pI(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function mI(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(pI(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();C_(e._rawValidators,i),C_(e._rawAsyncValidators,i)}function wI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function L0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const mf="VALID",E_="INVALID",mc="PENDING",_f="DISABLED";function V0(n){return(w_(n)?n.validators:n)||null}function TI(n){return Array.isArray(n)?I0(n):n||null}function H0(n,e){return(w_(e)?e.asyncValidators:n)||null}function MI(n){return Array.isArray(n)?P0(n):n||null}function w_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const j0=n=>n instanceof $0;function PI(n){return(n=>n instanceof xI)(n)?n.value:n.getRawValue()}function OI(n,e){const t=j0(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new Se(1e3,"");if(!r[e])throw new Se(1001,"")}function RI(n,e){j0(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new Se(1002,"")})}class U0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=TI(this._rawValidators),this._composedAsyncValidatorFn=MI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mf}get invalid(){return this.status===E_}get pending(){return this.status==mc}get disabled(){return this.status===_f}get enabled(){return this.status!==_f}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=TI(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=MI(e)}addValidators(e){this.setValidators(_I(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_I(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vI(e,this._rawAsyncValidators))}hasValidator(e){return m_(this._rawValidators,e)}hasAsyncValidator(e){return m_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_f,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mf||this.status===mc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_f:mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mc,this._hasOwnPendingAsyncValidator=!0;const t=lI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function hH(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=j0(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof pH)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new kt,this.statusChanges=new kt}_calculateStatus(){return this._allControlsDisabled()?_f:this.errors?E_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mc)?mc:this._anyControlsHaveStatus(E_)?E_:mf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){w_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xI extends U0{constructor(e=null,t,r){super(V0(t),H0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),w_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){L0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){L0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $0 extends U0{constructor(e,t,r){super(V0(t),H0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){RI(this,e),Object.keys(e).forEach(r=>{OI(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=PI(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class pH extends U0{constructor(e,t,r){super(V0(t),H0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){RI(this,e),e.forEach((r,i)=>{OI(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>PI(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const gH={provide:Ur,useExisting:Gt(()=>D_)},vf=(()=>Promise.resolve(null))();let D_=(()=>{class n extends Ur{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new kt,this.form=new $0({},I0(t),P0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vf.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),function gf(n,e){F0(n,e),e.valueAccessor.writeValue(n.value),function oH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wI(n,e)})}(n,e),function lH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function aH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function sH(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vf.then(()=>{const r=this._findContainer(t.path),i=new $0({});(function DI(n,e){F0(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){vf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function AI(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(se(Tr,10),se(Da,10))},n.\u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Ot("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dn([gH]),Zt]}),n})(),BI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),HI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})(),UH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({imports:[[HI]]}),n})(),$H=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({imports:[UH]}),n})();const WH=["board"];function KH(n,e){if(1&n){const t=wo();ct(0,"div")(1,"app-chess-move",5),Ot("selectedMove",function(i){return an(t),xt(2).makeMove(i)}),dt()()}if(2&n){const t=e.$implicit;xe(1),Bt("moveEvaluation",t)}}function GH(n,e){if(1&n){const t=wo();ct(0,"div")(1,"app-chess-move",5),Ot("selectedMove",function(i){return an(t),xt(2).makeMove(i)}),dt()()}if(2&n){const t=e.$implicit;xe(1),Bt("moveEvaluation",t)}}function zH(n,e){if(1&n){const t=wo();ct(0,"div")(1,"h3"),hn(2),dt(),ct(3,"button",2),Ot("click",function(){return an(t),xt().copyPgn()}),hn(4,"Kopiuj"),dt(),ct(5,"div",3)(6,"h3"),hn(7,"Wszystkie:"),dt(),nr(8,KH,2,1,"div",4),dt(),ct(9,"div",3)(10,"h3"),hn(11,"Kandydaci:"),dt(),nr(12,GH,2,1,"div",4),dt(),ct(13,"div",3)(14,"h3"),hn(15,"Wybrany:"),dt(),ct(16,"app-chess-move",5),Ot("selectedMove",function(i){return an(t),xt().makeMove(i)}),dt()(),ct(17,"form")(18,"button",2),Ot("click",function(){return an(t),xt().moveBack()}),hn(19,"Cofnij"),dt()(),Ar(20,"br"),ct(21,"p"),hn(22,"Ranodm Game"),dt(),ct(23,"form")(24,"button",2),Ot("click",function(){return an(t),xt().startRandomGame()}),hn(25,"New game"),dt(),Ar(26,"br"),ct(27,"button",6),Ot("click",function(){return an(t),xt().stopRandomGame()}),hn(28,"Stop"),dt(),ct(29,"button",6),Ot("click",function(){return an(t),xt().resumeRandomGame()}),hn(30,"Resume"),dt()(),ct(31,"div",7)(32,"ngx-chess-board",8,9),Ot("moveChange",function(i){return an(t),xt().moveCallback(i)}),dt()()()}if(2&n){const t=xt();xe(2),_l("PGN: ",t.pgn,""),xe(6),Bt("ngForOf",t.allMoves),xe(4),Bt("ngForOf",t.candidates),xe(4),Bt("moveEvaluation",t.bestMove),xe(11),Bt("disabled",!t.isRandomGame),xe(2),Bt("disabled",t.isRandomGame),xe(3),Bt("size",400)}}function qH(n,e){if(1&n){const t=wo();ct(0,"li"),hn(1),ct(2,"button",2),Ot("click",function(){const s=an(t).$implicit;return xt(2).challenge(s.id)}),hn(3,"challenge"),dt()()}if(2&n){const t=e.$implicit,r=e.index;xe(1),kC(" ",r," / ",t.id," - ",t.perfs.bullet.rating," ")}}function QH(n,e){if(1&n&&(ct(0,"div"),hn(1," Bot mode. "),dt(),nr(2,qH,4,3,"li",4)),2&n){const t=xt();xe(2),Bt("ngForOf",t.onlineBots)}}let ZH=(()=>{class n{constructor(t,r){this.cdRef=t,this.ngxChessBoardService=r,this.chess=new xB.qQ,this.scoreList=[],this.MAX_DEPTH=200,this.scoreMap=new Map,this.currentDepth=1,this.evaluationScore=0,this.castel=new FB(this.chess),this.material=new KB(this.chess),this.fen="",this.pgn="",this.allMoves=[],this.candidates=[],this.bestMove=new h0(this.chess.moves({verbose:!0})[0]),this.newMove="",this.isRandomGame=!1,this.isBotMode=!1,this.lichessApi=new UB,this.SQUARES=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"]}ngAfterViewInit(){this.createScoreList(),this.board.reset(),this.game(),this.startBot()}createScoreList(){this.scoreList.push(new NB(this.chess)),this.scoreList.push(new kB(this.chess)),this.scoreList.push(new LB(this.chess)),this.scoreList.push(new BB(this.chess)),this.scoreList.push(new VB(this.chess))}startRandomGame(){this.board.reset(),this.chess.reset(),setTimeout(()=>{this.randomGame()},3e3)}randomGame(){this.isRandomGame=!0,this.chess.isGameOver()||this.makeMove(this.bestMove)}game(){var t=this;if(this.fen=this.chess.fen(),this.chess.isGameOver())return new h0(this.chess.moves({verbose:!0})[0]);this.allMoves=this.getAllMoves();let r=this.getInitialScore(),i=[];return this.currentDepth=1,this.evaluationScore=this.material.score(),this.allMoves.forEach(function(s){t.evaluate(s),"w"===t.chess.turn()&&s.score>r||"b"===t.chess.turn()&&s.score<r?(r=s.score,i=[],i.push(s)):s.score==r&&i.push(s)}),this.candidates=i,this.bestMove=i[Math.floor(Math.random()*i.length)],this.bestMove}getInitialScore(){return"w"===this.chess.turn()?-1e6:1e6}getAllMoves(){let t=[];return this.chess.moves({verbose:!0}).forEach(r=>{t.push(new h0(r))}),t}evaluate(t){let r=this.scoreForMyMove(t.move,this.evaluationScore,!0);this.chess.move(t.move),this.chess.isCheckmate()?"b"===this.chess.turn()?r+=1e3:r-=1e3:this.isGameDrawn()?r=0:(this.chess.isCheck()?(t.check=.1,"b"===this.chess.turn()?r+=.1:r-=.1):r+=.01*this.scoreAttackOnKingRing(),this.scoreList.forEach(i=>{let s=i.score();t.scoreList.set(i.description(),s),r+=s}),r+=this.castel.evaluateCastel(t),r+=this.evaluateCapture(r,t.move)),t.score=Math.round(100*r)/100,this.chess.undo()}evaluateCapture(t,r){let i=t;return r.captured&&("b"===this.chess.turn()?i>=5?i+=.5:i>=2?"p"!=r.piece||this.material.whiteCount.pawns>2?i+=.5:i-=.5:i<=-2&&("p"==r.piece?i+=.5:i-=.5):i<=-5?i-=.5:i<=-2?"p"!=r.piece||this.material.blackCount.pawns>2?i-=.5:i+=.5:i>=2&&("p"==r.piece?i-=.5:i+=.5)),i}scoreForOponentMove(t,r){let i=r;if(t.captured&&("w"===this.chess.turn()?i+=this.material.evaluatePieceMaterial(t.captured):i-=this.material.evaluatePieceMaterial(t.captured)),t.promotion){let a=this.material.evaluatePieceMaterial(t.promotion)-1;"w"===this.chess.turn()?i+=a:i-=a}let s=i;return this.currentDepth<this.MAX_DEPTH&&(this.currentDepth++,this.chess.move(t),this.chess.moves({verbose:!0}).forEach(a=>{if(a.captured&&a.to===t.to){let l=this.scoreForMyMove(a,i,!1);(l>s&&"w"===this.chess.turn()||l<s&&"b"===this.chess.turn())&&(s=l)}}),this.chess.undo(),this.currentDepth--),this.scoreMap.set(this.chess.fen(),s),s}scoreForMyMove(t,r,i){let s=r;if(t.captured&&("w"===this.chess.turn()?s+=this.material.evaluatePieceMaterial(t.captured):s-=this.material.evaluatePieceMaterial(t.captured)),t.promotion){let l=this.material.evaluatePieceMaterial(t.promotion)-1;"w"===this.chess.turn()?s+=l:s-=l}let a=s;return this.chess.move(t),this.chess.moves({verbose:!0}).forEach(l=>{if(this.isOponentNextMoveCheckmate(l))a="b"===this.chess.turn()?-1e3:1e3;else if(l.promotion||l.captured&&(i||l.to===t.to)){let c=this.scoreForOponentMove(l,s);(c<a&&"b"===this.chess.turn()||c>a&&"w"===this.chess.turn())&&(a=c)}}),this.chess.undo(),this.scoreMap.set(this.chess.fen(),a),a}isOponentNextMoveCheckmate(t){return this.chess.move(t),this.chess.isCheckmate()?(this.chess.undo(),!0):(this.chess.undo(),!1)}makeMove(t){this.chess.move(t.move);let r=this.getBoardMove(t);this.board.move(r),this.refresh()}getBoardMove(t){let r=t.move.from+t.move.to;if(t.move.promotion)switch(t.move.promotion){case"q":r+="1";break;case"r":r+="2";break;case"b":r+="3";break;case"n":r+="4"}return r}moveBack(){this.chess.undo(),this.board.undo(),this.refresh()}refresh(){setTimeout(()=>{this.game(),this.pgn=this.chess.pgn(),this.isGameDrawn()&&(this.pgn+=" 1/2"),this.newMove="",this.isRandomGame&&this.randomGame()},500)}copyPgn(){document.addEventListener("copy",t=>{var r;null===(r=t.clipboardData)||void 0===r||r.setData("text/plain",this.pgn),t.preventDefault()}),document.execCommand("copy")}moveCallback(t){let r=this.getChessEngineMove(t.move);this.chess.move(r,{strict:!0}),this.refresh()}getChessEngineMove(t){let r=t.substring(0,4);if(5===t.length)switch(t[4]){case"1":r+="q";break;case"2":r+="r";break;case"3":r+="b";break;case"4":r+="n"}return r}loadFEN(t){this.chess.load(t),this.board.setFEN(t)}startBot(){this.isBotMode=!0,new WB(this.lichessApi,this.getReply,this.botMove.bind(this)).start(),this.lichessApi.getOnlineBots().then(r=>{this.onlineBots=r.data.trim().split("\n").map(JSON.parse),this.onlineBots.sort((i,s)=>i.perfs.bullet.rating>s.perfs.bullet.rating?1:-1)})}botMove(t){this.chess.reset(),t.forEach(i=>this.chess.move(i));let r=this.game();return r.move.from+r.move.to+("p"===r.move.flags?r.move.piece:"")}getReply(){return"hi"}stopRandomGame(){this.isRandomGame=!1}resumeRandomGame(){this.isRandomGame=!0,this.refresh()}isGameDrawn(){return this.chess.isDraw()||this.chess.isStalemate()||this.chess.isThreefoldRepetition()}challenge(t){this.lichessApi.challenge(t)}testBot(){new GB(this.chess.load.bind(this.chess),this.game.bind(this)).test()}scoreAttackOnKingRing(){let t=0,r=this.getKingRing(this.material.whiteKingPosition);return this.getKingRing(this.material.blackKingPosition).forEach(s=>{this.chess.isAttacked(s,"w")&&t++}),r.forEach(s=>{this.chess.isAttacked(s,"b")&&t--}),t}getKingRing(t){let r=[],i=t.x,s=t.y;for(let a=i-1;a<=i+1;a++)if(!(a<0||a>7))for(let l=s-1;l<=s+1;l++)l<0||l>7||r.push(this.SQUARES[8*l+a]);return r}}return n.\u0275fac=function(t){return new(t||n)(se(sc),se(T0))},n.\u0275cmp=Ts({type:n,selectors:[["app-engine"]],viewQuery:function(t,r){if(1&t&&Hh(WH,5),2&t){let i;Zs(i=Ys())&&(r.board=i.first)}},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["botMode",""],["type","button",1,"btn","btn-success",3,"click"],[1,"moves-list"],[4,"ngFor","ngForOf"],[3,"moveEvaluation","selectedMove"],["type","button",1,"btn","btn-success",3,"disabled","click"],[2,"width","400px","margin-left","auto","margin-right","auto","padding-bottom","100px","max-width","100%"],[3,"size","moveChange"],["board",""]],template:function(t,r){if(1&t&&(nr(0,zH,34,7,"div",0),nr(1,QH,3,1,"ng-template",null,1,PS)),2&t){const i=om(2);Bt("ngIf",!r.isBotMode)("ngIfElse",i)}},directives:[Lm,km,WV,BI,bI,D_,jV],styles:[".move[_ngcontent-%COMP%]{min-width:30px;border:solid 1px;text-align:center;margin-right:2px}.move[_ngcontent-%COMP%]:hover{background-color:#7fffd4}.moves-list[_ngcontent-%COMP%]{display:flex}"]}),n})(),YH=(()=>{class n{constructor(){this.title="my-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ts({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&Ar(0,"app-engine")(1,"router-outlet")},directives:[ZH,n0],styles:["",'[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']}),n})();class iP{}const Fo="*";function sP(n,e=null){return{type:2,steps:n,options:e}}function oP(n){return{type:6,styles:n,offset:null}}function aP(n){Promise.resolve(null).then(n)}class yf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){aP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class lP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?aP(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Pt=!1;function uP(n){return new Se(3e3,Pt)}function Rj(){return"undefined"!=typeof window&&void 0!==window.document}function Y0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Aa(n){switch(n.length){case 0:return new yf;case 1:return n[0];default:return new lP(n)}}function cP(n,e,t,r,i={},s={}){const a=[],l=[];let c=-1,h=null;if(r.forEach(f=>{const g=f.offset,v=g==c,b=v&&h||{};Object.keys(f).forEach(T=>{let j=T,Q=f[T];if("offset"!==T)switch(j=e.normalizePropertyName(j,a),Q){case"!":Q=i[T];break;case Fo:Q=s[T];break;default:Q=e.normalizeStyleValue(T,j,Q,a)}b[j]=Q}),v||l.push(b),h=b,c=g}),a.length)throw function bj(n){return new Se(3502,Pt)}();return l}function X0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&J0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&J0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&J0(t,"destroy",n)))}}function J0(n,e,t){const r=t.totalTime,s=eE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function eE(n,e,t,r,i="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function Ai(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function dP(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let tE=(n,e)=>!1,hP=(n,e,t)=>[],fP=null;function nE(n){const e=n.parentNode||n.host;return e===fP?null:e}(Y0()||"undefined"!=typeof Element)&&(Rj()?(fP=(()=>document.documentElement)(),tE=(n,e)=>{for(;e;){if(e===n)return!0;e=nE(e)}return!1}):tE=(n,e)=>n.contains(e),hP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Il=null,pP=!1;function gP(n){Il||(Il=function Fj(){return"undefined"!=typeof document?document.body:null}()||{},pP=!!Il.style&&"WebkitAppearance"in Il.style);let e=!0;return Il.style&&!function xj(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Il.style,!e&&pP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Il.style)),e}const mP=tE,_P=hP;let vP=(()=>{class n{validateStyleProperty(t){return gP(t)}matchesElement(t,r){return!1}containsElement(t,r){return mP(t,r)}getParentElement(t){return nE(t)}query(t,r,i){return _P(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,a,l=[],c){return new yf(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})(),rE=(()=>{class n{}return n.NOOP=new vP,n})();const iE="ng-enter",A_="ng-leave",T_="ng-trigger",M_=".ng-trigger",CP="ng-animating",sE=".ng-animating";function Pl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:oE(parseFloat(e[1]),e[2])}function oE(n,e){return"s"===e?1e3*n:n}function I_(n,e,t){return n.hasOwnProperty("duration")?n:function Lj(n,e,t){let i,s=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(uP()),{duration:0,delay:0,easing:""};i=oE(parseFloat(l[1]),l[2]);const c=l[3];null!=c&&(s=oE(parseFloat(c),l[4]));const h=l[5];h&&(a=h)}else i=n;if(!t){let l=!1,c=e.length;i<0&&(e.push(function JH(){return new Se(3100,Pt)}()),l=!0),s<0&&(e.push(function ej(){return new Se(3101,Pt)}()),l=!0),l&&e.splice(c,0,uP())}return{duration:i,delay:s,easing:a}}(n,e,t)}function _c(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ta(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else _c(n,t);return t}function EP(n,e,t){return t?e+":"+t+";":""}function wP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=EP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=EP(0,Hj(t),n.style[t]));n.setAttribute("style",e)}function ro(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=lE(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Y0()&&wP(n))}function Ol(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=lE(t);n.style[r]=""}),Y0()&&wP(n))}function Cf(n){return Array.isArray(n)?1==n.length?n[0]:sP(n):n}const aE=new RegExp("{{\\s*(.+?)\\s*}}","g");function DP(n){let e=[];if("string"==typeof n){let t;for(;t=aE.exec(n);)e.push(t[1]);aE.lastIndex=0}return e}function P_(n,e,t){const r=n.toString(),i=r.replace(aE,(s,a)=>{let l=e[a];return e.hasOwnProperty(a)||(t.push(function nj(n){return new Se(3003,Pt)}()),l=""),l.toString()});return i==r?n:i}function O_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Vj=/-+([a-z0-9])/g;function lE(n){return n.replace(Vj,(...e)=>e[1].toUpperCase())}function Hj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ti(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function rj(n){return new Se(3004,Pt)}()}}function SP(n,e){return window.getComputedStyle(n)[e]}function Gj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function zj(n,e,t){if(":"==n[0]){const c=function qj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function _j(n){return new Se(3016,Pt)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function mj(n){return new Se(3015,Pt)}()),e;const i=r[1],s=r[2],a=r[3];e.push(AP(i,a));"<"==s[0]&&!("*"==i&&"*"==a)&&e.push(AP(a,i))}(r,t,e)):t.push(n),t}const N_=new Set(["true","1"]),k_=new Set(["false","0"]);function AP(n,e){const t=N_.has(n)||k_.has(n),r=N_.has(e)||k_.has(e);return(i,s)=>{let a="*"==n||n==i,l="*"==e||e==s;return!a&&t&&"boolean"==typeof i&&(a=i?N_.has(n):k_.has(n)),!l&&r&&"boolean"==typeof s&&(l=s?N_.has(e):k_.has(e)),a&&l}}const Qj=new RegExp("s*:selfs*,?","g");function uE(n,e,t,r){return new Zj(n).build(e,t,r)}class Zj{constructor(e){this._driver=e}build(e,t,r){const i=new Jj(t);this._resetContextStyleTimingState(i);const s=Ti(this,Cf(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function sj(){return new Se(3006,Pt)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const c=l,h=c.name;h.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,s.push(this.visitState(c,t))}),c.name=h}else if(1==l.type){const c=this.visitTransition(l,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push(function oj(){return new Se(3007,Pt)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=i||{};r.styles.forEach(l=>{if(L_(l)){const c=l;Object.keys(c).forEach(h=>{DP(c[h]).forEach(f=>{a.hasOwnProperty(f)||s.add(f)})})}}),s.size&&(O_(s.values()),t.errors.push(function aj(n,e){return new Se(3008,Pt)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ti(this,Cf(e.animation),t);return{type:1,matchers:Gj(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Rl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ti(this,r,t)),options:Rl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(a=>{t.currentTime=r;const l=Ti(this,a,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:3,steps:s,options:Rl(e.options)}}visitAnimate(e,t){const r=function tU(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return cE(I_(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=cE(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||I_(r,e),cE(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:oP({});if(5==s.type)i=this.visitKeyframes(s,t);else{let a=e.styles,l=!1;if(!a){l=!0;const h={};r.easing&&(h.easing=r.easing),a=oP(h)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(a,t);c.isEmptyStep=l,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(a=>{"string"==typeof a?a==Fo?r.push(a):t.errors.push(function lj(n){return new Se(3002,Pt)}()):r.push(a)}):r.push(e.styles);let i=!1,s=null;return r.forEach(a=>{if(L_(a)){const l=a,c=l.easing;if(c&&(s=c,delete l.easing),!i)for(let h in l)if(l[h].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return delete a[l],void t.unsupportedCSSPropertiesFound.add(l);const c=t.collectedStyles[t.currentQuerySelector],h=c[l];let f=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function uj(n,e,t,r,i){return new Se(3010,Pt)}()),f=!1),s=h.startTime),f&&(c[l]={startTime:s,endTime:i}),t.options&&function Bj(n,e,t){const r=e.params||{},i=DP(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function tj(n){return new Se(3001,Pt)}())})}(a[l],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function cj(){return new Se(3011,Pt)}()),r;let s=0;const a=[];let l=!1,c=!1,h=0;const f=e.steps.map(ae=>{const $=this._makeStyleAst(ae,t);let Ce=null!=$.offset?$.offset:function eU(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(L_(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(L_(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}($.styles),Ne=0;return null!=Ce&&(s++,Ne=$.offset=Ce),c=c||Ne<0||Ne>1,l=l||Ne<h,h=Ne,a.push(Ne),$});c&&t.errors.push(function dj(){return new Se(3012,Pt)}()),l&&t.errors.push(function hj(){return new Se(3200,Pt)}());const g=e.steps.length;let v=0;s>0&&s<g?t.errors.push(function fj(){return new Se(3202,Pt)}()):0==s&&(v=1/(g-1));const b=g-1,T=t.currentTime,j=t.currentAnimateTimings,Q=j.duration;return f.forEach((ae,$)=>{const Ce=v>0?$==b?1:v*$:a[$],Ne=Ce*Q;t.currentTime=T+j.delay+Ne,j.duration=Ne,this._validateStyleAst(ae,t),ae.offset=Ce,r.styles.push(ae)}),r}visitReference(e,t){return{type:8,animation:Ti(this,Cf(e.animation),t),options:Rl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Rl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function Yj(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Qj,"")),n=n.replace(/@\*/g,M_).replace(/@\w+/g,t=>M_+"-"+t.substr(1)).replace(/:animating/g,sE),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ai(t.collectedStyles,t.currentQuerySelector,{});const l=Ti(this,Cf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:Rl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function pj(){return new Se(3013,Pt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:I_(e.timings,t.errors,!0);return{type:12,animation:Ti(this,Cf(e.animation),t),timings:r,options:null}}}class Jj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function L_(n){return!Array.isArray(n)&&"object"==typeof n}function Rl(n){return n?(n=_c(n)).params&&(n.params=function Xj(n){return n?_c(n):null}(n.params)):n={},n}function cE(n,e,t){return{duration:n,delay:e,easing:t}}function dE(n,e,t,r,i,s,a=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:l}}class B_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const iU=new RegExp(":enter","g"),oU=new RegExp(":leave","g");function hE(n,e,t,r,i,s={},a={},l,c,h=[]){return(new aU).buildKeyframes(n,e,t,r,i,s,a,l,c,h)}class aU{buildKeyframes(e,t,r,i,s,a,l,c,h,f=[]){h=h||new B_;const g=new fE(e,t,h,i,s,f,[]);g.options=c,g.currentTimeline.setStyles([a],null,g.errors,c),Ti(this,r,g);const v=g.timelines.filter(b=>b.containsAnimation());if(Object.keys(l).length){let b;for(let T=v.length-1;T>=0;T--){const j=v[T];if(j.element===t){b=j;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([l],null,g.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[dE(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const a=null!=r.duration?Pl(r.duration):null,l=null!=r.delay?Pl(r.delay):null;return 0!==a&&e.forEach(c=>{const h=t.appendInstructionToTimeline(c,a,l);s=Math.max(s,h.duration+h.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ti(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=V_);const a=Pl(s.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Ti(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Pl(e.options.delay):0;e.steps.forEach(a=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),Ti(this,a,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return I_(t.params?P_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,l=t.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(c=>{l.forwardTime((c.offset||0)*s),l.setStyles(c.styles,c.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Pl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=V_);let a=r;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let c=null;l.forEach((h,f)=>{t.currentQueryIndex=f;const g=t.createSubContext(e.options,h);s&&g.delayNextStep(s),h===t.element&&(c=g.currentTimeline),Ti(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),l=a*(t.currentQueryTotal-1);let c=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=l-c;break;case"full":c=r.currentStaggerTime}const f=t.currentTimeline;c&&f.delayNextStep(c);const g=f.currentTime;Ti(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const V_={};class fE{constructor(e,t,r,i,s,a,l,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=V_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new H_(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Pl(r.duration)),null!=r.delay&&(i.delay=Pl(r.delay));const s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!a.hasOwnProperty(l))&&(a[l]=P_(s[l],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new fE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=V_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new lU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,a){let l=[];if(i&&l.push(this.element),e.length>0){e=(e=e.replace(iU,"."+this._enterClassName)).replace(oU,"."+this._leaveClassName);let h=this._driver.query(this.element,e,1!=r);0!==r&&(h=r<0?h.slice(h.length+r,h.length):h.slice(0,r)),l.push(...h)}return!s&&0==l.length&&a.push(function gj(n){return new Se(3014,Pt)}()),l}}class H_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new H_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Fo,this._currentKeyframe[t]=Fo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},a=function uU(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Fo})):Ta(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const c=P_(a[l],s,r);this._pendingStyles[l]=c,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:Fo),this._updateStyle(l,c)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,c)=>{const h=Ta(l,!0);Object.keys(h).forEach(f=>{const g=h[f];"!"==g?e.add(f):g==Fo&&t.add(f)}),r||(h.offset=c/this.duration),i.push(h)});const s=e.size?O_(e.values()):[],a=t.size?O_(t.values()):[];if(r){const l=i[0],c=_c(l);l.offset=0,c.offset=1,i=[l,c]}return dE(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}}class lU extends H_{constructor(e,t,r,i,s,a,l=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=r+t,l=t/a,c=Ta(e[0],!1);c.offset=0,s.push(c);const h=Ta(e[0],!1);h.offset=IP(l),s.push(h);const f=e.length-1;for(let g=1;g<=f;g++){let v=Ta(e[g],!1);v.offset=IP((t+v.offset*r)/a),s.push(v)}r=a,t=0,i="",e=s}return dE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function IP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class pE{}class cU extends pE{normalizePropertyName(e,t){return lE(e)}normalizeStyleValue(e,t,r,i){let s="";const a=r.toString().trim();if(dU[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function ij(n,e){return new Se(3005,Pt)}())}return a+s}}const dU=(()=>function hU(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PP(n,e,t,r,i,s,a,l,c,h,f,g,v){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:a,timelines:l,queriedElements:c,preStyleProps:h,postStyleProps:f,totalTime:g,errors:v}}const gE={};class OP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function fU(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],a=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):a}build(e,t,r,i,s,a,l,c,h,f){const g=[],v=this.ast.options&&this.ast.options.params||gE,T=this.buildStyles(r,l&&l.params||gE,g),j=c&&c.params||gE,Q=this.buildStyles(i,j,g),ae=new Set,$=new Map,Ce=new Map,Ne="void"===i,vt={params:Object.assign(Object.assign({},v),j)},fn=f?[]:hE(e,t,this.ast.animation,s,a,T,Q,vt,h,g);let bn=0;if(fn.forEach(Ii=>{bn=Math.max(Ii.duration+Ii.delay,bn)}),g.length)return PP(t,this._triggerName,r,i,Ne,T,Q,[],[],$,Ce,bn,g);fn.forEach(Ii=>{const Pi=Ii.element,yc=Ai($,Pi,{});Ii.preStyleProps.forEach(Ss=>yc[Ss]=!0);const No=Ai(Ce,Pi,{});Ii.postStyleProps.forEach(Ss=>No[Ss]=!0),Pi!==t&&ae.add(Pi)});const Mi=O_(ae.values());return PP(t,this._triggerName,r,i,Ne,T,Q,fn,Mi,$,Ce,bn)}}class pU{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=_c(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!=a&&(i[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(l=>{let c=a[l];c.length>1&&(c=P_(c,i,t));const h=this.normalizer.normalizePropertyName(l,t);c=this.normalizer.normalizeStyleValue(l,h,c,t),r[h]=c})}}),r}}class mU{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new pU(i.style,i.options&&i.options.params||{},r)}),RP(this.states,"true","1"),RP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new OP(e,i,this.states))}),this.fallbackTransition=function _U(n,e,t){return new OP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(a=>a.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function RP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const vU=new B_;class yU{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=uE(this._driver,t,r,[]);if(r.length)throw function Ej(n){return new Se(3503,Pt)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=cP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let a;const l=new Map;if(s?(a=hE(this._driver,t,s,iE,A_,{},{},r,vU,i),a.forEach(f=>{const g=Ai(l,f.element,{});f.postStyleProps.forEach(v=>g[v]=null)})):(i.push(function wj(){return new Se(3300,Pt)}()),a=[]),i.length)throw function Dj(n){return new Se(3504,Pt)}();l.forEach((f,g)=>{Object.keys(f).forEach(v=>{f[v]=this._driver.computeStyle(g,v,Fo)})});const h=Aa(a.map(f=>{const g=l.get(f.element);return this._buildPlayer(f,{},g)}));return this._playersById[e]=h,h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Sj(n){return new Se(3301,Pt)}();return t}listen(e,t,r,i){const s=eE(t,"","","");return X0(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const xP="ng-animate-queued",mE="ng-animate-disabled",DU=[],FP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},SU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ns="__ng_removed";class _E{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function IU(n){return null!=n?n:null}(r?e.value:e),r){const s=_c(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const bf="void",vE=new _E(bf);class AU{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,rs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function Aj(n,e){return new Se(3302,Pt)}();if(null==r||0==r.length)throw function Tj(n){return new Se(3303,Pt)}();if(!function PU(n){return"start"==n||"done"==n}(r))throw function Mj(n,e){return new Se(3400,Pt)}();const s=Ai(this._elementListeners,e,[]),a={name:t,phase:r,callback:i};s.push(a);const l=Ai(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(rs(e,T_),rs(e,T_+"-"+t),l[t]=vE),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(a);c>=0&&s.splice(c,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Ij(n){return new Se(3401,Pt)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),a=new yE(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(rs(e,T_),rs(e,T_+"-"+t),this._engine.statesByElement.set(e,l={}));let c=l[t];const h=new _E(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&h.absorbOptions(c.options),l[t]=h,c||(c=vE),h.value!==bf&&c.value===h.value){if(!function xU(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,h.params)){const j=[],Q=s.matchStyles(c.value,c.params,j),ae=s.matchStyles(h.value,h.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Ol(e,Q),ro(e,ae)})}return}const v=Ai(this._engine.playersByElement,e,[]);v.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let b=s.matchTransition(c.value,h.value,e,h.params),T=!1;if(!b){if(!i)return;b=s.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:b,fromState:c,toState:h,player:a,isFallbackTransition:T}),T||(rs(e,xP),a.onStart(()=>{vc(e,xP)})),a.onDone(()=>{let j=this.players.indexOf(a);j>=0&&this.players.splice(j,1);const Q=this._engine.playersByElement.get(e);if(Q){let ae=Q.indexOf(a);ae>=0&&Q.splice(ae,1)}}),this.players.push(a),v.push(a),a}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,M_,!0);r.forEach(i=>{if(i[ns])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const l=[];if(Object.keys(s).forEach(c=>{if(a.set(c,s[c].value),this._triggers[c]){const h=this.trigger(e,c,bf,i);h&&l.push(h)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&Aa(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const a=s.name;if(i.has(a))return;i.add(a);const c=this._triggers[a].fallbackTransition,h=r[a]||vE,f=new _E(bf),g=new yE(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:c,fromState:h,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ns];(!s||s===FP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){rs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==r.triggerName){const c=eE(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,X0(r.player,l.phase,c,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class TU{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new AU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let a=!1;if(void 0!==this.driver.getParentElement){let l=this.driver.getParentElement(t);for(;l;){const c=i.get(l);if(c){const h=r.indexOf(c);r.splice(h+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}}else for(let l=s;l>=0;l--)if(this.driver.containsElement(r[l].hostElement,t)){r.splice(l+1,0,e),a=!0;break}a||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const a=r[i[s]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&t.add(l)}}}return t}trigger(e,t,r,i){if(j_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!j_(t))return;const s=t[ns];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),rs(e,mE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vc(e,mE))}removeNode(e,t,r,i){if(j_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ns]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return j_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,M_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,sE,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Aa(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ns];if(r&&r.setForRemoval){if(e[ns]=FP,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(mE))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)rs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Aa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Pj(n){return new Se(3402,Pt)}()}_flushAnimations(e,t){const r=new B_,i=[],s=new Map,a=[],l=new Map,c=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(Re=>{f.add(Re);const $e=this.driver.query(Re,".ng-animate-queued",!0);for(let tt=0;tt<$e.length;tt++)f.add($e[tt])});const g=this.bodyNode,v=Array.from(this.statesByElement.keys()),b=LP(v,this.collectedEnterElements),T=new Map;let j=0;b.forEach((Re,$e)=>{const tt=iE+j++;T.set($e,tt),Re.forEach(Lt=>rs(Lt,tt))});const Q=[],ae=new Set,$=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const $e=this.collectedLeaveElements[Re],tt=$e[ns];tt&&tt.setForRemoval&&(Q.push($e),ae.add($e),tt.hasAnimation?this.driver.query($e,".ng-star-inserted",!0).forEach(Lt=>ae.add(Lt)):$.add($e))}const Ce=new Map,Ne=LP(v,Array.from(ae));Ne.forEach((Re,$e)=>{const tt=A_+j++;Ce.set($e,tt),Re.forEach(Lt=>rs(Lt,tt))}),e.push(()=>{b.forEach((Re,$e)=>{const tt=T.get($e);Re.forEach(Lt=>vc(Lt,tt))}),Ne.forEach((Re,$e)=>{const tt=Ce.get($e);Re.forEach(Lt=>vc(Lt,tt))}),Q.forEach(Re=>{this.processLeaveNode(Re)})});const vt=[],fn=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(t).forEach(tt=>{const Lt=tt.player,sr=tt.element;if(vt.push(Lt),this.collectedEnterElements.length){const $r=sr[ns];if($r&&$r.setForMove){if($r.previousTriggersValues&&$r.previousTriggersValues.has(tt.triggerName)){const xl=$r.previousTriggersValues.get(tt.triggerName),Ia=this.statesByElement.get(tt.element);Ia&&Ia[tt.triggerName]&&(Ia[tt.triggerName].value=xl)}return void Lt.destroy()}}const io=!g||!this.driver.containsElement(g,sr),Oi=Ce.get(sr),Ma=T.get(sr),En=this._buildInstruction(tt,r,Ma,Oi,io);if(En.errors&&En.errors.length)return void fn.push(En);if(io)return Lt.onStart(()=>Ol(sr,En.fromStyles)),Lt.onDestroy(()=>ro(sr,En.toStyles)),void i.push(Lt);if(tt.isFallbackTransition)return Lt.onStart(()=>Ol(sr,En.fromStyles)),Lt.onDestroy(()=>ro(sr,En.toStyles)),void i.push(Lt);const zP=[];En.timelines.forEach($r=>{$r.stretchStartingKeyframe=!0,this.disabledNodes.has($r.element)||zP.push($r)}),En.timelines=zP,r.append(sr,En.timelines),a.push({instruction:En,player:Lt,element:sr}),En.queriedElements.forEach($r=>Ai(l,$r,[]).push(Lt)),En.preStyleProps.forEach(($r,xl)=>{const Ia=Object.keys($r);if(Ia.length){let Fl=c.get(xl);Fl||c.set(xl,Fl=new Set),Ia.forEach(bE=>Fl.add(bE))}}),En.postStyleProps.forEach(($r,xl)=>{const Ia=Object.keys($r);let Fl=h.get(xl);Fl||h.set(xl,Fl=new Set),Ia.forEach(bE=>Fl.add(bE))})});if(fn.length){const Re=[];fn.forEach($e=>{Re.push(function Oj(n,e){return new Se(3505,Pt)}())}),vt.forEach($e=>$e.destroy()),this.reportError(Re)}const bn=new Map,Mi=new Map;a.forEach(Re=>{const $e=Re.element;r.has($e)&&(Mi.set($e,$e),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,bn))}),i.forEach(Re=>{const $e=Re.element;this._getPreviousPlayers($e,!1,Re.namespaceId,Re.triggerName,null).forEach(Lt=>{Ai(bn,$e,[]).push(Lt),Lt.destroy()})});const Ii=Q.filter(Re=>VP(Re,c,h)),Pi=new Map;kP(Pi,this.driver,$,h,Fo).forEach(Re=>{VP(Re,c,h)&&Ii.push(Re)});const No=new Map;b.forEach((Re,$e)=>{kP(No,this.driver,new Set(Re),c,"!")}),Ii.forEach(Re=>{const $e=Pi.get(Re),tt=No.get(Re);Pi.set(Re,Object.assign(Object.assign({},$e),tt))});const Ss=[],Cc=[],bc={};a.forEach(Re=>{const{element:$e,player:tt,instruction:Lt}=Re;if(r.has($e)){if(f.has($e))return tt.onDestroy(()=>ro($e,Lt.toStyles)),tt.disabled=!0,tt.overrideTotalTime(Lt.totalTime),void i.push(tt);let sr=bc;if(Mi.size>1){let Oi=$e;const Ma=[];for(;Oi=Oi.parentNode;){const En=Mi.get(Oi);if(En){sr=En;break}Ma.push(Oi)}Ma.forEach(En=>Mi.set(En,sr))}const io=this._buildAnimation(tt.namespaceId,Lt,bn,s,No,Pi);if(tt.setRealPlayer(io),sr===bc)Ss.push(tt);else{const Oi=this.playersByElement.get(sr);Oi&&Oi.length&&(tt.parentPlayer=Aa(Oi)),i.push(tt)}}else Ol($e,Lt.fromStyles),tt.onDestroy(()=>ro($e,Lt.toStyles)),Cc.push(tt),f.has($e)&&i.push(tt)}),Cc.forEach(Re=>{const $e=s.get(Re.element);if($e&&$e.length){const tt=Aa($e);Re.setRealPlayer(tt)}}),i.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<Q.length;Re++){const $e=Q[Re],tt=$e[ns];if(vc($e,A_),tt&&tt.hasAnimation)continue;let Lt=[];if(l.size){let io=l.get($e);io&&io.length&&Lt.push(...io);let Oi=this.driver.query($e,sE,!0);for(let Ma=0;Ma<Oi.length;Ma++){let En=l.get(Oi[Ma]);En&&En.length&&Lt.push(...En)}}const sr=Lt.filter(io=>!io.destroyed);sr.length?OU(this,$e,sr):this.processLeaveNode($e)}return Q.length=0,Ss.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const $e=this.players.indexOf(Re);this.players.splice($e,1)}),Re.play()}),Ss}elementContainsData(e,t){let r=!1;const i=t[ns];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let a=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(a=l)}else{const l=this.playersByElement.get(e);if(l){const c=!s||s==bf;l.forEach(h=>{h.queued||!c&&h.triggerName!=i||a.push(h)})}}return(r||i)&&(a=a.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),a}_beforeAnimationBuild(e,t,r){const s=t.element,a=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const h=c.element,f=h!==s,g=Ai(r,h,[]);this._getPreviousPlayers(h,f,a,l,t.toState).forEach(b=>{const T=b.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),b.destroy(),g.push(b)})}Ol(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,a){const l=t.triggerName,c=t.element,h=[],f=new Set,g=new Set,v=t.timelines.map(T=>{const j=T.element;f.add(j);const Q=j[ns];if(Q&&Q.removedBeforeQueried)return new yf(T.duration,T.delay);const ae=j!==c,$=function RU(n){const e=[];return BP(n,e),e}((r.get(j)||DU).map(bn=>bn.getRealPlayer())).filter(bn=>!!bn.element&&bn.element===j),Ce=s.get(j),Ne=a.get(j),vt=cP(0,this._normalizer,0,T.keyframes,Ce,Ne),fn=this._buildPlayer(T,vt,$);if(T.subTimeline&&i&&g.add(j),ae){const bn=new yE(e,l,j);bn.setRealPlayer(fn),h.push(bn)}return fn});h.forEach(T=>{Ai(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>function MU(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,T.element,T))}),f.forEach(T=>rs(T,CP));const b=Aa(v);return b.onDestroy(()=>{f.forEach(T=>vc(T,CP)),ro(c,t.toStyles)}),g.forEach(T=>{Ai(i,T,[]).push(b)}),b}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new yf(e.duration,e.delay)}}class yE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new yf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>X0(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ai(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function j_(n){return n&&1===n.nodeType}function NP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function kP(n,e,t,r,i){const s=[];t.forEach(c=>s.push(NP(c)));const a=[];r.forEach((c,h)=>{const f={};c.forEach(g=>{const v=f[g]=e.computeStyle(h,g,i);(!v||0==v.length)&&(h[ns]=SU,a.push(h))}),n.set(h,f)});let l=0;return t.forEach(c=>NP(c,s[l++])),a}function LP(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const i=new Set(e),s=new Map;function a(l){if(!l)return 1;let c=s.get(l);if(c)return c;const h=l.parentNode;return c=t.has(h)?h:i.has(h)?1:a(h),s.set(l,c),c}return e.forEach(l=>{const c=a(l);1!==c&&t.get(c).push(l)}),t}function rs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function vc(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function OU(n,e,t){Aa(t).onDone(()=>n.processLeaveNode(e))}function BP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof lP?BP(r.players,e):e.push(r)}}function VP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class U_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new TU(e,t,r),this._timelineEngine=new yU(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const a=e+"-"+i;let l=this._triggerCache[a];if(!l){const c=[],f=uE(this._driver,s,c,[]);if(c.length)throw function Cj(n,e){return new Se(3404,Pt)}();l=function gU(n,e,t){return new mU(n,e,t)}(i,f,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(t,i,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,a]=dP(r);this._timelineEngine.command(s,t,a,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[a,l]=dP(r);return this._timelineEngine.listen(a,t,l,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let NU=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ro(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ro(this._element,this._initialStyles),this._endStyles&&(ro(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ol(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ol(this._element,this._endStyles),this._endStyles=null),ro(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function CE(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];kU(i)&&(e=e||{},e[i]=n[i])}return e}function kU(n){return"display"===n||"position"===n}class HP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:SP(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class LU{validateStyleProperty(e){return gP(e)}matchesElement(e,t){return!1}containsElement(e,t){return mP(e,t)}getParentElement(e){return nE(e)}query(e,t,r){return _P(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,a=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const h={},f=a.filter(v=>v instanceof HP);(function jj(n,e){return 0===n||0===e})(r,i)&&f.forEach(v=>{let b=v.currentSnapshot;Object.keys(b).forEach(T=>h[T]=b[T])}),t=function Uj(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],a=[];if(r.forEach(l=>{s.hasOwnProperty(l)||a.push(l),s[l]=t[l]}),a.length)for(var i=1;i<e.length;i++){let l=e[i];a.forEach(function(c){l[c]=SP(n,c)})}}return e}(e,t=t.map(v=>Ta(v,!1)),h);const g=function FU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=CE(e[0]),e.length>1&&(r=CE(e[e.length-1]))):e&&(t=CE(e)),t||r?new NU(n,t,r):null}(e,t);return new HP(e,t,c,g)}}let BU=(()=>{class n extends iP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:zr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?sP(t):t;return jP(this._renderer,null,r,"register",[i]),new VU(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Nh),Ae(Gn))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();class VU extends class XH{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new HU(this._id,e,t||{},this._renderer)}}class HU{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return jP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function jP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const UP="@.disabled";let jU=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,a)=>{const l=null==a?void 0:a.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new $P("",s,this.engine),this._rendererCache.set(s,f)),f}const a=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const c=f=>{Array.isArray(f)?f.forEach(c):this.engine.registerTrigger(a,l,t,f.name,f)};return r.data.animation.forEach(c),new UU(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Ae(Nh),Ae(U_),Ae(yn))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();class $P{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==UP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class UU extends $P{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==UP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function $U(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function WU(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(e,t,r)}}let KU=(()=>{class n extends U_{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn),Ae(rE),Ae(pE))},n.\u0275prov=Ye({token:n,factory:n.\u0275fac}),n})();const WP=new Ve("AnimationModuleType"),KP=[{provide:iP,useClass:BU},{provide:pE,useFactory:function GU(){return new cU}},{provide:U_,useClass:KU},{provide:Nh,useFactory:function zU(n,e,t){return new jU(n,e,t)},deps:[Um,U_,yn]}],GP=[{provide:rE,useFactory:()=>new LU},{provide:WP,useValue:"BrowserAnimations"},...KP],qU=[{provide:rE,useClass:vP},{provide:WP,useValue:"NoopAnimations"},...KP];let QU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qU:GP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({providers:GP,imports:[JA]}),n})(),ZU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n,bootstrap:[YH]}),n.\u0275inj=ur({providers:[],imports:[[JA,RB,$H,UV.forRoot(),QU]]}),n})();(function Ux(){lA=!1})(),ek().bootstrapModule(ZU).catch(n=>console.error(n))},387:(we,q)=>{"use strict";q.qQ=q.Bg=q.yD=q.YH=q.Zf=q.E$=q.H_=q.wz=q.E5=q.Cj=void 0,q.Cj="w",q.E5="b",q.wz="p",q.H_="n",q.E$="b",q.Zf="r",q.YH="q",q.yD="k",q.Bg="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";const E=-1,_={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},M={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},P={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},N={b:[16,32,17,15],w:[-16,-32,-17,-15]},U={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},V=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],ee=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],W={p:1,n:2,b:4,r:8,q:16,k:32},te=[q.H_,q.E$,q.Zf,q.YH],pe={w:[{square:P.a1,flag:M.QSIDE_CASTLE},{square:P.h1,flag:M.KSIDE_CASTLE}],b:[{square:P.a8,flag:M.QSIDE_CASTLE},{square:P.h8,flag:M.KSIDE_CASTLE}]},le={b:1,w:6},ye=["1-0","0-1","1/2-1/2","*"];function ue(We){return We>>4}function Ie(We){return 15&We}function Te(We){return-1!=="0123456789".indexOf(We)}function ke(We){const x=Ie(We),L=ue(We);return"abcdefgh".substring(x,x+1)+"87654321".substring(L,L+1)}function qe(We){return We===q.Cj?q.E5:q.Cj}function He(We,x,L,O,K,F,me=M.NORMAL){const G=ue(O);if(K!==q.wz||7!==G&&0!==G)We.push({color:x,from:L,to:O,piece:K,captured:F,flags:me});else for(let J=0;J<te.length;J++)We.push({color:x,from:L,to:O,piece:K,captured:F,promotion:te[J],flags:me|M.PROMOTION})}function At(We){let x=We.charAt(0);return x>="a"&&x<="h"?We.match(/[a-h]\d.*[a-h]\d/)?void 0:q.wz:(x=x.toLowerCase(),"o"===x?q.yD:x)}function pn(We){return We.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}q.qQ=class Yt{constructor(x=q.Bg){this._board=new Array(128),this._turn=q.Cj,this._header={},this._kings={w:E,b:E},this._epSquare=-1,this._halfMoves=0,this._moveNumber=0,this._history=[],this._comments={},this._castling={w:0,b:0},this.load(x)}clear(x=!1){this._board=new Array(128),this._kings={w:E,b:E},this._turn=q.Cj,this._castling={w:0,b:0},this._epSquare=E,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=x?this._header:{},this._updateSetup(this.fen())}load(x,L=!1){let O=x.split(/\s+/);O.length>=2&&O.length<6&&(x=O.concat(["-","-","0","1"].slice(-(6-O.length))).join(" ")),O=x.split(/\s+/);const{ok:K,error:F}=function Pe(We){const x=We.split(/\s+/);if(6!==x.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const L=parseInt(x[5],10);if(isNaN(L)||L<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const O=parseInt(x[4],10);if(isNaN(O)||O<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(x[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(x[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(x[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const K=x[0].split("/");if(8!==K.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let me=0;me<K.length;me++){let G=0,J=!1;for(let Oe=0;Oe<K[me].length;Oe++)if(Te(K[me][Oe])){if(J)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};G+=parseInt(K[me][Oe],10),J=!0}else{if(!/^[prnbqkPRNBQK]$/.test(K[me][Oe]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};G+=1,J=!1}if(8!==G)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==x[3][1]&&"w"==x[1]||"6"==x[3][1]&&"b"==x[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const F=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:me,regex:G}of F){if(!G.test(x[0]))return{ok:!1,error:`Invalid FEN: missing ${me} king`};if((x[0].match(G)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${me} kings`}}return{ok:!0}}(x);if(!K)throw new Error(F);const me=O[0];let G=0;this.clear(L);for(let J=0;J<me.length;J++){const Oe=me.charAt(J);if("/"===Oe)G+=8;else if(Te(Oe))G+=parseInt(Oe,10);else{const wt=Oe<"a"?q.Cj:q.E5;this.put({type:Oe.toLowerCase(),color:wt},ke(G)),G++}}this._turn=O[1],O[2].indexOf("K")>-1&&(this._castling.w|=M.KSIDE_CASTLE),O[2].indexOf("Q")>-1&&(this._castling.w|=M.QSIDE_CASTLE),O[2].indexOf("k")>-1&&(this._castling.b|=M.KSIDE_CASTLE),O[2].indexOf("q")>-1&&(this._castling.b|=M.QSIDE_CASTLE),this._epSquare="-"===O[3]?E:P[O[3]],this._halfMoves=parseInt(O[4],10),this._moveNumber=parseInt(O[5],10),this._updateSetup(this.fen())}fen(){var x,L;let O=0,K="";for(let G=P.a8;G<=P.h1;G++){if(this._board[G]){O>0&&(K+=O,O=0);const{color:J,type:Oe}=this._board[G];K+=J===q.Cj?Oe.toUpperCase():Oe.toLowerCase()}else O++;G+1&136&&(O>0&&(K+=O),G!==P.h1&&(K+="/"),O=0,G+=8)}let F="";this._castling[q.Cj]&M.KSIDE_CASTLE&&(F+="K"),this._castling[q.Cj]&M.QSIDE_CASTLE&&(F+="Q"),this._castling[q.E5]&M.KSIDE_CASTLE&&(F+="k"),this._castling[q.E5]&M.QSIDE_CASTLE&&(F+="q"),F=F||"-";let me="-";if(this._epSquare!==E){const G=this._epSquare+(this._turn===q.Cj?16:-16),J=[G+1,G-1];for(const Oe of J){if(136&Oe)continue;const wt=this._turn;if((null===(x=this._board[Oe])||void 0===x?void 0:x.color)===wt&&(null===(L=this._board[Oe])||void 0===L?void 0:L.type)===q.wz){this._makeMove({color:wt,from:Oe,to:this._epSquare,piece:q.wz,captured:q.wz,flags:M.EP_CAPTURE});const _e=!this._isKingAttacked(wt);if(this._undoMove(),_e){me=ke(this._epSquare);break}}}}return[K,this._turn,F,me,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(x){this._history.length>0||(x!==q.Bg?(this._header.SetUp="1",this._header.FEN=x):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(q.Bg)}get(x){return this._board[P[x]]||!1}put({type:x,color:L},O){if(-1==="pnbrqkPNBRQK".indexOf(x.toLowerCase())||!(O in P))return!1;const K=P[O];return(x!=q.yD||this._kings[L]==E||this._kings[L]==K)&&(this._board[K]={type:x,color:L},x===q.yD&&(this._kings[L]=K),this._updateSetup(this.fen()),!0)}remove(x){const L=this.get(x);return delete this._board[P[x]],L&&L.type===q.yD&&(this._kings[L.color]=E),this._updateSetup(this.fen()),L}_attacked(x,L){for(let O=P.a8;O<=P.h1;O++){if(136&O){O+=7;continue}if(void 0===this._board[O]||this._board[O].color!==x)continue;const K=this._board[O],F=O-L;if(0===F)continue;const me=F+119;if(V[me]&W[K.type]){if(K.type===q.wz){if(F>0){if(K.color===q.Cj)return!0}else if(K.color===q.E5)return!0;continue}if("n"===K.type||"k"===K.type)return!0;const G=ee[me];let J=O+G,Oe=!1;for(;J!==L;){if(null!=this._board[J]){Oe=!0;break}J+=G}if(!Oe)return!0}}return!1}_isKingAttacked(x){return this._attacked(qe(x),this._kings[x])}isAttacked(x,L){return this._attacked(L,P[x])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const x={b:0,n:0,r:0,q:0,k:0,p:0},L=[];let O=0,K=0;for(let F=P.a8;F<=P.h1;F++){if(K=(K+1)%2,136&F){F+=7;continue}const me=this._board[F];me&&(x[me.type]=me.type in x?x[me.type]+1:1,me.type===q.E$&&L.push(K),O++)}if(2===O)return!0;if(3===O&&(1===x[q.E$]||1===x[q.H_]))return!0;if(O===x[q.E$]+2){let F=0;const me=L.length;for(let G=0;G<me;G++)F+=L[G];if(0===F||F===me)return!0}return!1}isThreefoldRepetition(){const x=[],L={};let O=!1;for(;;){const K=this._undoMove();if(!K)break;x.push(K)}for(;;){const K=this.fen().split(" ").slice(0,4).join(" ");L[K]=K in L?L[K]+1:1,L[K]>=3&&(O=!0);const F=x.pop();if(!F)break;this._makeMove(F)}return O}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:x=!1,square:L}={}){const O=this._moves({square:L});return O.map(x?K=>this._makePretty(K):K=>this._moveToSan(K,O))}_moves({legal:x=!0,piece:L,square:O}={}){var K;const F=O?O.toLowerCase():void 0,me=null==L?void 0:L.toLowerCase(),G=[],J=this._turn,Oe=qe(J);let wt=P.a8,_e=P.h1,de=!1;if(F){if(!(F in P))return[];wt=_e=P[F],de=!0}for(let ve=wt;ve<=_e;ve++){if(136&ve){ve+=7;continue}if(!this._board[ve]||this._board[ve].color===Oe)continue;const{type:rt}=this._board[ve];let Vt;if(rt===q.wz){if(me&&me!==rt)continue;Vt=ve+N[J][0],this._board[Vt]||(He(G,J,ve,Vt,q.wz),Vt=ve+N[J][1],le[J]===ue(ve)&&!this._board[Vt]&&He(G,J,ve,Vt,q.wz,void 0,M.BIG_PAWN));for(let Jt=2;Jt<4;Jt++)Vt=ve+N[J][Jt],!(136&Vt)&&((null===(K=this._board[Vt])||void 0===K?void 0:K.color)===Oe?He(G,J,ve,Vt,q.wz,this._board[Vt].type,M.CAPTURE):Vt===this._epSquare&&He(G,J,ve,Vt,q.wz,q.wz,M.EP_CAPTURE))}else{if(me&&me!==rt)continue;for(let Jt=0,Mr=U[rt].length;Jt<Mr;Jt++){const ft=U[rt][Jt];for(Vt=ve;Vt+=ft,!(136&Vt);){if(this._board[Vt]){if(this._board[Vt].color===J)break;He(G,J,ve,Vt,rt,this._board[Vt].type,M.CAPTURE);break}if(He(G,J,ve,Vt,rt),rt===q.H_||rt===q.yD)break}}}}if(!(void 0!==me&&me!==q.yD||de&&_e!==this._kings[J])){if(this._castling[J]&M.KSIDE_CASTLE){const ve=this._kings[J],rt=ve+2;!this._board[ve+1]&&!this._board[rt]&&!this._attacked(Oe,this._kings[J])&&!this._attacked(Oe,ve+1)&&!this._attacked(Oe,rt)&&He(G,J,this._kings[J],rt,q.yD,void 0,M.KSIDE_CASTLE)}if(this._castling[J]&M.QSIDE_CASTLE){const ve=this._kings[J],rt=ve-2;!this._board[ve-1]&&!this._board[ve-2]&&!this._board[ve-3]&&!this._attacked(Oe,this._kings[J])&&!this._attacked(Oe,ve-1)&&!this._attacked(Oe,rt)&&He(G,J,this._kings[J],rt,q.yD,void 0,M.QSIDE_CASTLE)}}if(!x)return G;const Xt=[];for(let ve=0,rt=G.length;ve<rt;ve++)this._makeMove(G[ve]),this._isKingAttacked(J)||Xt.push(G[ve]),this._undoMove();return Xt}move(x,{strict:L=!1}={}){let O=null;if("string"==typeof x)O=this._moveFromSan(x,L);else if("object"==typeof x){const F=this._moves();for(let me=0,G=F.length;me<G;me++)if(x.from===ke(F[me].from)&&x.to===ke(F[me].to)&&(!("promotion"in F[me])||x.promotion===F[me].promotion)){O=F[me];break}}if(!O)throw"string"==typeof x?new Error(`Invalid move: ${x}`):new Error(`Invalid move: ${JSON.stringify(x)}`);const K=this._makePretty(O);return this._makeMove(O),K}_push(x){this._history.push({move:x,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(x){const L=this._turn,O=qe(L);if(this._push(x),this._board[x.to]=this._board[x.from],delete this._board[x.from],x.flags&M.EP_CAPTURE&&(this._turn===q.E5?delete this._board[x.to-16]:delete this._board[x.to+16]),x.promotion&&(this._board[x.to]={type:x.promotion,color:L}),this._board[x.to].type===q.yD){if(this._kings[L]=x.to,x.flags&M.KSIDE_CASTLE){const F=x.to+1;this._board[x.to-1]=this._board[F],delete this._board[F]}else if(x.flags&M.QSIDE_CASTLE){const F=x.to-2;this._board[x.to+1]=this._board[F],delete this._board[F]}this._castling[L]=0}if(this._castling[L])for(let K=0,F=pe[L].length;K<F;K++)if(x.from===pe[L][K].square&&this._castling[L]&pe[L][K].flag){this._castling[L]^=pe[L][K].flag;break}if(this._castling[O])for(let K=0,F=pe[O].length;K<F;K++)if(x.to===pe[O][K].square&&this._castling[O]&pe[O][K].flag){this._castling[O]^=pe[O][K].flag;break}this._epSquare=x.flags&M.BIG_PAWN?L===q.E5?x.to-16:x.to+16:E,x.piece===q.wz||x.flags&(M.CAPTURE|M.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,L===q.E5&&this._moveNumber++,this._turn=O}undo(){const x=this._undoMove();return x?this._makePretty(x):null}_undoMove(){const x=this._history.pop();if(void 0===x)return null;const L=x.move;this._kings=x.kings,this._turn=x.turn,this._castling=x.castling,this._epSquare=x.epSquare,this._halfMoves=x.halfMoves,this._moveNumber=x.moveNumber;const O=this._turn,K=qe(O);if(this._board[L.from]=this._board[L.to],this._board[L.from].type=L.piece,delete this._board[L.to],L.captured)if(L.flags&M.EP_CAPTURE){let F;F=O===q.E5?L.to-16:L.to+16,this._board[F]={type:q.wz,color:K}}else this._board[L.to]={type:L.captured,color:K};if(L.flags&(M.KSIDE_CASTLE|M.QSIDE_CASTLE)){let F,me;L.flags&M.KSIDE_CASTLE?(F=L.to+1,me=L.to-1):(F=L.to-2,me=L.to+1),this._board[F]=this._board[me],delete this._board[me]}return L}pgn({newline:x="\n",maxWidth:L=0}={}){const O=[];let K=!1;for(const de in this._header)O.push("["+de+' "'+this._header[de]+'"]'+x),K=!0;K&&this._history.length&&O.push(x);const F=de=>{const Xt=this._comments[this.fen()];return void 0!==Xt&&(de=`${de}${de.length>0?" ":""}{${Xt}}`),de},me=[];for(;this._history.length>0;)me.push(this._undoMove());const G=[];let J="";for(0===me.length&&G.push(F(""));me.length>0;){J=F(J);const de=me.pop();if(!de)break;if(this._history.length||"b"!==de.color)"w"===de.color&&(J.length&&G.push(J),J=this._moveNumber+".");else{const Xt=`${this._moveNumber}. ...`;J=J?`${J} ${Xt}`:Xt}J=J+" "+this._moveToSan(de,this._moves({legal:!0})),this._makeMove(de)}if(J.length&&G.push(F(J)),void 0!==this._header.Result&&G.push(this._header.Result),0===L)return O.join("")+G.join(" ");const Oe=function(){return O.length>0&&" "===O[O.length-1]&&(O.pop(),!0)},wt=function(de,Xt){for(const ve of Xt.split(" "))if(ve){if(de+ve.length>L){for(;Oe();)de--;O.push(x),de=0}O.push(ve),de+=ve.length,O.push(" "),de++}return Oe()&&de--,de};let _e=0;for(let de=0;de<G.length;de++)_e+G[de].length>L&&G[de].includes("{")?_e=wt(_e,G[de]):(_e+G[de].length>L&&0!==de?(" "===O[O.length-1]&&O.pop(),O.push(x),_e=0):0!==de&&(O.push(" "),_e++),O.push(G[de]),_e+=G[de].length);return O.join("")}header(...x){for(let L=0;L<x.length;L+=2)"string"==typeof x[L]&&"string"==typeof x[L+1]&&(this._header[x[L]]=x[L+1]);return this._header}loadPgn(x,{strict:L=!1,newlineChar:O="\r?\n"}={}){function K(ft){return ft.replace(/\\/g,"\\")}x=x.trim();const G=new RegExp("^(\\[((?:"+K(O)+")|.)*\\])((?:\\s*"+K(O)+"){2}|(?:\\s*"+K(O)+")*$)").exec(x),J=G&&G.length>=2?G[1]:"";this.reset();const Oe=function F(ft){const Qe={},or=ft.split(new RegExp(K(O)));let ui="",Ir="";for(let Tt=0;Tt<or.length;Tt++){const wn=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;ui=or[Tt].replace(wn,"$1"),Ir=or[Tt].replace(wn,"$2"),ui.trim().length>0&&(Qe[ui]=Ir)}return Qe}(J);let wt="";for(const ft in Oe)"fen"===ft.toLowerCase()&&(wt=Oe[ft]),this.header(ft,Oe[ft]);if(L){if("1"===Oe.SetUp){if(!("FEN"in Oe))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(Oe.FEN,!0)}}else wt&&this.load(wt,!0);const Xt=function(ft){return`{${function _e(ft){return Array.from(ft).map(function(Qe){return Qe.charCodeAt(0)<128?Qe.charCodeAt(0).toString(16):encodeURIComponent(Qe).replace(/%/g,"").toLowerCase()}).join("")}((ft=ft.replace(new RegExp(K(O),"g")," ")).slice(1,ft.length-1))}}`},ve=function(ft){if(ft.startsWith("{")&&ft.endsWith("}"))return function de(ft){return 0==ft.length?"":decodeURIComponent("%"+(ft.match(/.{1,2}/g)||[]).join("%"))}(ft.slice(1,ft.length-1))};let rt=x.replace(J,"").replace(new RegExp(`({[^}]*})+?|;([^${K(O)}]*)`,"g"),function(ft,Qe,or){return void 0!==Qe?Xt(Qe):" "+Xt(`{${or.slice(1)}}`)}).replace(new RegExp(K(O),"g")," ");const Vt=/(\([^()]+\))+?/g;for(;Vt.test(rt);)rt=rt.replace(Vt,"");rt=rt.replace(/\d+\.(\.\.)?/g,""),rt=rt.replace(/\.\.\./g,""),rt=rt.replace(/\$\d+/g,"");let Jt=rt.trim().split(new RegExp(/\s+/));Jt=Jt.filter(ft=>""!==ft);let Mr="";for(let ft=0;ft<Jt.length;ft++){const Qe=ve(Jt[ft]);if(void 0!==Qe){this._comments[this.fen()]=Qe;continue}const or=this._moveFromSan(Jt[ft],L);if(null==or){if(!(ye.indexOf(Jt[ft])>-1))throw new Error(`Invalid move in PGN: ${Jt[ft]}`);Mr=Jt[ft]}else Mr="",this._makeMove(or)}Mr&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",Mr)}_moveToSan(x,L){let O="";if(x.flags&M.KSIDE_CASTLE)O="O-O";else if(x.flags&M.QSIDE_CASTLE)O="O-O-O";else{if(x.piece!==q.wz){const K=function X(We,x){const L=We.from,O=We.to,K=We.piece;let F=0,me=0,G=0;for(let J=0,Oe=x.length;J<Oe;J++){const wt=x[J].from,_e=x[J].to;K===x[J].piece&&L!==wt&&O===_e&&(F++,ue(L)===ue(wt)&&me++,Ie(L)===Ie(wt)&&G++)}return F>0?me>0&&G>0?ke(L):G>0?ke(L).charAt(1):ke(L).charAt(0):""}(x,L);O+=x.piece.toUpperCase()+K}x.flags&(M.CAPTURE|M.EP_CAPTURE)&&(x.piece===q.wz&&(O+=ke(x.from)[0]),O+="x"),O+=ke(x.to),x.promotion&&(O+="="+x.promotion.toUpperCase())}return this._makeMove(x),this.isCheck()&&(this.isCheckmate()?O+="#":O+="+"),this._undoMove(),O}_moveFromSan(x,L=!1){const O=pn(x);let K=At(O),F=this._moves({legal:!0,piece:K});for(let de=0,Xt=F.length;de<Xt;de++)if(O===pn(this._moveToSan(F[de],F)))return F[de];if(L)return null;let me,G,J,Oe,wt,_e=!1;G=O.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),G?(me=G[1],J=G[2],Oe=G[3],wt=G[4],1==J.length&&(_e=!0)):(G=O.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),G&&(me=G[1],J=G[2],Oe=G[3],wt=G[4],1==J.length&&(_e=!0))),K=At(O),F=this._moves({legal:!0,piece:me||K});for(let de=0,Xt=F.length;de<Xt;de++)if(J&&Oe){if(!(me&&me.toLowerCase()!=F[de].piece||P[J]!=F[de].from||P[Oe]!=F[de].to||wt&&wt.toLowerCase()!=F[de].promotion))return F[de];if(_e){const ve=ke(F[de].from);if(!(me&&me.toLowerCase()!=F[de].piece||P[Oe]!=F[de].to||J!=ve[0]&&J!=ve[1]||wt&&wt.toLowerCase()!=F[de].promotion))return F[de]}}return null}ascii(){let x="   +------------------------+\n";for(let L=P.a8;L<=P.h1;L++){if(0===Ie(L)&&(x+=" "+"87654321"[ue(L)]+" |"),this._board[L]){const O=this._board[L].type;x+=" "+(this._board[L].color===q.Cj?O.toUpperCase():O.toLowerCase())+" "}else x+=" . ";L+1&136&&(x+="|\n",L+=8)}return x+="   +------------------------+\n",x+="     a  b  c  d  e  f  g  h",x}perft(x){const L=this._moves({legal:!1});let O=0;const K=this._turn;for(let F=0,me=L.length;F<me;F++)this._makeMove(L[F]),this._isKingAttacked(K)||(x-1>0?O+=this.perft(x-1):O++),this._undoMove();return O}_makePretty(x){const{color:L,piece:O,from:K,to:F,flags:me,captured:G,promotion:J}=x;let Oe="";for(const Xt in M)M[Xt]&me&&(Oe+=_[Xt]);const wt=ke(K),_e=ke(F),de={color:L,piece:O,from:wt,to:_e,san:this._moveToSan(x,this._moves({legal:!0})),flags:Oe,lan:wt+_e};return G&&(de.captured=G),J&&(de.promotion=J,de.lan+=J),de}turn(){return this._turn}board(){const x=[];let L=[];for(let O=P.a8;O<=P.h1;O++)L.push(null==this._board[O]?null:{square:ke(O),type:this._board[O].type,color:this._board[O].color}),O+1&136&&(x.push(L),L=[],O+=8);return x}squareColor(x){if(x in P){const L=P[x];return(ue(L)+Ie(L))%2==0?"light":"dark"}return null}history({verbose:x=!1}={}){const L=[],O=[];for(;this._history.length>0;)L.push(this._undoMove());for(;;){const K=L.pop();if(!K)break;O.push(x?Object.assign({fen:this.fen()},this._makePretty(K)):this._moveToSan(K,this._moves())),this._makeMove(K)}return O}_pruneComments(){const x=[],L={},O=K=>{K in this._comments&&(L[K]=this._comments[K])};for(;this._history.length>0;)x.push(this._undoMove());for(O(this.fen());;){const K=x.pop();if(!K)break;this._makeMove(K),O(this.fen())}this._comments=L}getComment(){return this._comments[this.fen()]}setComment(x){this._comments[this.fen()]=x.replace("{","[").replace("}","]")}deleteComment(){const x=this._comments[this.fen()];return delete this._comments[this.fen()],x}getComments(){return this._pruneComments(),Object.keys(this._comments).map(x=>({fen:x,comment:this._comments[x]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(x=>{const L=this._comments[x];return delete this._comments[x],{fen:x,comment:L}})}}},489:function(we,q,R){var E;we=R.nmd(we),function(){var _,U="Expected a function",ee="__lodash_hash_undefined__",S="__lodash_placeholder__",O=1/0,K=9007199254740991,G=4294967295,wt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],_e="[object Arguments]",de="[object Array]",ve="[object Boolean]",rt="[object Date]",Jt="[object Error]",Mr="[object Function]",ft="[object GeneratorFunction]",Qe="[object Map]",or="[object Number]",Ir="[object Object]",Tt="[object Promise]",Pr="[object RegExp]",ar="[object Set]",Nl="[object String]",Ec="[object Symbol]",ci="[object WeakMap]",kl="[object ArrayBuffer]",ko="[object DataView]",Ef="[object Float32Array]",wc="[object Float64Array]",wf="[object Int8Array]",Df="[object Int16Array]",Sf="[object Int32Array]",Af="[object Uint8Array]",Ll="[object Uint8ClampedArray]",Bl="[object Uint16Array]",Vl="[object Uint32Array]",Tf=/\b__p \+= '';/g,Mf=/\b(__p \+=) '' \+/g,K_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dc=/&(?:amp|lt|gt|quot|#39);/g,Sc=/[&<>"']/g,If=RegExp(Dc.source),Pf=RegExp(Sc.source),Wr=/<%-([\s\S]+?)%>/g,G_=/<%([\s\S]+?)%>/g,Of=/<%=([\s\S]+?)%>/g,z_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q_=/^\w*$/,Rf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ac=/[\\^$.*+?()[\]{}|]/g,Q_=RegExp(Ac.source),di=/^\s+/,Z_=/\s/,In=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pa=/\{\n\/\* \[wrapped with (.+)\] \*/,is=/,? & /,wE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Y_=/[()=,{}\[\]\/\s]/,xf=/\\(\\)?/g,Tc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mc=/\w*$/,Oa=/^[-+]0x[0-9a-f]+$/i,X_=/^0b[01]+$/i,Ff=/^\[object .+?Constructor\]$/,Nf=/^0o[0-7]+$/i,J_=/^(?:0|[1-9]\d*)$/,ev=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hl=/($^)/,tv=/['\n\r\u2028\u2029\\]/g,Ra="\\ud800-\\udfff",jl="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",so="\\u2700-\\u27bf",kf="a-z\\xdf-\\xf6\\xf8-\\xff",Ul="A-Z\\xc0-\\xd6\\xd8-\\xde",Lf="\\ufe0e\\ufe0f",Gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bf="["+Ra+"]",iv="["+Gt+"]",Se="["+jl+"]",$l="\\d+",it="["+so+"]",qn="["+kf+"]",Vf="[^"+Ra+Gt+$l+so+kf+Ul+"]",Hf="\\ud83c[\\udffb-\\udfff]",xa="[^"+Ra+"]",lr="(?:\\ud83c[\\udde6-\\uddff]){2}",jf="[\\ud800-\\udbff][\\udc00-\\udfff]",Lo="["+Ul+"]",Ri="(?:"+qn+"|"+Vf+")",SE="(?:"+Lo+"|"+Vf+")",ov="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",av="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",lv="(?:"+Se+"|"+Hf+")?",Uf="["+Lf+"]?",mr=Uf+lv+"(?:\\u200d(?:"+[xa,lr,jf].join("|")+")"+Uf+lv+")*",nn="(?:"+[it,lr,jf].join("|")+")"+mr,ME="(?:"+[xa+Se+"?",Se,lr,jf,Bf].join("|")+")",IE=RegExp("['\u2019]","g"),PE=RegExp(Se,"g"),Ye=RegExp(Hf+"(?="+Hf+")|"+ME+mr,"g"),OE=RegExp([Lo+"?"+qn+"+"+ov+"(?="+[iv,Lo,"$"].join("|")+")",SE+"+"+av+"(?="+[iv,Lo+Ri,"$"].join("|")+")",Lo+"?"+Ri+"+"+ov,Lo+"+"+av,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$l,nn].join("|"),"g"),ur=RegExp("[\\u200d"+Ra+jl+Lf+"]"),Oc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$f=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cv=-1,rn={};rn[Ef]=rn[wc]=rn[wf]=rn[Df]=rn[Sf]=rn[Af]=rn[Ll]=rn[Bl]=rn[Vl]=!0,rn[_e]=rn[de]=rn[kl]=rn[ve]=rn[ko]=rn[rt]=rn[Jt]=rn[Mr]=rn[Qe]=rn[or]=rn[Ir]=rn[Pr]=rn[ar]=rn[Nl]=rn[ci]=!1;var zt={};zt[_e]=zt[de]=zt[kl]=zt[ko]=zt[ve]=zt[rt]=zt[Ef]=zt[wc]=zt[wf]=zt[Df]=zt[Sf]=zt[Qe]=zt[or]=zt[Ir]=zt[Pr]=zt[ar]=zt[Nl]=zt[Ec]=zt[Af]=zt[Ll]=zt[Bl]=zt[Vl]=!0,zt[Jt]=zt[Mr]=zt[ci]=!1;var dv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nt=parseFloat,xc=parseInt,Kf="object"==typeof global&&global&&global.Object===Object&&global,As="object"==typeof self&&self&&self.Object===Object&&self,On=Kf||As||Function("return this")(),hv=q&&!q.nodeType&&q,Kr=hv&&we&&!we.nodeType&&we,Gr=Kr&&Kr.exports===hv,Gf=Gr&&Kf.process,hi=function(){try{return Kr&&Kr.require&&Kr.require("util").types||Gf&&Gf.binding&&Gf.binding("util")}catch(Y){}}(),zr=hi&&hi.isArrayBuffer,zf=hi&&hi.isDate,qf=hi&&hi.isMap,Qf=hi&&hi.isRegExp,fv=hi&&hi.isSet,jt=hi&&hi.isTypedArray;function qr(k,Y,z){switch(z.length){case 0:return k.call(Y);case 1:return k.call(Y,z[0]);case 2:return k.call(Y,z[0],z[1]);case 3:return k.call(Y,z[0],z[1],z[2])}return k.apply(Y,z)}function RE(k,Y,z,Me){for(var st=-1,Ft=null==k?0:k.length;++st<Ft;){var xn=k[st];Y(Me,xn,z(xn),k)}return Me}function Hn(k,Y){for(var z=-1,Me=null==k?0:k.length;++z<Me&&!1!==Y(k[z],z,k););return k}function qt(k,Y){for(var z=null==k?0:k.length;z--&&!1!==Y(k[z],z,k););return k}function Fa(k,Y){for(var z=-1,Me=null==k?0:k.length;++z<Me;)if(!Y(k[z],z,k))return!1;return!0}function xi(k,Y){for(var z=-1,Me=null==k?0:k.length,st=0,Ft=[];++z<Me;){var xn=k[z];Y(xn,z,k)&&(Ft[st++]=xn)}return Ft}function Bo(k,Y){return!(null==k||!k.length)&&oo(k,Y,0)>-1}function Kl(k,Y,z){for(var Me=-1,st=null==k?0:k.length;++Me<st;)if(z(Y,k[Me]))return!0;return!1}function Rt(k,Y){for(var z=-1,Me=null==k?0:k.length,st=Array(Me);++z<Me;)st[z]=Y(k[z],z,k);return st}function Qr(k,Y){for(var z=-1,Me=Y.length,st=k.length;++z<Me;)k[st+z]=Y[z];return k}function Fc(k,Y,z,Me){var st=-1,Ft=null==k?0:k.length;for(Me&&Ft&&(z=k[++st]);++st<Ft;)z=Y(z,k[st],st,k);return z}function Ts(k,Y,z,Me){var st=null==k?0:k.length;for(Me&&st&&(z=k[--st]);st--;)z=Y(z,k[st],st,k);return z}function Nc(k,Y){for(var z=-1,Me=null==k?0:k.length;++z<Me;)if(Y(k[z],z,k))return!0;return!1}var Zf=Fi("length");function cr(k,Y,z){var Me;return z(k,function(st,Ft,xn){if(Y(st,Ft,xn))return Me=Ft,!1}),Me}function Gl(k,Y,z,Me){for(var st=k.length,Ft=z+(Me?1:-1);Me?Ft--:++Ft<st;)if(Y(k[Ft],Ft,k))return Ft;return-1}function oo(k,Y,z){return Y==Y?function _r(k,Y,z){for(var Me=z-1,st=k.length;++Me<st;)if(k[Me]===Y)return Me;return-1}(k,Y,z):Gl(k,dr,z)}function Ke(k,Y,z,Me){for(var st=z-1,Ft=k.length;++st<Ft;)if(Me(k[st],Y))return st;return-1}function dr(k){return k!=k}function jn(k,Y){var z=null==k?0:k.length;return z?Na(k,Y)/z:NaN}function Fi(k){return function(Y){return null==Y?_:Y[k]}}function ss(k){return function(Y){return null==k?_:k[Y]}}function Or(k,Y,z,Me,st){return st(k,function(Ft,xn,tn){z=Me?(Me=!1,Ft):Y(z,Ft,xn,tn)}),z}function Na(k,Y){for(var z,Me=-1,st=k.length;++Me<st;){var Ft=Y(k[Me]);Ft!==_&&(z=z===_?Ft:z+Ft)}return z}function ao(k,Y){for(var z=-1,Me=Array(k);++z<k;)Me[z]=Y(z);return Me}function Ms(k){return k&&k.slice(0,Qt(k)+1).replace(di,"")}function $t(k){return function(Y){return k(Y)}}function kc(k,Y){return Rt(Y,function(z){return k[z]})}function Qn(k,Y){return k.has(Y)}function Ee(k,Y){for(var z=-1,Me=k.length;++z<Me&&oo(Y,k[z],0)>-1;);return z}function pt(k,Y){for(var z=k.length;z--&&oo(Y,k[z],0)>-1;);return z}function on(k,Y){for(var z=k.length,Me=0;z--;)k[z]===Y&&++Me;return Me}var Rr=ss({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),lo=ss({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Rn(k){return"\\"+dv[k]}function en(k){return ur.test(k)}function lt(k){var Y=-1,z=Array(k.size);return k.forEach(function(Me,st){z[++Y]=[st,Me]}),z}function La(k,Y){return function(z){return k(Y(z))}}function xr(k,Y){for(var z=-1,Me=k.length,st=0,Ft=[];++z<Me;){var xn=k[z];(xn===Y||xn===S)&&(k[z]=S,Ft[st++]=z)}return Ft}function Ho(k){var Y=-1,z=Array(k.size);return k.forEach(function(Me){z[++Y]=Me}),z}function fi(k){return en(k)?function gv(k){for(var Y=Ye.lastIndex=0;Ye.test(k);)++Y;return Y}(k):Zf(k)}function gn(k){return en(k)?function Ni(k){return k.match(Ye)||[]}(k):function Yf(k){return k.split("")}(k)}function Qt(k){for(var Y=k.length;Y--&&Z_.test(k.charAt(Y)););return Y}var pv=ss({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),co=function k(Y){var o,z=(Y=null==Y?On:co.defaults(On.Object(),Y,co.pick(On,$f))).Array,Me=Y.Date,st=Y.Error,Ft=Y.Function,xn=Y.Math,tn=Y.Object,Jf=Y.RegExp,xE=Y.String,gi=Y.TypeError,Bc=z.prototype,Va=tn.prototype,Vc=Y["__core-js_shared__"],Hc=Ft.prototype.toString,Wt=Va.hasOwnProperty,NE=0,mv=(o=/[^.]+$/.exec(Vc&&Vc.keys&&Vc.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",jc=Va.toString,ep=Hc.call(tn),Uc=On._,kE=Jf("^"+Hc.call(Wt).replace(Ac,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$c=Gr?Y.Buffer:_,ho=Y.Symbol,ki=Y.Uint8Array,tp=$c?$c.allocUnsafe:_,Un=La(tn.getPrototypeOf,tn),Wc=tn.create,np=Va.propertyIsEnumerable,Ql=Bc.splice,Kc=ho?ho.isConcatSpreadable:_,Uo=ho?ho.iterator:_,fo=ho?ho.toStringTag:_,$o=function(){try{var o=Vs(tn,"defineProperty");return o({},"",{}),o}catch(u){}}(),_v=Y.clearTimeout!==On.clearTimeout&&Y.clearTimeout,Zr=Me&&Me.now!==On.Date.now&&Me.now,Gc=Y.setTimeout!==On.setTimeout&&Y.setTimeout,Zl=xn.ceil,Wo=xn.floor,zc=tn.getOwnPropertySymbols,vv=$c?$c.isBuffer:_,Yl=Y.isFinite,yv=Bc.join,qc=La(tn.keys,tn),Fn=xn.max,yt=xn.min,rp=Me.now,Cv=Y.parseInt,mn=xn.random,bv=Bc.reverse,ip=Vs(Y,"DataView"),Is=Vs(Y,"Map"),vr=Vs(Y,"Promise"),Ko=Vs(Y,"Set"),po=Vs(Y,"WeakMap"),Li=Vs(tn,"create"),Zn=po&&new po,go={},Qc=js(ip),Ev=js(Is),Ps=js(vr),sp=js(Ko),Zc=js(po),Ge=ho?ho.prototype:_,Xl=Ge?Ge.valueOf:_,op=Ge?Ge.toString:_;function y(o){if(cn(o)&&!ut(o)&&!(o instanceof bt)){if(o instanceof Yr)return o;if(Wt.call(o,"__wrapped__"))return aa(o)}return new Yr(o)}var Go=function(){function o(){}return function(u){if(!xe(u))return{};if(Wc)return Wc(u);o.prototype=u;var d=new o;return o.prototype=_,d}}();function Ha(){}function Yr(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=_}function bt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function sn(o){var u=-1,d=null==o?0:o.length;for(this.clear();++u<d;){var p=o[u];this.set(p[0],p[1])}}function Os(o){var u=-1,d=null==o?0:o.length;for(this.clear();++u<d;){var p=o[u];this.set(p[0],p[1])}}function Vi(o){var u=-1,d=null==o?0:o.length;for(this.clear();++u<d;){var p=o[u];this.set(p[0],p[1])}}function mo(o){var u=-1,d=null==o?0:o.length;for(this.__data__=new Vi;++u<d;)this.add(o[u])}function Xr(o){var u=this.__data__=new Os(o);this.size=u.size}function nd(o,u){var d=ut(o),p=!d&&$s(o),m=!d&&!p&&Ws(o),C=!d&&!p&&!m&&gs(o),D=d||p||m||C,I=D?ao(o.length,xE):[],B=I.length;for(var re in o)(u||Wt.call(o,re))&&(!D||!("length"==re||m&&("offset"==re||"parent"==re)||C&&("buffer"==re||"byteLength"==re||"byteOffset"==re)||yi(re,B)))&&I.push(re);return I}function rd(o){var u=o.length;return u?o[yo(0,u-1)]:_}function dp(o,u){return Dd(br(o),_o(u,0,o.length))}function nu(o){return Dd(br(o))}function id(o,u,d){(d!==_&&!kr(o[u],d)||d===_&&!(u in o))&&ls(o,u,d)}function Ua(o,u,d){var p=o[u];(!Wt.call(o,u)||!kr(p,d)||d===_&&!(u in o))&&ls(o,u,d)}function Nn(o,u){for(var d=o.length;d--;)if(kr(o[d][0],u))return d;return-1}function Rs(o,u,d,p){return Hi(o,function(m,C,D){u(p,m,d(m),D)}),p}function un(o,u){return o&&Wi(u,Tn(u),o)}function ls(o,u,d){"__proto__"==u&&$o?$o(o,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):o[u]=d}function ru(o,u){for(var d=-1,p=u.length,m=z(p),C=null==o;++d<p;)m[d]=C?_:Lu(o,u[d]);return m}function _o(o,u,d){return o==o&&(d!==_&&(o=o<=d?o:d),u!==_&&(o=o>=u?o:u)),o}function Jr(o,u,d,p,m,C){var D,I=1&u,B=2&u,re=4&u;if(d&&(D=m?d(o,p,m,C):d(o)),D!==_)return D;if(!xe(o))return o;var ie=ut(o);if(ie){if(D=function oa(o){var u=o.length,d=new o.constructor(u);return u&&"string"==typeof o[0]&&Wt.call(o,"index")&&(d.index=o.index,d.input=o.input),d}(o),!I)return br(o,D)}else{var he=Xn(o),be=he==Mr||he==ft;if(Ws(o))return Sp(o,I);if(he==Ir||he==_e||be&&!m){if(D=B||be?{}:kp(o),!I)return B?function Lv(o,u){return Wi(o,Np(o),u)}(o,function $a(o,u){return o&&Wi(u,wr(u),o)}(D,o)):function kv(o,u){return Wi(o,Fp(o),u)}(o,un(D,o))}else{if(!zt[he])return m?o:{};D=function $v(o,u,d){var p=o.constructor;switch(u){case kl:return vd(o);case ve:case rt:return new p(+o);case ko:return function VE(o,u){var d=u?vd(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.byteLength)}(o,d);case Ef:case wc:case wf:case Df:case Sf:case Af:case Ll:case Bl:case Vl:return Cr(o,d);case Qe:return new p;case or:case Nl:return new p(o);case Pr:return function HE(o){var u=new o.constructor(o.source,Mc.exec(o));return u.lastIndex=o.lastIndex,u}(o);case ar:return new p;case Ec:return function Ap(o){return Xl?tn(Xl.call(o)):{}}(o)}}(o,he,I)}}C||(C=new Xr);var Fe=C.get(o);if(Fe)return Fe;C.set(o,D),Xd(o)?o.forEach(function(Ue){D.add(Jr(Ue,u,d,Ue,o,C))}):Zd(o)&&o.forEach(function(Ue,Ct){D.set(Ct,Jr(Ue,u,d,Ct,o,C))});var gt=ie?_:(re?B?Cu:sa:B?wr:Tn)(o);return Hn(gt||o,function(Ue,Ct){gt&&(Ue=o[Ct=Ue]),Ua(D,Ct,Jr(Ue,u,d,Ct,o,C))}),D}function Wa(o,u,d){var p=d.length;if(null==o)return!p;for(o=tn(o);p--;){var m=d[p],D=o[m];if(D===_&&!(m in o)||!(0,u[m])(D))return!1}return!0}function Ka(o,u,d){if("function"!=typeof o)throw new gi(U);return nl(function(){o.apply(_,d)},u)}function xs(o,u,d,p){var m=-1,C=Bo,D=!0,I=o.length,B=[],re=u.length;if(!I)return B;d&&(u=Rt(u,$t(d))),p?(C=Kl,D=!1):u.length>=200&&(C=Qn,D=!1,u=new mo(u));e:for(;++m<I;){var ie=o[m],he=null==d?ie:d(ie);if(ie=p||0!==ie?ie:0,D&&he==he){for(var be=re;be--;)if(u[be]===he)continue e;B.push(ie)}else C(u,he,p)||B.push(ie)}return B}y.templateSettings={escape:Wr,evaluate:G_,interpolate:Of,variable:"",imports:{_:y}},(y.prototype=Ha.prototype).constructor=y,(Yr.prototype=Go(Ha.prototype)).constructor=Yr,(bt.prototype=Go(Ha.prototype)).constructor=bt,sn.prototype.clear=function ap(){this.__data__=Li?Li(null):{},this.size=0},sn.prototype.delete=function ja(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u},sn.prototype.get=function Bi(o){var u=this.__data__;if(Li){var d=u[o];return d===ee?_:d}return Wt.call(u,o)?u[o]:_},sn.prototype.has=function Yc(o){var u=this.__data__;return Li?u[o]!==_:Wt.call(u,o)},sn.prototype.set=function Xc(o,u){var d=this.__data__;return this.size+=this.has(o)?0:1,d[o]=Li&&u===_?ee:u,this},Os.prototype.clear=function wv(){this.__data__=[],this.size=0},Os.prototype.delete=function Jl(o){var u=this.__data__,d=Nn(u,o);return!(d<0||(d==u.length-1?u.pop():Ql.call(u,d,1),--this.size,0))},Os.prototype.get=function eu(o){var u=this.__data__,d=Nn(u,o);return d<0?_:u[d][1]},Os.prototype.has=function hr(o){return Nn(this.__data__,o)>-1},Os.prototype.set=function os(o,u){var d=this.__data__,p=Nn(d,o);return p<0?(++this.size,d.push([o,u])):d[p][1]=u,this},Vi.prototype.clear=function zo(){this.size=0,this.__data__={hash:new sn,map:new(Is||Os),string:new sn}},Vi.prototype.delete=function as(o){var u=Eu(this,o).delete(o);return this.size-=u?1:0,u},Vi.prototype.get=function Dv(o){return Eu(this,o).get(o)},Vi.prototype.has=function lp(o){return Eu(this,o).has(o)},Vi.prototype.set=function Sv(o,u){var d=Eu(this,o),p=d.size;return d.set(o,u),this.size+=d.size==p?0:1,this},mo.prototype.add=mo.prototype.push=function Jc(o){return this.__data__.set(o,ee),this},mo.prototype.has=function ed(o){return this.__data__.has(o)},Xr.prototype.clear=function td(){this.__data__=new Os,this.size=0},Xr.prototype.delete=function Av(o){var u=this.__data__,d=u.delete(o);return this.size=u.size,d},Xr.prototype.get=function up(o){return this.__data__.get(o)},Xr.prototype.has=function tu(o){return this.__data__.has(o)},Xr.prototype.set=function cp(o,u){var d=this.__data__;if(d instanceof Os){var p=d.__data__;if(!Is||p.length<199)return p.push([o,u]),this.size=++d.size,this;d=this.__data__=new Vi(p)}return d.set(o,u),this.size=d.size,this};var Hi=mu(ji),sd=mu(od,!0);function Mv(o,u){var d=!0;return Hi(o,function(p,m,C){return d=!!u(p,m,C)}),d}function mi(o,u,d){for(var p=-1,m=o.length;++p<m;){var C=o[p],D=u(C);if(null!=D&&(I===_?D==D&&!tr(D):d(D,I)))var I=D,B=C}return B}function hp(o,u){var d=[];return Hi(o,function(p,m,C){u(p,m,C)&&d.push(p)}),d}function $n(o,u,d,p,m){var C=-1,D=o.length;for(d||(d=Su),m||(m=[]);++C<D;){var I=o[C];u>0&&d(I)?u>1?$n(I,u-1,d,p,m):Qr(m,I):p||(m[m.length]=I)}return m}var vo=Za(),iu=Za(!0);function ji(o,u){return o&&vo(o,u,Tn)}function od(o,u){return o&&iu(o,u,Tn)}function ad(o,u){return xi(u,function(d){return fs(o[d])})}function qo(o,u){for(var d=0,p=(u=us(u,o)).length;null!=o&&d<p;)o=o[Fr(u[d++])];return d&&d==p?o:_}function za(o,u,d){var p=u(o);return ut(o)?p:Qr(p,d(o))}function Yn(o){return null==o?o===_?"[object Undefined]":"[object Null]":fo&&fo in tn(o)?function jv(o){var u=Wt.call(o,fo),d=o[fo];try{o[fo]=_;var p=!0}catch(C){}var m=jc.call(o);return p&&(u?o[fo]=d:delete o[fo]),m}(o):function $E(o){return jc.call(o)}(o)}function qa(o,u){return o>u}function su(o,u){return null!=o&&Wt.call(o,u)}function fp(o,u){return null!=o&&u in tn(o)}function Fs(o,u,d){for(var p=d?Kl:Bo,m=o[0].length,C=o.length,D=C,I=z(C),B=1/0,re=[];D--;){var ie=o[D];D&&u&&(ie=Rt(ie,$t(u))),B=yt(ie.length,B),I[D]=!d&&(u||m>=120&&ie.length>=120)?new mo(D&&ie):_}ie=o[0];var he=-1,be=I[0];e:for(;++he<m&&re.length<B;){var Fe=ie[he],je=u?u(Fe):Fe;if(Fe=d||0!==Fe?Fe:0,!(be?Qn(be,je):p(re,je,d))){for(D=C;--D;){var gt=I[D];if(!(gt?Qn(gt,je):p(o[D],je,d)))continue e}be&&be.push(je),re.push(Fe)}}return re}function Ui(o,u,d){var p=null==(o=qv(o,u=us(u,o)))?o:o[Fr(Ln(u))];return null==p?_:qr(p,o,d)}function ou(o){return cn(o)&&Yn(o)==_e}function Qo(o,u,d,p,m){return o===u||(null==o||null==u||!cn(o)&&!cn(u)?o!=o&&u!=u:function gp(o,u,d,p,m,C){var D=ut(o),I=ut(u),B=D?de:Xn(o),re=I?de:Xn(u),ie=(B=B==_e?Ir:B)==Ir,he=(re=re==_e?Ir:re)==Ir,be=B==re;if(be&&Ws(o)){if(!Ws(u))return!1;D=!0,ie=!1}if(be&&!ie)return C||(C=new Xr),D||gs(o)?ia(o,u,d,p,m,C):function Hv(o,u,d,p,m,C,D){switch(d){case ko:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case kl:return!(o.byteLength!=u.byteLength||!C(new ki(o),new ki(u)));case ve:case rt:case or:return kr(+o,+u);case Jt:return o.name==u.name&&o.message==u.message;case Pr:case Nl:return o==u+"";case Qe:var I=lt;case ar:if(I||(I=Ho),o.size!=u.size&&!(1&p))return!1;var re=D.get(o);if(re)return re==u;p|=2,D.set(o,u);var ie=ia(I(o),I(u),p,m,C,D);return D.delete(o),ie;case Ec:if(Xl)return Xl.call(o)==Xl.call(u)}return!1}(o,u,B,d,p,m,C);if(!(1&d)){var Fe=ie&&Wt.call(o,"__wrapped__"),je=he&&Wt.call(u,"__wrapped__");if(Fe||je){var gt=Fe?o.value():o,Ue=je?u.value():u;return C||(C=new Xr),m(gt,Ue,d,p,C)}}return!!be&&(C||(C=new Xr),function Rp(o,u,d,p,m,C){var D=1&d,I=sa(o),B=I.length;if(B!=sa(u).length&&!D)return!1;for(var he=B;he--;){var be=I[he];if(!(D?be in u:Wt.call(u,be)))return!1}var Fe=C.get(o),je=C.get(u);if(Fe&&je)return Fe==u&&je==o;var gt=!0;C.set(o,u),C.set(u,o);for(var Ue=D;++he<B;){var Ct=o[be=I[he]],Dt=u[be];if(p)var si=D?p(Dt,Ct,be,u,o,C):p(Ct,Dt,be,o,u,C);if(!(si===_?Ct===Dt||m(Ct,Dt,d,p,C):si)){gt=!1;break}Ue||(Ue="constructor"==be)}if(gt&&!Ue){var Dr=o.constructor,pr=u.constructor;Dr!=pr&&"constructor"in o&&"constructor"in u&&!("function"==typeof Dr&&Dr instanceof Dr&&"function"==typeof pr&&pr instanceof pr)&&(gt=!1)}return C.delete(o),C.delete(u),gt}(o,u,d,p,m,C))}(o,u,d,p,Qo,m))}function ld(o,u,d,p){var m=d.length,C=m,D=!p;if(null==o)return!C;for(o=tn(o);m--;){var I=d[m];if(D&&I[2]?I[1]!==o[I[0]]:!(I[0]in o))return!1}for(;++m<C;){var B=(I=d[m])[0],re=o[B],ie=I[1];if(D&&I[2]){if(re===_&&!(B in o))return!1}else{var he=new Xr;if(p)var be=p(re,ie,B,o,u,he);if(!(be===_?Qo(ie,re,3,p,he):be))return!1}}return!0}function Zo(o){return!(!xe(o)||function Wv(o){return!!mv&&mv in o}(o))&&(fs(o)?kE:Ff).test(js(o))}function Qa(o){return"function"==typeof o?o:null==o?Wn:"object"==typeof o?ut(o)?_p(o[0],o[1]):fd(o):Ch(o)}function dd(o){if(!el(o))return qc(o);var u=[];for(var d in tn(o))Wt.call(o,d)&&"constructor"!=d&&u.push(d);return u}function uu(o,u){return o<u}function hd(o,u){var d=-1,p=Er(o)?z(o.length):[];return Hi(o,function(m,C,D){p[++d]=u(m,C,D)}),p}function fd(o){var u=xp(o);return 1==u.length&&u[0][2]?Vp(u[0][0],u[0][1]):function(d){return d===o||ld(d,o,u)}}function _p(o,u){return Au(o)&&Bp(u)?Vp(Fr(o),u):function(d){var p=Lu(d,o);return p===_&&p===u?Bu(d,o):Qo(u,p,3)}}function cu(o,u,d,p,m){o!==u&&vo(u,function(C,D){if(m||(m=new Xr),xe(C))!function du(o,u,d,p,m,C,D){var I=Hp(o,d),B=Hp(u,d),re=D.get(B);if(re)id(o,d,re);else{var ie=C?C(I,B,d+"",o,u,D):_,he=ie===_;if(he){var be=ut(B),Fe=!be&&Ws(B),je=!be&&!Fe&&gs(B);ie=B,be||Fe||je?ut(I)?ie=I:_n(I)?ie=br(I):Fe?(he=!1,ie=Sp(B,!0)):je?(he=!1,ie=Cr(B,!0)):ie=[]:ca(B)||$s(B)?(ie=I,$s(I)?ie=Tg(I):(!xe(I)||fs(I))&&(ie=kp(B))):he=!1}he&&(D.set(B,ie),m(ie,B,p,C,D),D.delete(B)),id(o,d,ie)}}(o,u,D,d,cu,p,m);else{var I=p?p(Hp(o,D),C,D+"",o,u,m):_;I===_&&(I=C),id(o,D,I)}},wr)}function Yo(o,u){var d=o.length;if(d)return yi(u+=u<0?d:0,d)?o[u]:_}function vp(o,u,d){u=u.length?Rt(u,function(C){return ut(C)?function(D){return qo(D,1===C.length?C[0]:C)}:C}):[Wn];var p=-1;return u=Rt(u,$t(Be())),function zl(k,Y){var z=k.length;for(k.sort(Y);z--;)k[z]=k[z].value;return k}(hd(o,function(C,D,I){return{criteria:Rt(u,function(re){return re(C)}),index:++p,value:C}}),function(C,D){return function na(o,u,d){for(var p=-1,m=o.criteria,C=u.criteria,D=m.length,I=d.length;++p<D;){var B=pu(m[p],C[p]);if(B)return p>=I?B:B*("desc"==d[p]?-1:1)}return o.index-u.index}(C,D,d)})}function pd(o,u,d){for(var p=-1,m=u.length,C={};++p<m;){var D=u[p],I=qo(o,D);d(I,D)&&$i(C,us(D,o),I)}return C}function kn(o,u,d,p){var m=p?Ke:oo,C=-1,D=u.length,I=o;for(o===u&&(u=br(u)),d&&(I=Rt(o,$t(d)));++C<D;)for(var B=0,re=u[C],ie=d?d(re):re;(B=m(I,ie,B,p))>-1;)I!==o&&Ql.call(I,B,1),Ql.call(o,B,1);return o}function hu(o,u){for(var d=o?u.length:0,p=d-1;d--;){var m=u[d];if(d==p||m!==C){var C=m;yi(m)?Ql.call(o,m,1):Ep(o,m)}}return o}function yo(o,u){return o+Wo(mn()*(u-o+1))}function Ns(o,u){var d="";if(!o||u<1||u>K)return d;do{u%2&&(d+=o),(u=Wo(u/2))&&(o+=o)}while(u);return d}function ot(o,u){return wd(zv(o,u,Wn),o+"")}function Cp(o){return rd(_s(o))}function gd(o,u){var d=_s(o);return Dd(d,_o(u,0,d.length))}function $i(o,u,d,p){if(!xe(o))return o;for(var m=-1,C=(u=us(u,o)).length,D=C-1,I=o;null!=I&&++m<C;){var B=Fr(u[m]),re=d;if("__proto__"===B||"constructor"===B||"prototype"===B)return o;if(m!=D){var ie=I[B];(re=p?p(ie,B,I):_)===_&&(re=xe(ie)?ie:yi(u[m+1])?[]:{})}Ua(I,B,re),I=I[B]}return o}var Ov=Zn?function(o,u){return Zn.set(o,u),o}:Wn,Rv=$o?function(o,u){return $o(o,"toString",{configurable:!0,enumerable:!1,value:gh(u),writable:!0})}:Wn;function Ve(o){return Dd(_s(o))}function ei(o,u,d){var p=-1,m=o.length;u<0&&(u=-u>m?0:m+u),(d=d>m?m:d)<0&&(d+=m),m=u>d?0:d-u>>>0,u>>>=0;for(var C=z(m);++p<m;)C[p]=o[p+u];return C}function BE(o,u){var d;return Hi(o,function(p,m,C){return!(d=u(p,m,C))}),!!d}function md(o,u,d){var p=0,m=null==o?p:o.length;if("number"==typeof u&&u==u&&m<=2147483647){for(;p<m;){var C=p+m>>>1,D=o[C];null!==D&&!tr(D)&&(d?D<=u:D<u)?p=C+1:m=C}return m}return bp(o,u,Wn,d)}function bp(o,u,d,p){var m=0,C=null==o?0:o.length;if(0===C)return 0;for(var D=(u=d(u))!=u,I=null===u,B=tr(u),re=u===_;m<C;){var ie=Wo((m+C)/2),he=d(o[ie]),be=he!==_,Fe=null===he,je=he==he,gt=tr(he);if(D)var Ue=p||je;else Ue=re?je&&(p||be):I?je&&be&&(p||!Fe):B?je&&be&&!Fe&&(p||!gt):!Fe&&!gt&&(p?he<=u:he<u);Ue?m=ie+1:C=ie}return yt(C,4294967294)}function xv(o,u){for(var d=-1,p=o.length,m=0,C=[];++d<p;){var D=o[d],I=u?u(D):D;if(!d||!kr(I,B)){var B=I;C[m++]=0===D?0:D}}return C}function Fv(o){return"number"==typeof o?o:tr(o)?NaN:+o}function ti(o){if("string"==typeof o)return o;if(ut(o))return Rt(o,ti)+"";if(tr(o))return op?op.call(o):"";var u=o+"";return"0"==u&&1/o==-O?"-0":u}function ni(o,u,d){var p=-1,m=Bo,C=o.length,D=!0,I=[],B=I;if(d)D=!1,m=Kl;else if(C>=200){var re=u?null:Vv(o);if(re)return Ho(re);D=!1,m=Qn,B=new mo}else B=u?[]:I;e:for(;++p<C;){var ie=o[p],he=u?u(ie):ie;if(ie=d||0!==ie?ie:0,D&&he==he){for(var be=B.length;be--;)if(B[be]===he)continue e;u&&B.push(he),I.push(ie)}else m(B,he,d)||(B!==I&&B.push(he),I.push(ie))}return I}function Ep(o,u){return null==(o=qv(o,u=us(u,o)))||delete o[Fr(Ln(u))]}function Dn(o,u,d,p){return $i(o,u,d(qo(o,u)),p)}function ea(o,u,d,p){for(var m=o.length,C=p?m:-1;(p?C--:++C<m)&&u(o[C],C,o););return d?ei(o,p?0:C,p?C+1:m):ei(o,p?C+1:0,p?m:C)}function ta(o,u){var d=o;return d instanceof bt&&(d=d.value()),Fc(u,function(p,m){return m.func.apply(m.thisArg,Qr([p],m.args))},d)}function wp(o,u,d){var p=o.length;if(p<2)return p?ni(o[0]):[];for(var m=-1,C=z(p);++m<p;)for(var D=o[m],I=-1;++I<p;)I!=m&&(C[m]=xs(C[m]||D,o[I],u,d));return ni($n(C,1),u,d)}function Dp(o,u,d){for(var p=-1,m=o.length,C=u.length,D={};++p<m;)d(D,o[p],p<C?u[p]:_);return D}function yr(o){return _n(o)?o:[]}function ri(o){return"function"==typeof o?o:Wn}function us(o,u){return ut(o)?o:Au(o,u)?[o]:$p(Nt(o))}var fu=ot;function ii(o,u,d){var p=o.length;return d=d===_?p:d,!u&&d>=p?o:ei(o,u,d)}var _d=_v||function(o){return On.clearTimeout(o)};function Sp(o,u){if(u)return o.slice();var d=o.length,p=tp?tp(d):new o.constructor(d);return o.copy(p),p}function vd(o){var u=new o.constructor(o.byteLength);return new ki(u).set(new ki(o)),u}function Cr(o,u){var d=u?vd(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.length)}function pu(o,u){if(o!==u){var d=o!==_,p=null===o,m=o==o,C=tr(o),D=u!==_,I=null===u,B=u==u,re=tr(u);if(!I&&!re&&!C&&o>u||C&&D&&B&&!I&&!re||p&&D&&B||!d&&B||!m)return 1;if(!p&&!C&&!re&&o<u||re&&d&&m&&!p&&!C||I&&d&&m||!D&&m||!B)return-1}return 0}function Nv(o,u,d,p){for(var m=-1,C=o.length,D=d.length,I=-1,B=u.length,re=Fn(C-D,0),ie=z(B+re),he=!p;++I<B;)ie[I]=u[I];for(;++m<D;)(he||m<C)&&(ie[d[m]]=o[m]);for(;re--;)ie[I++]=o[m++];return ie}function yd(o,u,d,p){for(var m=-1,C=o.length,D=-1,I=d.length,B=-1,re=u.length,ie=Fn(C-I,0),he=z(ie+re),be=!p;++m<ie;)he[m]=o[m];for(var Fe=m;++B<re;)he[Fe+B]=u[B];for(;++D<I;)(be||m<C)&&(he[Fe+d[D]]=o[m++]);return he}function br(o,u){var d=-1,p=o.length;for(u||(u=z(p));++d<p;)u[d]=o[d];return u}function Wi(o,u,d,p){var m=!d;d||(d={});for(var C=-1,D=u.length;++C<D;){var I=u[C],B=p?p(d[I],o[I],I,d,o):_;B===_&&(B=o[I]),m?ls(d,I,B):Ua(d,I,B)}return d}function gu(o,u){return function(d,p){var m=ut(d)?RE:Rs,C=u?u():{};return m(d,o,Be(p,2),C)}}function Co(o){return ot(function(u,d){var p=-1,m=d.length,C=m>1?d[m-1]:_,D=m>2?d[2]:_;for(C=o.length>3&&"function"==typeof C?(m--,C):_,D&&Jn(d[0],d[1],D)&&(C=m<3?_:C,m=1),u=tn(u);++p<m;){var I=d[p];I&&o(u,I,p,C)}return u})}function mu(o,u){return function(d,p){if(null==d)return d;if(!Er(d))return o(d,p);for(var m=d.length,C=u?m:-1,D=tn(d);(u?C--:++C<m)&&!1!==p(D[C],C,D););return d}}function Za(o){return function(u,d,p){for(var m=-1,C=tn(u),D=p(u),I=D.length;I--;){var B=D[o?I:++m];if(!1===d(C[B],B,C))break}return u}}function ra(o){return function(u){var d=en(u=Nt(u))?gn(u):_,p=d?d[0]:u.charAt(0),m=d?ii(d,1).join(""):u.slice(1);return p[o]()+m}}function ks(o){return function(u){return Fc(Kg(dh(u).replace(IE,"")),o,"")}}function Ls(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=Go(o.prototype),p=o.apply(d,u);return xe(p)?p:d}}function Tp(o){return function(u,d,p){var m=tn(u);if(!Er(u)){var C=Be(d,3);u=Tn(u),d=function(I){return C(m[I],I,m)}}var D=o(u,d,p);return D>-1?m[C?u[D]:D]:_}}function Mp(o){return _i(function(u){var d=u.length,p=d,m=Yr.prototype.thru;for(o&&u.reverse();p--;){var C=u[p];if("function"!=typeof C)throw new gi(U);if(m&&!D&&"wrapper"==bu(C))var D=new Yr([],!0)}for(p=D?p:d;++p<d;){var I=bu(C=u[p]),B="wrapper"==I?bd(C):_;D=B&&Tu(B[0])&&424==B[1]&&!B[4].length&&1==B[9]?D[bu(B[0])].apply(D,B[3]):1==C.length&&Tu(C)?D[I]():D.thru(C)}return function(){var re=arguments,ie=re[0];if(D&&1==re.length&&ut(ie))return D.plant(ie).value();for(var he=0,be=d?u[he].apply(this,re):ie;++he<d;)be=u[he].call(this,be);return be}})}function Ya(o,u,d,p,m,C,D,I,B,re){var ie=128&u,he=1&u,be=2&u,Fe=24&u,je=512&u,gt=be?_:Ls(o);return function Ue(){for(var Ct=arguments.length,Dt=z(Ct),si=Ct;si--;)Dt[si]=arguments[si];if(Fe)var Dr=vi(Ue),pr=on(Dt,Dr);if(p&&(Dt=Nv(Dt,p,m,Fe)),C&&(Dt=yd(Dt,C,D,Fe)),Ct-=pr,Fe&&Ct<re){var vn=xr(Dt,Dr);return yu(o,u,Ya,Ue.placeholder,d,Dt,vn,I,B,re-Ct)}var oi=he?d:this,qi=be?oi[o]:o;return Ct=Dt.length,I?Dt=WE(Dt,I):je&&Ct>1&&Dt.reverse(),ie&&B<Ct&&(Dt.length=B),this&&this!==On&&this instanceof Ue&&(qi=gt||Ls(qi)),qi.apply(oi,Dt)}}function Ip(o,u){return function(d,p){return function Iv(o,u,d,p){return ji(o,function(m,C,D){u(p,d(m),C,D)}),p}(d,o,u(p),{})}}function Bs(o,u){return function(d,p){var m;if(d===_&&p===_)return u;if(d!==_&&(m=d),p!==_){if(m===_)return p;"string"==typeof d||"string"==typeof p?(d=ti(d),p=ti(p)):(d=Fv(d),p=Fv(p)),m=o(d,p)}return m}}function _u(o){return _i(function(u){return u=Rt(u,$t(Be())),ot(function(d){var p=this;return o(u,function(m){return qr(m,p,d)})})})}function vu(o,u){var d=(u=u===_?" ":ti(u)).length;if(d<2)return d?Ns(u,o):u;var p=Ns(u,Zl(o/fi(u)));return en(u)?ii(gn(p),0,o).join(""):p.slice(0,o)}function Cd(o){return function(u,d,p){return p&&"number"!=typeof p&&Jn(u,d,p)&&(d=p=_),u=ms(u),d===_?(d=u,u=0):d=ms(d),function Jo(o,u,d,p){for(var m=-1,C=Fn(Zl((u-o)/(d||1)),0),D=z(C);C--;)D[p?C:++m]=o,o+=d;return D}(u,d,p=p===_?u<d?1:-1:ms(p),o)}}function Xa(o){return function(u,d){return"string"==typeof u&&"string"==typeof d||(u=Ei(u),d=Ei(d)),o(u,d)}}function yu(o,u,d,p,m,C,D,I,B,re){var ie=8&u;u|=ie?32:64,4&(u&=~(ie?64:32))||(u&=-4);var gt=[o,u,m,ie?C:_,ie?D:_,ie?_:C,ie?_:D,I,B,re],Ue=d.apply(_,gt);return Tu(o)&&Ed(Ue,gt),Ue.placeholder=p,jp(Ue,o,u)}function bo(o){var u=xn[o];return function(d,p){if(d=Ei(d),(p=null==p?0:yt(ht(p),292))&&Yl(d)){var m=(Nt(d)+"e").split("e");return+((m=(Nt(u(m[0]+"e"+(+m[1]+p)))+"e").split("e"))[0]+"e"+(+m[1]-p))}return u(d)}}var Vv=Ko&&1/Ho(new Ko([,-0]))[1]==O?function(o){return new Ko(o)}:pl;function Pp(o){return function(u){var d=Xn(u);return d==Qe?lt(u):d==ar?function jo(k){var Y=-1,z=Array(k.size);return k.forEach(function(Me){z[++Y]=[Me,Me]}),z}(u):function ql(k,Y){return Rt(Y,function(z){return[z,k[z]]})}(u,o(u))}}function cs(o,u,d,p,m,C,D,I){var B=2&u;if(!B&&"function"!=typeof o)throw new gi(U);var re=p?p.length:0;if(re||(u&=-97,p=m=_),D=D===_?D:Fn(ht(D),0),I=I===_?I:ht(I),re-=m?m.length:0,64&u){var ie=p,he=m;p=m=_}var be=B?_:bd(o),Fe=[o,u,d,p,m,ie,he,C,D,I];if(be&&function tl(o,u){var d=o[1],p=u[1],m=d|p;if(!(m<131||(128==p&&8==d||128==p&&256==d&&o[7].length<=u[8]||384==p&&u[7].length<=u[8]&&8==d)))return o;1&p&&(o[2]=u[2],m|=1&d?0:4);var I=u[3];if(I){var B=o[3];o[3]=B?Nv(B,I,u[4]):I,o[4]=B?xr(o[3],S):u[4]}(I=u[5])&&(o[5]=(B=o[5])?yd(B,I,u[6]):I,o[6]=B?xr(o[5],S):u[6]),(I=u[7])&&(o[7]=I),128&p&&(o[8]=null==o[8]?u[8]:yt(o[8],u[8])),null==o[9]&&(o[9]=u[9]),o[0]=u[0],o[1]=m}(Fe,be),o=Fe[0],u=Fe[1],d=Fe[2],p=Fe[3],m=Fe[4],!(I=Fe[9]=Fe[9]===_?B?0:o.length:Fn(Fe[9]-re,0))&&24&u&&(u&=-25),u&&1!=u)je=8==u||16==u?function Bv(o,u,d){var p=Ls(o);return function m(){for(var C=arguments.length,D=z(C),I=C,B=vi(m);I--;)D[I]=arguments[I];var re=C<3&&D[0]!==B&&D[C-1]!==B?[]:xr(D,B);return(C-=re.length)<d?yu(o,u,Ya,m.placeholder,_,D,re,_,_,d-C):qr(this&&this!==On&&this instanceof m?p:o,this,D)}}(o,u,I):32!=u&&33!=u||m.length?Ya.apply(_,Fe):function Ae(o,u,d,p){var m=1&u,C=Ls(o);return function D(){for(var I=-1,B=arguments.length,re=-1,ie=p.length,he=z(ie+B),be=this&&this!==On&&this instanceof D?C:o;++re<ie;)he[re]=p[re];for(;B--;)he[re++]=arguments[++I];return qr(be,m?d:this,he)}}(o,u,d,p);else var je=function jE(o,u,d){var p=1&u,m=Ls(o);return function C(){return(this&&this!==On&&this instanceof C?m:o).apply(p?d:this,arguments)}}(o,u,d);return jp((be?Ov:Ed)(je,Fe),o,u)}function Ja(o,u,d,p){return o===_||kr(o,Va[d])&&!Wt.call(p,d)?u:o}function ds(o,u,d,p,m,C){return xe(o)&&xe(u)&&(C.set(u,o),cu(o,u,_,ds,C),C.delete(u)),o}function Op(o){return ca(o)?_:o}function ia(o,u,d,p,m,C){var D=1&d,I=o.length,B=u.length;if(I!=B&&!(D&&B>I))return!1;var re=C.get(o),ie=C.get(u);if(re&&ie)return re==u&&ie==o;var he=-1,be=!0,Fe=2&d?new mo:_;for(C.set(o,u),C.set(u,o);++he<I;){var je=o[he],gt=u[he];if(p)var Ue=D?p(gt,je,he,u,o,C):p(je,gt,he,o,u,C);if(Ue!==_){if(Ue)continue;be=!1;break}if(Fe){if(!Nc(u,function(Ct,Dt){if(!Qn(Fe,Dt)&&(je===Ct||m(je,Ct,d,p,C)))return Fe.push(Dt)})){be=!1;break}}else if(je!==gt&&!m(je,gt,d,p,C)){be=!1;break}}return C.delete(o),C.delete(u),be}function _i(o){return wd(zv(o,_,qp),o+"")}function sa(o){return za(o,Tn,Fp)}function Cu(o){return za(o,wr,Np)}var bd=Zn?function(o){return Zn.get(o)}:pl;function bu(o){for(var u=o.name+"",d=go[u],p=Wt.call(go,u)?d.length:0;p--;){var m=d[p],C=m.func;if(null==C||C==o)return m.name}return u}function vi(o){return(Wt.call(y,"placeholder")?y:o).placeholder}function Be(){var o=y.iteratee||fl;return o=o===fl?Qa:o,arguments.length?o(arguments[0],arguments[1]):o}function Eu(o,u){var d=o.__data__;return function Lp(o){var u=typeof o;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==o:null===o}(u)?d["string"==typeof u?"string":"hash"]:d.map}function xp(o){for(var u=Tn(o),d=u.length;d--;){var p=u[d],m=o[p];u[d]=[p,m,Bp(m)]}return u}function Vs(o,u){var d=function uo(k,Y){return null==k?_:k[Y]}(o,u);return Zo(d)?d:_}var Fp=zc?function(o){return null==o?[]:(o=tn(o),xi(zc(o),function(u){return np.call(o,u)}))}:ga,Np=zc?function(o){for(var u=[];o;)Qr(u,Fp(o)),o=Un(o);return u}:ga,Xn=Yn;function Du(o,u,d){for(var p=-1,m=(u=us(u,o)).length,C=!1;++p<m;){var D=Fr(u[p]);if(!(C=null!=o&&d(o,D)))break;o=o[D]}return C||++p!=m?C:!!(m=null==o?0:o.length)&&Xe(m)&&yi(D,m)&&(ut(o)||$s(o))}function kp(o){return"function"!=typeof o.constructor||el(o)?{}:Go(Un(o))}function Su(o){return ut(o)||$s(o)||!!(Kc&&o&&o[Kc])}function yi(o,u){var d=typeof o;return!!(u=null==u?K:u)&&("number"==d||"symbol"!=d&&J_.test(o))&&o>-1&&o%1==0&&o<u}function Jn(o,u,d){if(!xe(d))return!1;var p=typeof u;return!!("number"==p?Er(d)&&yi(u,d.length):"string"==p&&u in d)&&kr(d[u],o)}function Au(o,u){if(ut(o))return!1;var d=typeof o;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=o&&!tr(o))||q_.test(o)||!z_.test(o)||null!=u&&o in tn(u)}function Tu(o){var u=bu(o),d=y[u];if("function"!=typeof d||!(u in bt.prototype))return!1;if(o===d)return!0;var p=bd(d);return!!p&&o===p[0]}(ip&&Xn(new ip(new ArrayBuffer(1)))!=ko||Is&&Xn(new Is)!=Qe||vr&&Xn(vr.resolve())!=Tt||Ko&&Xn(new Ko)!=ar||po&&Xn(new po)!=ci)&&(Xn=function(o){var u=Yn(o),d=u==Ir?o.constructor:_,p=d?js(d):"";if(p)switch(p){case Qc:return ko;case Ev:return Qe;case Ps:return Tt;case sp:return ar;case Zc:return ci}return u});var Kv=Vc?fs:bh;function el(o){var u=o&&o.constructor;return o===("function"==typeof u&&u.prototype||Va)}function Bp(o){return o==o&&!xe(o)}function Vp(o,u){return function(d){return null!=d&&d[o]===u&&(u!==_||o in tn(d))}}function zv(o,u,d){return u=Fn(u===_?o.length-1:u,0),function(){for(var p=arguments,m=-1,C=Fn(p.length-u,0),D=z(C);++m<C;)D[m]=p[u+m];m=-1;for(var I=z(u+1);++m<u;)I[m]=p[m];return I[u]=d(D),qr(o,this,I)}}function qv(o,u){return u.length<2?o:qo(o,ei(u,0,-1))}function WE(o,u){for(var d=o.length,p=yt(u.length,d),m=br(o);p--;){var C=u[p];o[p]=yi(C,d)?m[C]:_}return o}function Hp(o,u){if(("constructor"!==u||"function"!=typeof o[u])&&"__proto__"!=u)return o[u]}var Ed=Up(Ov),nl=Gc||function(o,u){return On.setTimeout(o,u)},wd=Up(Rv);function jp(o,u,d){var p=u+"";return wd(o,function UE(o,u){var d=u.length;if(!d)return o;var p=d-1;return u[p]=(d>1?"& ":"")+u[p],u=u.join(d>2?", ":" "),o.replace(In,"{\n/* [wrapped with "+u+"] */\n")}(p,function Ki(o,u){return Hn(wt,function(d){var p="_."+d[0];u&d[1]&&!Bo(o,p)&&o.push(p)}),o.sort()}(function wu(o){var u=o.match(Pa);return u?u[1].split(is):[]}(p),d)))}function Up(o){var u=0,d=0;return function(){var p=rp(),m=16-(p-d);if(d=p,m>0){if(++u>=800)return arguments[0]}else u=0;return o.apply(_,arguments)}}function Dd(o,u){var d=-1,p=o.length,m=p-1;for(u=u===_?p:u;++d<u;){var C=yo(d,m),D=o[C];o[C]=o[d],o[d]=D}return o.length=u,o}var $p=function Hs(o){var u=Ou(o,function(p){return 500===d.size&&d.clear(),p}),d=u.cache;return u}(function(o){var u=[];return 46===o.charCodeAt(0)&&u.push(""),o.replace(Rf,function(d,p,m,C){u.push(m?C.replace(xf,"$1"):p||d)}),u});function Fr(o){if("string"==typeof o||tr(o))return o;var u=o+"";return"0"==u&&1/o==-O?"-0":u}function js(o){if(null!=o){try{return Hc.call(o)}catch(u){}try{return o+""}catch(u){}}return""}function aa(o){if(o instanceof bt)return o.clone();var u=new Yr(o.__wrapped__,o.__chain__);return u.__actions__=br(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}var KE=ot(function(o,u){return _n(o)?xs(o,$n(u,1,_n,!0)):[]}),GE=ot(function(o,u){var d=Ln(u);return _n(d)&&(d=_),_n(o)?xs(o,$n(u,1,_n,!0),Be(d,2)):[]}),zE=ot(function(o,u){var d=Ln(u);return _n(d)&&(d=_),_n(o)?xs(o,$n(u,1,_n,!0),_,d):[]});function Md(o,u,d){var p=null==o?0:o.length;if(!p)return-1;var m=null==d?0:ht(d);return m<0&&(m=Fn(p+m,0)),Gl(o,Be(u,3),m)}function zp(o,u,d){var p=null==o?0:o.length;if(!p)return-1;var m=p-1;return d!==_&&(m=ht(d),m=d<0?Fn(p+m,0):yt(m,p-1)),Gl(o,Be(u,3),m,!0)}function qp(o){return null!=o&&o.length?$n(o,1):[]}function rl(o){return o&&o.length?o[0]:_}var Xv=ot(function(o){var u=Rt(o,yr);return u.length&&u[0]===o[0]?Fs(u):[]}),Sn=ot(function(o){var u=Ln(o),d=Rt(o,yr);return u===Ln(d)?u=_:d.pop(),d.length&&d[0]===o[0]?Fs(d,Be(u,2)):[]}),Zp=ot(function(o){var u=Ln(o),d=Rt(o,yr);return(u="function"==typeof u?u:_)&&d.pop(),d.length&&d[0]===o[0]?Fs(d,_,u):[]});function Ln(o){var u=null==o?0:o.length;return u?o[u-1]:_}var ty=ot(Xp);function Xp(o,u){return o&&o.length&&u&&u.length?kn(o,u):o}var ZE=_i(function(o,u){var d=null==o?0:o.length,p=ru(o,u);return hu(o,Rt(u,function(m){return yi(m,d)?+m:m}).sort(pu)),p});function Eo(o){return null==o?o:bv.call(o)}var ly=ot(function(o){return ni($n(o,1,_n,!0))}),uy=ot(function(o){var u=Ln(o);return _n(u)&&(u=_),ni($n(o,1,_n,!0),Be(u,2))}),Rd=ot(function(o){var u=Ln(o);return u="function"==typeof u?u:_,ni($n(o,1,_n,!0),_,u)});function Fd(o){if(!o||!o.length)return[];var u=0;return o=xi(o,function(d){if(_n(d))return u=Fn(d.length,u),!0}),ao(u,function(d){return Rt(o,Fi(d))})}function ig(o,u){if(!o||!o.length)return[];var d=Fd(o);return null==u?d:Rt(d,function(p){return qr(u,_,p)})}var sl=ot(function(o,u){return _n(o)?xs(o,u):[]}),hy=ot(function(o){return wp(xi(o,_n))}),fy=ot(function(o){var u=Ln(o);return _n(u)&&(u=_),wp(xi(o,_n),Be(u,2))}),py=ot(function(o){var u=Ln(o);return u="function"==typeof u?u:_,wp(xi(o,_n),_,u)}),gy=ot(Fd),_y=ot(function(o){var u=o.length,d=u>1?o[u-1]:_;return d="function"==typeof d?(o.pop(),d):_,ig(o,d)});function og(o){var u=y(o);return u.__chain__=!0,u}function Mu(o,u){return u(o)}var yy=_i(function(o){var u=o.length,d=u?o[0]:0,p=this.__wrapped__,m=function(C){return ru(C,o)};return!(u>1||this.__actions__.length)&&p instanceof bt&&yi(d)?((p=p.slice(d,+d+(u?1:0))).__actions__.push({func:Mu,args:[m],thisArg:_}),new Yr(p,this.__chain__).thru(function(C){return u&&!C.length&&C.push(_),C})):this.thru(m)}),ag=gu(function(o,u,d){Wt.call(o,d)?++o[d]:ls(o,d,1)}),Nd=Tp(Md),kd=Tp(zp);function Ld(o,u){return(ut(o)?Hn:Hi)(o,Be(u,3))}function Bd(o,u){return(ut(o)?qt:sd)(o,Be(u,3))}var Vd=gu(function(o,u,d){Wt.call(o,d)?o[d].push(u):ls(o,d,[u])}),ug=ot(function(o,u,d){var p=-1,m="function"==typeof u,C=Er(o)?z(o.length):[];return Hi(o,function(D){C[++p]=m?qr(u,D,d):Ui(D,u,d)}),C}),tw=gu(function(o,u,d){ls(o,d,u)});function hs(o,u){return(ut(o)?Rt:hd)(o,Be(u,3))}var cg=gu(function(o,u,d){o[d?0:1].push(u)},function(){return[[],[]]}),dg=ot(function(o,u){if(null==o)return[];var d=u.length;return d>1&&Jn(o,u[0],u[1])?u=[]:d>2&&Jn(u[0],u[1],u[2])&&(u=[u[0]]),vp(o,$n(u,1),[])}),ua=Zr||function(){return On.Date.now()};function Iu(o,u,d){return u=d?_:u,cs(o,128,_,_,_,_,u=o&&null==u?o.length:u)}function fg(o,u){var d;if("function"!=typeof u)throw new gi(U);return o=ht(o),function(){return--o>0&&(d=u.apply(this,arguments)),o<=1&&(u=_),d}}var $d=ot(function(o,u,d){var p=1;if(d.length){var m=xr(d,vi($d));p|=32}return cs(o,p,u,d,m)}),Wd=ot(function(o,u,d){var p=3;if(d.length){var m=xr(d,vi(Wd));p|=32}return cs(u,p,o,d,m)});function Gd(o,u,d){var p,m,C,D,I,B,re=0,ie=!1,he=!1,be=!0;if("function"!=typeof o)throw new gi(U);function Fe(vn){var oi=p,qi=m;return p=m=_,re=vn,D=o.apply(qi,oi)}function je(vn){return re=vn,I=nl(Ct,u),ie?Fe(vn):D}function Ue(vn){var oi=vn-B;return B===_||oi>=u||oi<0||he&&vn-re>=C}function Ct(){var vn=ua();if(Ue(vn))return Dt(vn);I=nl(Ct,function gt(vn){var CC=u-(vn-B);return he?yt(CC,C-(vn-re)):CC}(vn))}function Dt(vn){return I=_,be&&p?Fe(vn):(p=m=_,D)}function pr(){var vn=ua(),oi=Ue(vn);if(p=arguments,m=this,B=vn,oi){if(I===_)return je(B);if(he)return _d(I),I=nl(Ct,u),Fe(B)}return I===_&&(I=nl(Ct,u)),D}return u=Ei(u)||0,xe(d)&&(ie=!!d.leading,C=(he="maxWait"in d)?Fn(Ei(d.maxWait)||0,u):C,be="trailing"in d?!!d.trailing:be),pr.cancel=function si(){I!==_&&_d(I),re=0,p=B=m=I=_},pr.flush=function Dr(){return I===_?D:Dt(ua())},pr}var pg=ot(function(o,u){return Ka(o,1,u)}),Oy=ot(function(o,u,d){return Ka(o,Ei(u)||0,d)});function Ou(o,u){if("function"!=typeof o||null!=u&&"function"!=typeof u)throw new gi(U);var d=function(){var p=arguments,m=u?u.apply(this,p):p[0],C=d.cache;if(C.has(m))return C.get(m);var D=o.apply(this,p);return d.cache=C.set(m,D)||C,D};return d.cache=new(Ou.Cache||Vi),d}function al(o){if("function"!=typeof o)throw new gi(U);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}Ou.Cache=Vi;var mg=fu(function(o,u){var d=(u=1==u.length&&ut(u[0])?Rt(u[0],$t(Be())):Rt($n(u,1),$t(Be()))).length;return ot(function(p){for(var m=-1,C=yt(p.length,d);++m<C;)p[m]=u[m].call(this,p[m]);return qr(o,this,p)})}),ll=ot(function(o,u){var d=xr(u,vi(ll));return cs(o,32,_,u,d)}),zd=ot(function(o,u){var d=xr(u,vi(zd));return cs(o,64,_,u,d)}),Ru=_i(function(o,u){return cs(o,256,_,_,_,u)});function kr(o,u){return o===u||o!=o&&u!=u}var bg=Xa(qa),nw=Xa(function(o,u){return o>=u}),$s=ou(function(){return arguments}())?ou:function(o){return cn(o)&&Wt.call(o,"callee")&&!np.call(o,"callee")},ut=z.isArray,Eg=zr?$t(zr):function au(o){return cn(o)&&Yn(o)==kl};function Er(o){return null!=o&&Xe(o.length)&&!fs(o)}function _n(o){return cn(o)&&Er(o)}var Ws=vv||bh,wg=zf?$t(zf):function LE(o){return cn(o)&&Yn(o)==rt};function Fu(o){if(!cn(o))return!1;var u=Yn(o);return u==Jt||"[object DOMException]"==u||"string"==typeof o.message&&"string"==typeof o.name&&!ca(o)}function fs(o){if(!xe(o))return!1;var u=Yn(o);return u==Mr||u==ft||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Dg(o){return"number"==typeof o&&o==ht(o)}function Xe(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=K}function xe(o){var u=typeof o;return null!=o&&("object"==u||"function"==u)}function cn(o){return null!=o&&"object"==typeof o}var Zd=qf?$t(qf):function Pv(o){return cn(o)&&Xn(o)==Qe};function ku(o){return"number"==typeof o||cn(o)&&Yn(o)==or}function ca(o){if(!cn(o)||Yn(o)!=Ir)return!1;var u=Un(o);if(null===u)return!0;var d=Wt.call(u,"constructor")&&u.constructor;return"function"==typeof d&&d instanceof d&&Hc.call(d)==ep}var cl=Qf?$t(Qf):function ud(o){return cn(o)&&Yn(o)==Pr},Xd=fv?$t(fv):function cd(o){return cn(o)&&Xn(o)==ar};function Jd(o){return"string"==typeof o||!ut(o)&&cn(o)&&Yn(o)==Nl}function tr(o){return"symbol"==typeof o||cn(o)&&Yn(o)==Ec}var gs=jt?$t(jt):function lu(o){return cn(o)&&Xe(o.length)&&!!rn[Yn(o)]},iw=Xa(uu),jy=Xa(function(o,u){return o<=u});function Ag(o){if(!o)return[];if(Er(o))return Jd(o)?gn(o):br(o);if(Uo&&o[Uo])return function Vo(k){for(var Y,z=[];!(Y=k.next()).done;)z.push(Y.value);return z}(o[Uo]());var u=Xn(o);return(u==Qe?lt:u==ar?Ho:_s)(o)}function ms(o){return o?(o=Ei(o))===O||o===-O?17976931348623157e292*(o<0?-1:1):o==o?o:0:0===o?o:0}function ht(o){var u=ms(o),d=u%1;return u==u?d?u-d:u:0}function rh(o){return o?_o(ht(o),0,G):0}function Ei(o){if("number"==typeof o)return o;if(tr(o))return NaN;if(xe(o)){var u="function"==typeof o.valueOf?o.valueOf():o;o=xe(u)?u+"":u}if("string"!=typeof o)return 0===o?o:+o;o=Ms(o);var d=X_.test(o);return d||Nf.test(o)?xc(o.slice(2),d?2:8):Oa.test(o)?NaN:+o}function Tg(o){return Wi(o,wr(o))}function Nt(o){return null==o?"":ti(o)}var Mg=Co(function(o,u){if(el(u)||Er(u))Wi(u,Tn(u),o);else for(var d in u)Wt.call(u,d)&&Ua(o,d,u[d])}),Ig=Co(function(o,u){Wi(u,wr(u),o)}),da=Co(function(o,u,d,p){Wi(u,wr(u),o,p)}),ow=Co(function(o,u,d,p){Wi(u,Tn(u),o,p)}),aw=_i(ru),uw=ot(function(o,u){o=tn(o);var d=-1,p=u.length,m=p>2?u[2]:_;for(m&&Jn(u[0],u[1],m)&&(p=1);++d<p;)for(var C=u[d],D=wr(C),I=-1,B=D.length;++I<B;){var re=D[I],ie=o[re];(ie===_||kr(ie,Va[re])&&!Wt.call(o,re))&&(o[re]=C[re])}return o}),cw=ot(function(o){return o.push(_,ds),qr(Og,_,o)});function Lu(o,u,d){var p=null==o?_:qo(o,u);return p===_?d:p}function Bu(o,u){return null!=o&&Du(o,u,fp)}var oh=Ip(function(o,u,d){null!=u&&"function"!=typeof u.toString&&(u=jc.call(u)),o[u]=d},gh(Wn)),$y=Ip(function(o,u,d){null!=u&&"function"!=typeof u.toString&&(u=jc.call(u)),Wt.call(o,u)?o[u].push(d):o[u]=[d]},Be),Gs=ot(Ui);function Tn(o){return Er(o)?nd(o):dd(o)}function wr(o){return Er(o)?nd(o,!0):function mp(o){if(!xe(o))return function Gv(o){var u=[];if(null!=o)for(var d in tn(o))u.push(d);return u}(o);var u=el(o),d=[];for(var p in o)"constructor"==p&&(u||!Wt.call(o,p))||d.push(p);return d}(o)}var Pg=Co(function(o,u,d){cu(o,u,d)}),Og=Co(function(o,u,d,p){cu(o,u,d,p)}),Ky=_i(function(o,u){var d={};if(null==o)return d;var p=!1;u=Rt(u,function(C){return C=us(C,o),p||(p=C.length>1),C}),Wi(o,Cu(o),d),p&&(d=Jr(d,7,Op));for(var m=u.length;m--;)Ep(d,u[m]);return d}),ha=_i(function(o,u){return null==o?{}:function yp(o,u){return pd(o,u,function(d,p){return Bu(o,p)})}(o,u)});function Vu(o,u){if(null==o)return{};var d=Rt(Cu(o),function(p){return[p]});return u=Be(u),pd(o,d,function(p,m){return u(p,m[0])})}var Rg=Pp(Tn),lh=Pp(wr);function _s(o){return null==o?[]:kc(o,Tn(o))}var Lg=ks(function(o,u,d){return u=u.toLowerCase(),o+(d?Bg(u):u)});function Bg(o){return ph(Nt(o).toLowerCase())}function dh(o){return(o=Nt(o))&&o.replace(ev,Rr).replace(PE,"")}var Qy=ks(function(o,u,d){return o+(d?"-":"")+u.toLowerCase()}),Zy=ks(function(o,u,d){return o+(d?" ":"")+u.toLowerCase()}),_w=ra("toLowerCase"),Xy=ks(function(o,u,d){return o+(d?"_":"")+u.toLowerCase()}),eC=ks(function(o,u,d){return o+(d?" ":"")+ph(u)}),fh=ks(function(o,u,d){return o+(d?" ":"")+u.toUpperCase()}),ph=ra("toUpperCase");function Kg(o,u,d){return o=Nt(o),(u=d?_:u)===_?function ka(k){return Oc.test(k)}(o)?function pi(k){return k.match(OE)||[]}(o):function Xf(k){return k.match(wE)||[]}(o):o.match(u)||[]}var sC=ot(function(o,u){try{return qr(o,_,u)}catch(d){return Fu(d)?d:new st(d)}}),Gg=_i(function(o,u){return Hn(u,function(d){d=Fr(d),ls(o,d,$d(o[d],o))}),o});function gh(o){return function(){return o}}var lC=Mp(),uC=Mp(!0);function Wn(o){return o}function fl(o){return Qa("function"==typeof o?o:Jr(o,1))}var vh=ot(function(o,u){return function(d){return Ui(d,o,u)}}),zg=ot(function(o,u){return function(d){return Ui(o,d,u)}});function yh(o,u,d){var p=Tn(u),m=ad(u,p);null==d&&(!xe(u)||!m.length&&p.length)&&(d=u,u=o,o=this,m=ad(u,Tn(u)));var C=!(xe(d)&&"chain"in d&&!d.chain),D=fs(o);return Hn(m,function(I){var B=u[I];o[I]=B,D&&(o.prototype[I]=function(){var re=this.__chain__;if(C||re){var ie=o(this.__wrapped__),he=ie.__actions__=br(this.__actions__);return he.push({func:B,args:arguments,thisArg:o}),ie.__chain__=re,ie}return B.apply(o,Qr([this.value()],arguments))})}),o}function pl(){}var hC=_u(Rt),qg=_u(Fa),Qg=_u(Nc);function Ch(o){return Au(o)?Fi(Fr(o)):function Xo(o){return function(u){return qo(u,o)}}(o)}var Yg=Cd(),vs=Cd(!0);function ga(){return[]}function bh(){return!1}var pC=Bs(function(o,u){return o+u},0),Dh=bo("ceil"),Jg=Bs(function(o,u){return o/u},1),em=bo("floor"),ma=Bs(function(o,u){return o*u},1),rm=bo("round"),vC=Bs(function(o,u){return o-u},0);return y.after=function hg(o,u){if("function"!=typeof u)throw new gi(U);return o=ht(o),function(){if(--o<1)return u.apply(this,arguments)}},y.ary=Iu,y.assign=Mg,y.assignIn=Ig,y.assignInWith=da,y.assignWith=ow,y.at=aw,y.before=fg,y.bind=$d,y.bindAll=Gg,y.bindKey=Wd,y.castArray=function ul(){if(!arguments.length)return[];var o=arguments[0];return ut(o)?o:[o]},y.chain=og,y.chunk=function Wp(o,u,d){u=(d?Jn(o,u,d):u===_)?1:Fn(ht(u),0);var p=null==o?0:o.length;if(!p||u<1)return[];for(var m=0,C=0,D=z(Zl(p/u));m<p;)D[C++]=ei(o,m,m+=u);return D},y.compact=function Kp(o){for(var u=-1,d=null==o?0:o.length,p=0,m=[];++u<d;){var C=o[u];C&&(m[p++]=C)}return m},y.concat=function Gp(){var o=arguments.length;if(!o)return[];for(var u=z(o-1),d=arguments[0],p=o;p--;)u[p-1]=arguments[p];return Qr(ut(d)?br(d):[d],$n(u,1))},y.cond=function oC(o){var u=null==o?0:o.length,d=Be();return o=u?Rt(o,function(p){if("function"!=typeof p[1])throw new gi(U);return[d(p[0]),p[1]]}):[],ot(function(p){for(var m=-1;++m<u;){var C=o[m];if(qr(C[0],this,p))return qr(C[1],this,p)}})},y.conforms=function aC(o){return function Tv(o){var u=Tn(o);return function(d){return Wa(d,o,u)}}(Jr(o,1))},y.constant=gh,y.countBy=ag,y.create=function lw(o,u){var d=Go(o);return null==u?d:un(d,u)},y.curry=function Kd(o,u,d){var p=cs(o,8,_,_,_,_,_,u=d?_:u);return p.placeholder=Kd.placeholder,p},y.curryRight=function Us(o,u,d){var p=cs(o,16,_,_,_,_,_,u=d?_:u);return p.placeholder=Us.placeholder,p},y.debounce=Gd,y.defaults=uw,y.defaultsDeep=cw,y.defer=pg,y.delay=Oy,y.difference=KE,y.differenceBy=GE,y.differenceWith=zE,y.drop=function Sd(o,u,d){var p=null==o?0:o.length;return p?ei(o,(u=d||u===_?1:ht(u))<0?0:u,p):[]},y.dropRight=function Ad(o,u,d){var p=null==o?0:o.length;return p?ei(o,0,(u=p-(u=d||u===_?1:ht(u)))<0?0:u):[]},y.dropRightWhile=function Td(o,u){return o&&o.length?ea(o,Be(u,3),!0,!0):[]},y.dropWhile=function qE(o,u){return o&&o.length?ea(o,Be(u,3),!0):[]},y.fill=function QE(o,u,d,p){var m=null==o?0:o.length;return m?(d&&"number"!=typeof d&&Jn(o,u,d)&&(d=0,p=m),function Ga(o,u,d,p){var m=o.length;for((d=ht(d))<0&&(d=-d>m?0:m+d),(p=p===_||p>m?m:ht(p))<0&&(p+=m),p=d>p?0:rh(p);d<p;)o[d++]=u;return o}(o,u,d,p)):[]},y.filter=function Nr(o,u){return(ut(o)?xi:hp)(o,Be(u,3))},y.flatMap=function wy(o,u){return $n(hs(o,u),1)},y.flatMapDeep=function lg(o,u){return $n(hs(o,u),O)},y.flatMapDepth=function ol(o,u,d){return d=d===_?1:ht(d),$n(hs(o,u),d)},y.flatten=qp,y.flattenDeep=function Qv(o){return null!=o&&o.length?$n(o,O):[]},y.flattenDepth=function Zv(o,u){return null!=o&&o.length?$n(o,u=u===_?1:ht(u)):[]},y.flip=function Pu(o){return cs(o,512)},y.flow=lC,y.flowRight=uC,y.fromPairs=function Qp(o){for(var u=-1,d=null==o?0:o.length,p={};++u<d;){var m=o[u];p[m[0]]=m[1]}return p},y.functions=function ih(o){return null==o?[]:ad(o,Tn(o))},y.functionsIn=function Uy(o){return null==o?[]:ad(o,wr(o))},y.groupBy=Vd,y.initial=function Id(o){return null!=o&&o.length?ei(o,0,-1):[]},y.intersection=Xv,y.intersectionBy=Sn,y.intersectionWith=Zp,y.invert=oh,y.invertBy=$y,y.invokeMap=ug,y.iteratee=fl,y.keyBy=tw,y.keys=Tn,y.keysIn=wr,y.map=hs,y.mapKeys=function ah(o,u){var d={};return u=Be(u,3),ji(o,function(p,m,C){ls(d,u(p,m,C),p)}),d},y.mapValues=function Wy(o,u){var d={};return u=Be(u,3),ji(o,function(p,m,C){ls(d,m,u(p,m,C))}),d},y.matches=function cC(o){return fd(Jr(o,1))},y.matchesProperty=function _h(o,u){return _p(o,Jr(u,1))},y.memoize=Ou,y.merge=Pg,y.mergeWith=Og,y.method=vh,y.methodOf=zg,y.mixin=yh,y.negate=al,y.nthArg=function Cw(o){return o=ht(o),ot(function(u){return Yo(u,o)})},y.omit=Ky,y.omitBy=function dl(o,u){return Vu(o,al(Be(u)))},y.once=function gg(o){return fg(2,o)},y.orderBy=function jd(o,u,d,p){return null==o?[]:(ut(u)||(u=null==u?[]:[u]),ut(d=p?_:d)||(d=null==d?[]:[d]),vp(o,u,d))},y.over=hC,y.overArgs=mg,y.overEvery=qg,y.overSome=Qg,y.partial=ll,y.partialRight=zd,y.partition=cg,y.pick=ha,y.pickBy=Vu,y.property=Ch,y.propertyOf=function Zg(o){return function(u){return null==o?_:qo(o,u)}},y.pull=ty,y.pullAll=Xp,y.pullAllBy=function ny(o,u,d){return o&&o.length&&u&&u.length?kn(o,u,Be(d,2)):o},y.pullAllWith=function ry(o,u,d){return o&&o.length&&u&&u.length?kn(o,u,_,d):o},y.pullAt=ZE,y.range=Yg,y.rangeRight=vs,y.rearg=Ru,y.reject=function Sy(o,u){return(ut(o)?xi:hp)(o,al(Be(u,3)))},y.remove=function YE(o,u){var d=[];if(!o||!o.length)return d;var p=-1,m=[],C=o.length;for(u=Be(u,3);++p<C;){var D=o[p];u(D,p,o)&&(d.push(D),m.push(p))}return hu(o,m),d},y.rest=function xu(o,u){if("function"!=typeof o)throw new gi(U);return ot(o,u=u===_?u:ht(u))},y.reverse=Eo,y.sampleSize=function Ty(o,u,d){return u=(d?Jn(o,u,d):u===_)?1:ht(u),(ut(o)?dp:gd)(o,u)},y.set=function hl(o,u,d){return null==o?o:$i(o,u,d)},y.setWith=function pa(o,u,d,p){return p="function"==typeof p?p:_,null==o?o:$i(o,u,d,p)},y.shuffle=function My(o){return(ut(o)?nu:Ve)(o)},y.slice=function fr(o,u,d){var p=null==o?0:o.length;return p?(d&&"number"!=typeof d&&Jn(o,u,d)?(u=0,d=p):(u=null==u?0:ht(u),d=d===_?p:ht(d)),ei(o,u,d)):[]},y.sortBy=dg,y.sortedUniq=function iy(o){return o&&o.length?xv(o):[]},y.sortedUniqBy=function sy(o,u){return o&&o.length?xv(o,Be(u,2)):[]},y.split=function Jy(o,u,d){return d&&"number"!=typeof d&&Jn(o,u,d)&&(u=d=_),(d=d===_?G:d>>>0)?(o=Nt(o))&&("string"==typeof u||null!=u&&!cl(u))&&!(u=ti(u))&&en(o)?ii(gn(o),0,d):o.split(u,d):[]},y.spread=function _g(o,u){if("function"!=typeof o)throw new gi(U);return u=null==u?0:Fn(ht(u),0),ot(function(d){var p=d[u],m=ii(d,0,u);return p&&Qr(m,p),qr(o,this,m)})},y.tail=function tg(o){var u=null==o?0:o.length;return u?ei(o,1,u):[]},y.take=function oy(o,u,d){return o&&o.length?ei(o,0,(u=d||u===_?1:ht(u))<0?0:u):[]},y.takeRight=function ng(o,u,d){var p=null==o?0:o.length;return p?ei(o,(u=p-(u=d||u===_?1:ht(u)))<0?0:u,p):[]},y.takeRightWhile=function ay(o,u){return o&&o.length?ea(o,Be(u,3),!1,!0):[]},y.takeWhile=function rg(o,u){return o&&o.length?ea(o,Be(u,3)):[]},y.tap=function vy(o,u){return u(o),o},y.throttle=function qd(o,u,d){var p=!0,m=!0;if("function"!=typeof o)throw new gi(U);return xe(d)&&(p="leading"in d?!!d.leading:p,m="trailing"in d?!!d.trailing:m),Gd(o,u,{leading:p,maxWait:u,trailing:m})},y.thru=Mu,y.toArray=Ag,y.toPairs=Rg,y.toPairsIn=lh,y.toPath=function wh(o){return ut(o)?Rt(o,Fr):tr(o)?[o]:br($p(Nt(o)))},y.toPlainObject=Tg,y.transform=function xg(o,u,d){var p=ut(o),m=p||Ws(o)||gs(o);if(u=Be(u,4),null==d){var C=o&&o.constructor;d=m?p?new C:[]:xe(o)&&fs(C)?Go(Un(o)):{}}return(m?Hn:ji)(o,function(D,I,B){return u(d,D,I,B)}),d},y.unary=function vg(o){return Iu(o,1)},y.union=ly,y.unionBy=uy,y.unionWith=Rd,y.uniq=function cy(o){return o&&o.length?ni(o):[]},y.uniqBy=function dy(o,u){return o&&o.length?ni(o,Be(u,2)):[]},y.uniqWith=function xd(o,u){return u="function"==typeof u?u:_,o&&o.length?ni(o,_,u):[]},y.unset=function uh(o,u){return null==o||Ep(o,u)},y.unzip=Fd,y.unzipWith=ig,y.update=function ch(o,u,d){return null==o?o:Dn(o,u,ri(d))},y.updateWith=function Fg(o,u,d,p){return p="function"==typeof p?p:_,null==o?o:Dn(o,u,ri(d),p)},y.values=_s,y.valuesIn=function Gy(o){return null==o?[]:kc(o,wr(o))},y.without=sl,y.words=Kg,y.wrap=function Qd(o,u){return ll(ri(u),o)},y.xor=hy,y.xorBy=fy,y.xorWith=py,y.zip=gy,y.zipObject=function my(o,u){return Dp(o||[],u||[],Ua)},y.zipObjectDeep=function sg(o,u){return Dp(o||[],u||[],$i)},y.zipWith=_y,y.entries=Rg,y.entriesIn=lh,y.extend=Ig,y.extendWith=da,yh(y,y),y.add=pC,y.attempt=sC,y.camelCase=Lg,y.capitalize=Bg,y.ceil=Dh,y.clamp=function Ng(o,u,d){return d===_&&(d=u,u=_),d!==_&&(d=(d=Ei(d))==d?d:0),u!==_&&(u=(u=Ei(u))==u?u:0),_o(Ei(o),u,d)},y.clone=function Ry(o){return Jr(o,4)},y.cloneDeep=function xy(o){return Jr(o,5)},y.cloneDeepWith=function Fy(o,u){return Jr(o,5,u="function"==typeof u?u:_)},y.cloneWith=function yg(o,u){return Jr(o,4,u="function"==typeof u?u:_)},y.conformsTo=function Cg(o,u){return null==u||Wa(o,u,Tn(u))},y.deburr=dh,y.defaultTo=function mh(o,u){return null==o||o!=o?u:o},y.divide=Jg,y.endsWith=function zy(o,u,d){o=Nt(o),u=ti(u);var p=o.length,m=d=d===_?p:_o(ht(d),0,p);return(d-=u.length)>=0&&o.slice(d,m)==u},y.eq=kr,y.escape=function qy(o){return(o=Nt(o))&&Pf.test(o)?o.replace(Sc,lo):o},y.escapeRegExp=function Lr(o){return(o=Nt(o))&&Q_.test(o)?o.replace(Ac,"\\$&"):o},y.every=function ew(o,u,d){var p=ut(o)?Fa:Mv;return d&&Jn(o,u,d)&&(u=_),p(o,Be(u,3))},y.find=Nd,y.findIndex=Md,y.findKey=function dw(o,u){return cr(o,Be(u,3),ji)},y.findLast=kd,y.findLastIndex=zp,y.findLastKey=function hw(o,u){return cr(o,Be(u,3),od)},y.floor=em,y.forEach=Ld,y.forEachRight=Bd,y.forIn=function fw(o,u){return null==o?o:vo(o,Be(u,3),wr)},y.forInRight=function pw(o,u){return null==o?o:iu(o,Be(u,3),wr)},y.forOwn=function gw(o,u){return o&&ji(o,Be(u,3))},y.forOwnRight=function Ks(o,u){return o&&od(o,Be(u,3))},y.get=Lu,y.gt=bg,y.gte=nw,y.has=function sh(o,u){return null!=o&&Du(o,u,su)},y.hasIn=Bu,y.head=rl,y.identity=Wn,y.includes=function Hd(o,u,d,p){o=Er(o)?o:_s(o),d=d&&!p?ht(d):0;var m=o.length;return d<0&&(d=Fn(m+d,0)),Jd(o)?d<=m&&o.indexOf(u,d)>-1:!!m&&oo(o,u,d)>-1},y.indexOf=function Yv(o,u,d){var p=null==o?0:o.length;if(!p)return-1;var m=null==d?0:ht(d);return m<0&&(m=Fn(p+m,0)),oo(o,u,m)},y.inRange=function mw(o,u,d){return u=ms(u),d===_?(d=u,u=0):d=ms(d),function pp(o,u,d){return o>=yt(u,d)&&o<Fn(u,d)}(o=Ei(o),u,d)},y.invoke=Gs,y.isArguments=$s,y.isArray=ut,y.isArrayBuffer=Eg,y.isArrayLike=Er,y.isArrayLikeObject=_n,y.isBoolean=function Ci(o){return!0===o||!1===o||cn(o)&&Yn(o)==ve},y.isBuffer=Ws,y.isDate=wg,y.isElement=function Ny(o){return cn(o)&&1===o.nodeType&&!ca(o)},y.isEmpty=function ky(o){if(null==o)return!0;if(Er(o)&&(ut(o)||"string"==typeof o||"function"==typeof o.splice||Ws(o)||gs(o)||$s(o)))return!o.length;var u=Xn(o);if(u==Qe||u==ar)return!o.size;if(el(o))return!dd(o).length;for(var d in o)if(Wt.call(o,d))return!1;return!0},y.isEqual=function Ly(o,u){return Qo(o,u)},y.isEqualWith=function By(o,u,d){var p=(d="function"==typeof d?d:_)?d(o,u):_;return p===_?Qo(o,u,_,d):!!p},y.isError=Fu,y.isFinite=function Vy(o){return"number"==typeof o&&Yl(o)},y.isFunction=fs,y.isInteger=Dg,y.isLength=Xe,y.isMap=Zd,y.isMatch=function Nu(o,u){return o===u||ld(o,u,xp(u))},y.isMatchWith=function bi(o,u,d){return d="function"==typeof d?d:_,ld(o,u,xp(u),d)},y.isNaN=function Sg(o){return ku(o)&&o!=+o},y.isNative=function Hy(o){if(Kv(o))throw new st("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Zo(o)},y.isNil=function ps(o){return null==o},y.isNull=function Yd(o){return null===o},y.isNumber=ku,y.isObject=xe,y.isObjectLike=cn,y.isPlainObject=ca,y.isRegExp=cl,y.isSafeInteger=function rw(o){return Dg(o)&&o>=-K&&o<=K},y.isSet=Xd,y.isString=Jd,y.isSymbol=tr,y.isTypedArray=gs,y.isUndefined=function eh(o){return o===_},y.isWeakMap=function th(o){return cn(o)&&Xn(o)==ci},y.isWeakSet=function nh(o){return cn(o)&&"[object WeakSet]"==Yn(o)},y.join=function Jv(o,u){return null==o?"":yv.call(o,u)},y.kebabCase=Qy,y.last=Ln,y.lastIndexOf=function Yp(o,u,d){var p=null==o?0:o.length;if(!p)return-1;var m=p;return d!==_&&(m=(m=ht(d))<0?Fn(p+m,0):yt(m,p-1)),u==u?function Ba(k,Y,z){for(var Me=z+1;Me--;)if(k[Me]===Y)return Me;return Me}(o,u,m):Gl(o,dr,m,!0)},y.lowerCase=Zy,y.lowerFirst=_w,y.lt=iw,y.lte=jy,y.max=function tm(o){return o&&o.length?mi(o,Wn,qa):_},y.maxBy=function gC(o,u){return o&&o.length?mi(o,Be(u,2),qa):_},y.mean=function Sh(o){return jn(o,Wn)},y.meanBy=function mC(o,u){return jn(o,Be(u,2))},y.min=function _C(o){return o&&o.length?mi(o,Wn,uu):_},y.minBy=function nm(o,u){return o&&o.length?mi(o,Be(u,2),uu):_},y.stubArray=ga,y.stubFalse=bh,y.stubObject=function fC(){return{}},y.stubString=function bw(){return""},y.stubTrue=function Eh(){return!0},y.multiply=ma,y.nth=function ey(o,u){return o&&o.length?Yo(o,ht(u)):_},y.noConflict=function dC(){return On._===this&&(On._=Uc),this},y.noop=pl,y.now=ua,y.pad=function vw(o,u,d){o=Nt(o);var p=(u=ht(u))?fi(o):0;if(!u||p>=u)return o;var m=(u-p)/2;return vu(Wo(m),d)+o+vu(Zl(m),d)},y.padEnd=function Vg(o,u,d){o=Nt(o);var p=(u=ht(u))?fi(o):0;return u&&p<u?o+vu(u-p,d):o},y.padStart=function yw(o,u,d){o=Nt(o);var p=(u=ht(u))?fi(o):0;return u&&p<u?vu(u-p,d)+o:o},y.parseInt=function Yy(o,u,d){return d||null==u?u=0:u&&(u=+u),Cv(Nt(o).replace(di,""),u||0)},y.random=function kg(o,u,d){if(d&&"boolean"!=typeof d&&Jn(o,u,d)&&(u=d=_),d===_&&("boolean"==typeof u?(d=u,u=_):"boolean"==typeof o&&(d=o,o=_)),o===_&&u===_?(o=0,u=1):(o=ms(o),u===_?(u=o,o=0):u=ms(u)),o>u){var p=o;o=u,u=p}if(d||o%1||u%1){var m=mn();return yt(o+m*(u-o+nt("1e-"+((m+"").length-1))),u)}return yo(o,u)},y.reduce=function Dy(o,u,d){var p=ut(o)?Fc:Or,m=arguments.length<3;return p(o,Be(u,4),d,m,Hi)},y.reduceRight=function Ud(o,u,d){var p=ut(o)?Ts:Or,m=arguments.length<3;return p(o,Be(u,4),d,m,sd)},y.repeat=function hh(o,u,d){return u=(d?Jn(o,u,d):u===_)?1:ht(u),Ns(Nt(o),u)},y.replace=function Hg(){var o=arguments,u=Nt(o[0]);return o.length<3?u:u.replace(o[1],o[2])},y.result=function fa(o,u,d){var p=-1,m=(u=us(u,o)).length;for(m||(m=1,o=_);++p<m;){var C=null==o?_:o[Fr(u[p])];C===_&&(p=m,C=d),o=fs(C)?C.call(o):C}return o},y.round=rm,y.runInContext=k,y.sample=function Ay(o){return(ut(o)?rd:Cp)(o)},y.size=function Iy(o){if(null==o)return 0;if(Er(o))return Jd(o)?fi(o):o.length;var u=Xn(o);return u==Qe||u==ar?o.size:dd(o).length},y.snakeCase=Xy,y.some=function Py(o,u,d){var p=ut(o)?Nc:BE;return d&&Jn(o,u,d)&&(u=_),p(o,Be(u,3))},y.sortedIndex=function Pd(o,u){return md(o,u)},y.sortedIndexBy=function Jp(o,u,d){return bp(o,u,Be(d,2))},y.sortedIndexOf=function eg(o,u){var d=null==o?0:o.length;if(d){var p=md(o,u);if(p<d&&kr(o[p],u))return p}return-1},y.sortedLastIndex=function er(o,u){return md(o,u,!0)},y.sortedLastIndexBy=function il(o,u,d){return bp(o,u,Be(d,2),!0)},y.sortedLastIndexOf=function Od(o,u){if(null!=o&&o.length){var p=md(o,u,!0)-1;if(kr(o[p],u))return p}return-1},y.startCase=eC,y.startsWith=function jg(o,u,d){return o=Nt(o),d=null==d?0:_o(ht(d),0,o.length),u=ti(u),o.slice(d,d+u.length)==u},y.subtract=vC,y.sum=function yC(o){return o&&o.length?Na(o,Wn):0},y.sumBy=function _a(o,u){return o&&o.length?Na(o,Be(u,2)):0},y.template=function tC(o,u,d){var p=y.templateSettings;d&&Jn(o,u,d)&&(u=_),o=Nt(o),u=da({},u,p,Ja);var I,B,m=da({},u.imports,p.imports,Ja),C=Tn(m),D=kc(m,C),re=0,ie=u.interpolate||Hl,he="__p += '",be=Jf((u.escape||Hl).source+"|"+ie.source+"|"+(ie===Of?Tc:Hl).source+"|"+(u.evaluate||Hl).source+"|$","g"),Fe="//# sourceURL="+(Wt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cv+"]")+"\n";o.replace(be,function(Ue,Ct,Dt,si,Dr,pr){return Dt||(Dt=si),he+=o.slice(re,pr).replace(tv,Rn),Ct&&(I=!0,he+="' +\n__e("+Ct+") +\n'"),Dr&&(B=!0,he+="';\n"+Dr+";\n__p += '"),Dt&&(he+="' +\n((__t = ("+Dt+")) == null ? '' : __t) +\n'"),re=pr+Ue.length,Ue}),he+="';\n";var je=Wt.call(u,"variable")&&u.variable;if(je){if(Y_.test(je))throw new st("Invalid `variable` option passed into `_.template`")}else he="with (obj) {\n"+he+"\n}\n";he=(B?he.replace(Tf,""):he).replace(Mf,"$1").replace(K_,"$1;"),he="function("+(je||"obj")+") {\n"+(je?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(I?", __e = _.escape":"")+(B?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+he+"return __p\n}";var gt=sC(function(){return Ft(C,Fe+"return "+he).apply(_,D)});if(gt.source=he,Fu(gt))throw gt;return gt},y.times=function Xg(o,u){if((o=ht(o))<1||o>K)return[];var d=G,p=yt(o,G);u=Be(u),o-=G;for(var m=ao(p,u);++d<o;)u(d);return m},y.toFinite=ms,y.toInteger=ht,y.toLength=rh,y.toLower=function Ug(o){return Nt(o).toLowerCase()},y.toNumber=Ei,y.toSafeInteger=function sw(o){return o?_o(ht(o),-K,K):0===o?o:0},y.toString=Nt,y.toUpper=function nC(o){return Nt(o).toUpperCase()},y.trim=function rC(o,u,d){if((o=Nt(o))&&(d||u===_))return Ms(o);if(!o||!(u=ti(u)))return o;var p=gn(o),m=gn(u);return ii(p,Ee(p,m),pt(p,m)+1).join("")},y.trimEnd=function $g(o,u,d){if((o=Nt(o))&&(d||u===_))return o.slice(0,Qt(o)+1);if(!o||!(u=ti(u)))return o;var p=gn(o);return ii(p,0,pt(p,gn(u))+1).join("")},y.trimStart=function Wg(o,u,d){if((o=Nt(o))&&(d||u===_))return o.replace(di,"");if(!o||!(u=ti(u)))return o;var p=gn(o);return ii(p,Ee(p,gn(u))).join("")},y.truncate=function iC(o,u){var d=30,p="...";if(xe(u)){var m="separator"in u?u.separator:m;d="length"in u?ht(u.length):d,p="omission"in u?ti(u.omission):p}var C=(o=Nt(o)).length;if(en(o)){var D=gn(o);C=D.length}if(d>=C)return o;var I=d-fi(p);if(I<1)return p;var B=D?ii(D,0,I).join(""):o.slice(0,I);if(m===_)return B+p;if(D&&(I+=B.length-I),cl(m)){if(o.slice(I).search(m)){var re,ie=B;for(m.global||(m=Jf(m.source,Nt(Mc.exec(m))+"g")),m.lastIndex=0;re=m.exec(ie);)var he=re.index;B=B.slice(0,he===_?I:he)}}else if(o.indexOf(ti(m),I)!=I){var be=B.lastIndexOf(m);be>-1&&(B=B.slice(0,be))}return B+p},y.unescape=function zi(o){return(o=Nt(o))&&If.test(o)?o.replace(Dc,pv):o},y.uniqueId=function gl(o){var u=++NE;return Nt(o)+u},y.upperCase=fh,y.upperFirst=ph,y.each=Ld,y.eachRight=Bd,y.first=rl,yh(y,function(){var o={};return ji(y,function(u,d){Wt.call(y.prototype,d)||(o[d]=u)}),o}(),{chain:!1}),y.VERSION="4.17.21",Hn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){y[o].placeholder=y}),Hn(["drop","take"],function(o,u){bt.prototype[o]=function(d){d=d===_?1:Fn(ht(d),0);var p=this.__filtered__&&!u?new bt(this):this.clone();return p.__filtered__?p.__takeCount__=yt(d,p.__takeCount__):p.__views__.push({size:yt(d,G),type:o+(p.__dir__<0?"Right":"")}),p},bt.prototype[o+"Right"]=function(d){return this.reverse()[o](d).reverse()}}),Hn(["filter","map","takeWhile"],function(o,u){var d=u+1,p=1==d||3==d;bt.prototype[o]=function(m){var C=this.clone();return C.__iteratees__.push({iteratee:Be(m,3),type:d}),C.__filtered__=C.__filtered__||p,C}}),Hn(["head","last"],function(o,u){var d="take"+(u?"Right":"");bt.prototype[o]=function(){return this[d](1).value()[0]}}),Hn(["initial","tail"],function(o,u){var d="drop"+(u?"":"Right");bt.prototype[o]=function(){return this.__filtered__?new bt(this):this[d](1)}}),bt.prototype.compact=function(){return this.filter(Wn)},bt.prototype.find=function(o){return this.filter(o).head()},bt.prototype.findLast=function(o){return this.reverse().find(o)},bt.prototype.invokeMap=ot(function(o,u){return"function"==typeof o?new bt(this):this.map(function(d){return Ui(d,o,u)})}),bt.prototype.reject=function(o){return this.filter(al(Be(o)))},bt.prototype.slice=function(o,u){o=ht(o);var d=this;return d.__filtered__&&(o>0||u<0)?new bt(d):(o<0?d=d.takeRight(-o):o&&(d=d.drop(o)),u!==_&&(d=(u=ht(u))<0?d.dropRight(-u):d.take(u-o)),d)},bt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},bt.prototype.toArray=function(){return this.take(G)},ji(bt.prototype,function(o,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),p=/^(?:head|last)$/.test(u),m=y[p?"take"+("last"==u?"Right":""):u],C=p||/^find/.test(u);!m||(y.prototype[u]=function(){var D=this.__wrapped__,I=p?[1]:arguments,B=D instanceof bt,re=I[0],ie=B||ut(D),he=function(Ct){var Dt=m.apply(y,Qr([Ct],I));return p&&be?Dt[0]:Dt};ie&&d&&"function"==typeof re&&1!=re.length&&(B=ie=!1);var be=this.__chain__,Fe=!!this.__actions__.length,je=C&&!be,gt=B&&!Fe;if(!C&&ie){D=gt?D:new bt(this);var Ue=o.apply(D,I);return Ue.__actions__.push({func:Mu,args:[he],thisArg:_}),new Yr(Ue,be)}return je&&gt?o.apply(this,I):(Ue=this.thru(he),je?p?Ue.value()[0]:Ue.value():Ue)})}),Hn(["pop","push","shift","sort","splice","unshift"],function(o){var u=Bc[o],d=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",p=/^(?:pop|shift)$/.test(o);y.prototype[o]=function(){var m=arguments;if(p&&!this.__chain__){var C=this.value();return u.apply(ut(C)?C:[],m)}return this[d](function(D){return u.apply(ut(D)?D:[],m)})}}),ji(bt.prototype,function(o,u){var d=y[u];if(d){var p=d.name+"";Wt.call(go,p)||(go[p]=[]),go[p].push({name:u,func:d})}}),go[Ya(_,2).name]=[{name:"wrapper",func:_}],bt.prototype.clone=function ce(){var o=new bt(this.__wrapped__);return o.__actions__=br(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=br(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=br(this.__views__),o},bt.prototype.reverse=function Mt(){if(this.__filtered__){var o=new bt(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},bt.prototype.value=function an(){var o=this.__wrapped__.value(),u=this.__dir__,d=ut(o),p=u<0,m=d?o.length:0,C=function Uv(o,u,d){for(var p=-1,m=d.length;++p<m;){var C=d[p],D=C.size;switch(C.type){case"drop":o+=D;break;case"dropRight":u-=D;break;case"take":u=yt(u,o+D);break;case"takeRight":o=Fn(o,u-D)}}return{start:o,end:u}}(0,m,this.__views__),D=C.start,I=C.end,B=I-D,re=p?I:D-1,ie=this.__iteratees__,he=ie.length,be=0,Fe=yt(B,this.__takeCount__);if(!d||!p&&m==B&&Fe==B)return ta(o,this.__actions__);var je=[];e:for(;B--&&be<Fe;){for(var gt=-1,Ue=o[re+=u];++gt<he;){var Ct=ie[gt],si=Ct.type,Dr=(0,Ct.iteratee)(Ue);if(2==si)Ue=Dr;else if(!Dr){if(1==si)continue e;break e}}je[be++]=Ue}return je},y.prototype.at=yy,y.prototype.chain=function Cy(){return og(this)},y.prototype.commit=function by(){return new Yr(this.value(),this.__chain__)},y.prototype.next=function Ey(){this.__values__===_&&(this.__values__=Ag(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?_:this.__values__[this.__index__++]}},y.prototype.plant=function Gi(o){for(var u,d=this;d instanceof Ha;){var p=aa(d);p.__index__=0,p.__values__=_,u?m.__wrapped__=p:u=p;var m=p;d=d.__wrapped__}return m.__wrapped__=o,u},y.prototype.reverse=function XE(){var o=this.__wrapped__;if(o instanceof bt){var u=o;return this.__actions__.length&&(u=new bt(this)),(u=u.reverse()).__actions__.push({func:Mu,args:[Eo],thisArg:_}),new Yr(u,this.__chain__)}return this.thru(Eo)},y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=function JE(){return ta(this.__wrapped__,this.__actions__)},y.prototype.first=y.prototype.head,Uo&&(y.prototype[Uo]=function la(){return this}),y}();On._=co,(E=function(){return co}.call(q,R,q,we))!==_&&(we.exports=E)}.call(this)},478:(we,q,R)=>{we.exports=R(993)},582:(we,q,R)=>{"use strict";var E=R(104),_=R(288),M=R(169),P=R(304),N=R(459),U=R(160),V=R(810),ee=R(440);we.exports=function(S){return new Promise(function(oe,ge){var fe=S.data,ne=S.headers,pe=S.responseType;E.isFormData(fe)&&delete ne["Content-Type"];var le=new XMLHttpRequest;if(S.auth){var ye=S.auth.username||"",ue=S.auth.password?unescape(encodeURIComponent(S.auth.password)):"";ne.Authorization="Basic "+btoa(ye+":"+ue)}var Ie=N(S.baseURL,S.url);function Te(){if(le){var qe="getAllResponseHeaders"in le?U(le.getAllResponseHeaders()):null;_(oe,ge,{data:pe&&"text"!==pe&&"json"!==pe?le.response:le.responseText,status:le.status,statusText:le.statusText,headers:qe,config:S,request:le}),le=null}}if(le.open(S.method.toUpperCase(),P(Ie,S.params,S.paramsSerializer),!0),le.timeout=S.timeout,"onloadend"in le?le.onloadend=Te:le.onreadystatechange=function(){!le||4!==le.readyState||0===le.status&&(!le.responseURL||0!==le.responseURL.indexOf("file:"))||setTimeout(Te)},le.onabort=function(){!le||(ge(ee("Request aborted",S,"ECONNABORTED",le)),le=null)},le.onerror=function(){ge(ee("Network Error",S,null,le)),le=null},le.ontimeout=function(){var Pe="timeout of "+S.timeout+"ms exceeded";S.timeoutErrorMessage&&(Pe=S.timeoutErrorMessage),ge(ee(Pe,S,S.transitional&&S.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",le)),le=null},E.isStandardBrowserEnv()){var ke=(S.withCredentials||V(Ie))&&S.xsrfCookieName?M.read(S.xsrfCookieName):void 0;ke&&(ne[S.xsrfHeaderName]=ke)}"setRequestHeader"in le&&E.forEach(ne,function(Pe,X){void 0===fe&&"content-type"===X.toLowerCase()?delete ne[X]:le.setRequestHeader(X,Pe)}),E.isUndefined(S.withCredentials)||(le.withCredentials=!!S.withCredentials),pe&&"json"!==pe&&(le.responseType=S.responseType),"function"==typeof S.onDownloadProgress&&le.addEventListener("progress",S.onDownloadProgress),"function"==typeof S.onUploadProgress&&le.upload&&le.upload.addEventListener("progress",S.onUploadProgress),S.cancelToken&&S.cancelToken.promise.then(function(Pe){!le||(le.abort(),ge(Pe),le=null)}),fe||(fe=null),le.send(fe)})}},993:(we,q,R)=>{"use strict";var E=R(104),_=R(787),M=R(260),P=R(42);function U(ee){var W=new M(ee),S=_(M.prototype.request,W);return E.extend(S,M.prototype,W),E.extend(S,W),S}var V=U(R(800));V.Axios=M,V.create=function(W){return U(P(V.defaults,W))},V.Cancel=R(535),V.CancelToken=R(348),V.isCancel=R(396),V.all=function(W){return Promise.all(W)},V.spread=R(91),V.isAxiosError=R(915),we.exports=V,we.exports.default=V},535:we=>{"use strict";function q(R){this.message=R}q.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},q.prototype.__CANCEL__=!0,we.exports=q},348:(we,q,R)=>{"use strict";var E=R(535);function _(M){if("function"!=typeof M)throw new TypeError("executor must be a function.");var P;this.promise=new Promise(function(V){P=V});var N=this;M(function(V){N.reason||(N.reason=new E(V),P(N.reason))})}_.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},_.source=function(){var P;return{token:new _(function(V){P=V}),cancel:P}},we.exports=_},396:we=>{"use strict";we.exports=function(R){return!(!R||!R.__CANCEL__)}},260:(we,q,R)=>{"use strict";var E=R(104),_=R(304),M=R(307),P=R(303),N=R(42),U=R(190),V=U.validators;function ee(W){this.defaults=W,this.interceptors={request:new M,response:new M}}ee.prototype.request=function(S){"string"==typeof S?(S=arguments[1]||{}).url=arguments[0]:S=S||{},(S=N(this.defaults,S)).method=S.method?S.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var te=S.transitional;void 0!==te&&U.assertOptions(te,{silentJSONParsing:V.transitional(V.boolean,"1.0.0"),forcedJSONParsing:V.transitional(V.boolean,"1.0.0"),clarifyTimeoutError:V.transitional(V.boolean,"1.0.0")},!1);var oe=[],ge=!0;this.interceptors.request.forEach(function(Te){"function"==typeof Te.runWhen&&!1===Te.runWhen(S)||(ge=ge&&Te.synchronous,oe.unshift(Te.fulfilled,Te.rejected))});var ne,fe=[];if(this.interceptors.response.forEach(function(Te){fe.push(Te.fulfilled,Te.rejected)}),!ge){var pe=[P,void 0];for(Array.prototype.unshift.apply(pe,oe),pe=pe.concat(fe),ne=Promise.resolve(S);pe.length;)ne=ne.then(pe.shift(),pe.shift());return ne}for(var le=S;oe.length;){var ye=oe.shift(),ue=oe.shift();try{le=ye(le)}catch(Ie){ue(Ie);break}}try{ne=P(le)}catch(Ie){return Promise.reject(Ie)}for(;fe.length;)ne=ne.then(fe.shift(),fe.shift());return ne},ee.prototype.getUri=function(S){return S=N(this.defaults,S),_(S.url,S.params,S.paramsSerializer).replace(/^\?/,"")},E.forEach(["delete","get","head","options"],function(S){ee.prototype[S]=function(te,oe){return this.request(N(oe||{},{method:S,url:te,data:(oe||{}).data}))}}),E.forEach(["post","put","patch"],function(S){ee.prototype[S]=function(te,oe,ge){return this.request(N(ge||{},{method:S,url:te,data:oe}))}}),we.exports=ee},307:(we,q,R)=>{"use strict";var E=R(104);function _(){this.handlers=[]}_.prototype.use=function(P,N,U){return this.handlers.push({fulfilled:P,rejected:N,synchronous:!!U&&U.synchronous,runWhen:U?U.runWhen:null}),this.handlers.length-1},_.prototype.eject=function(P){this.handlers[P]&&(this.handlers[P]=null)},_.prototype.forEach=function(P){E.forEach(this.handlers,function(U){null!==U&&P(U)})},we.exports=_},459:(we,q,R)=>{"use strict";var E=R(191),_=R(294);we.exports=function(P,N){return P&&!E(N)?_(P,N):N}},440:(we,q,R)=>{"use strict";var E=R(521);we.exports=function(M,P,N,U,V){var ee=new Error(M);return E(ee,P,N,U,V)}},303:(we,q,R)=>{"use strict";var E=R(104),_=R(70),M=R(396),P=R(800);function N(U){U.cancelToken&&U.cancelToken.throwIfRequested()}we.exports=function(V){return N(V),V.headers=V.headers||{},V.data=_.call(V,V.data,V.headers,V.transformRequest),V.headers=E.merge(V.headers.common||{},V.headers[V.method]||{},V.headers),E.forEach(["delete","get","head","post","put","patch","common"],function(S){delete V.headers[S]}),(V.adapter||P.adapter)(V).then(function(S){return N(V),S.data=_.call(V,S.data,S.headers,V.transformResponse),S},function(S){return M(S)||(N(V),S&&S.response&&(S.response.data=_.call(V,S.response.data,S.response.headers,V.transformResponse))),Promise.reject(S)})}},521:we=>{"use strict";we.exports=function(R,E,_,M,P){return R.config=E,_&&(R.code=_),R.request=M,R.response=P,R.isAxiosError=!0,R.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},R}},42:(we,q,R)=>{"use strict";var E=R(104);we.exports=function(M,P){P=P||{};var N={},U=["url","method","data"],V=["headers","auth","proxy","params"],ee=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],W=["validateStatus"];function S(fe,ne){return E.isPlainObject(fe)&&E.isPlainObject(ne)?E.merge(fe,ne):E.isPlainObject(ne)?E.merge({},ne):E.isArray(ne)?ne.slice():ne}function te(fe){E.isUndefined(P[fe])?E.isUndefined(M[fe])||(N[fe]=S(void 0,M[fe])):N[fe]=S(M[fe],P[fe])}E.forEach(U,function(ne){E.isUndefined(P[ne])||(N[ne]=S(void 0,P[ne]))}),E.forEach(V,te),E.forEach(ee,function(ne){E.isUndefined(P[ne])?E.isUndefined(M[ne])||(N[ne]=S(void 0,M[ne])):N[ne]=S(void 0,P[ne])}),E.forEach(W,function(ne){ne in P?N[ne]=S(M[ne],P[ne]):ne in M&&(N[ne]=S(void 0,M[ne]))});var oe=U.concat(V).concat(ee).concat(W),ge=Object.keys(M).concat(Object.keys(P)).filter(function(ne){return-1===oe.indexOf(ne)});return E.forEach(ge,te),N}},288:(we,q,R)=>{"use strict";var E=R(440);we.exports=function(M,P,N){var U=N.config.validateStatus;N.status&&U&&!U(N.status)?P(E("Request failed with status code "+N.status,N.config,null,N.request,N)):M(N)}},70:(we,q,R)=>{"use strict";var E=R(104),_=R(800);we.exports=function(P,N,U){var V=this||_;return E.forEach(U,function(W){P=W.call(V,P,N)}),P}},800:(we,q,R)=>{"use strict";var E=R(104),_=R(15),M=R(521),P={"Content-Type":"application/x-www-form-urlencoded"};function N(W,S){!E.isUndefined(W)&&E.isUndefined(W["Content-Type"])&&(W["Content-Type"]=S)}var ee={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function U(){var W;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(W=R(582)),W}(),transformRequest:[function(S,te){return _(te,"Accept"),_(te,"Content-Type"),E.isFormData(S)||E.isArrayBuffer(S)||E.isBuffer(S)||E.isStream(S)||E.isFile(S)||E.isBlob(S)?S:E.isArrayBufferView(S)?S.buffer:E.isURLSearchParams(S)?(N(te,"application/x-www-form-urlencoded;charset=utf-8"),S.toString()):E.isObject(S)||te&&"application/json"===te["Content-Type"]?(N(te,"application/json"),function V(W,S,te){if(E.isString(W))try{return(S||JSON.parse)(W),E.trim(W)}catch(oe){if("SyntaxError"!==oe.name)throw oe}return(te||JSON.stringify)(W)}(S)):S}],transformResponse:[function(S){var te=this.transitional,fe=!(te&&te.silentJSONParsing)&&"json"===this.responseType;if(fe||te&&te.forcedJSONParsing&&E.isString(S)&&S.length)try{return JSON.parse(S)}catch(ne){if(fe)throw"SyntaxError"===ne.name?M(ne,this,"E_JSON_PARSE"):ne}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};E.forEach(["delete","get","head"],function(S){ee.headers[S]={}}),E.forEach(["post","put","patch"],function(S){ee.headers[S]=E.merge(P)}),we.exports=ee},787:we=>{"use strict";we.exports=function(R,E){return function(){for(var M=new Array(arguments.length),P=0;P<M.length;P++)M[P]=arguments[P];return R.apply(E,M)}}},304:(we,q,R)=>{"use strict";var E=R(104);function _(M){return encodeURIComponent(M).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}we.exports=function(P,N,U){if(!N)return P;var V;if(U)V=U(N);else if(E.isURLSearchParams(N))V=N.toString();else{var ee=[];E.forEach(N,function(te,oe){null==te||(E.isArray(te)?oe+="[]":te=[te],E.forEach(te,function(fe){E.isDate(fe)?fe=fe.toISOString():E.isObject(fe)&&(fe=JSON.stringify(fe)),ee.push(_(oe)+"="+_(fe))}))}),V=ee.join("&")}if(V){var W=P.indexOf("#");-1!==W&&(P=P.slice(0,W)),P+=(-1===P.indexOf("?")?"?":"&")+V}return P}},294:we=>{"use strict";we.exports=function(R,E){return E?R.replace(/\/+$/,"")+"/"+E.replace(/^\/+/,""):R}},169:(we,q,R)=>{"use strict";var E=R(104);we.exports=E.isStandardBrowserEnv()?{write:function(P,N,U,V,ee,W){var S=[];S.push(P+"="+encodeURIComponent(N)),E.isNumber(U)&&S.push("expires="+new Date(U).toGMTString()),E.isString(V)&&S.push("path="+V),E.isString(ee)&&S.push("domain="+ee),!0===W&&S.push("secure"),document.cookie=S.join("; ")},read:function(P){var N=document.cookie.match(new RegExp("(^|;\\s*)("+P+")=([^;]*)"));return N?decodeURIComponent(N[3]):null},remove:function(P){this.write(P,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},191:we=>{"use strict";we.exports=function(R){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(R)}},915:we=>{"use strict";we.exports=function(R){return"object"==typeof R&&!0===R.isAxiosError}},810:(we,q,R)=>{"use strict";var E=R(104);we.exports=E.isStandardBrowserEnv()?function(){var N,M=/(msie|trident)/i.test(navigator.userAgent),P=document.createElement("a");function U(V){var ee=V;return M&&(P.setAttribute("href",ee),ee=P.href),P.setAttribute("href",ee),{href:P.href,protocol:P.protocol?P.protocol.replace(/:$/,""):"",host:P.host,search:P.search?P.search.replace(/^\?/,""):"",hash:P.hash?P.hash.replace(/^#/,""):"",hostname:P.hostname,port:P.port,pathname:"/"===P.pathname.charAt(0)?P.pathname:"/"+P.pathname}}return N=U(window.location.href),function(ee){var W=E.isString(ee)?U(ee):ee;return W.protocol===N.protocol&&W.host===N.host}}():function(){return!0}},15:(we,q,R)=>{"use strict";var E=R(104);we.exports=function(M,P){E.forEach(M,function(U,V){V!==P&&V.toUpperCase()===P.toUpperCase()&&(M[P]=U,delete M[V])})}},160:(we,q,R)=>{"use strict";var E=R(104),_=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];we.exports=function(P){var U,V,ee,N={};return P&&E.forEach(P.split("\n"),function(S){if(ee=S.indexOf(":"),U=E.trim(S.substr(0,ee)).toLowerCase(),V=E.trim(S.substr(ee+1)),U){if(N[U]&&_.indexOf(U)>=0)return;N[U]="set-cookie"===U?(N[U]?N[U]:[]).concat([V]):N[U]?N[U]+", "+V:V}}),N}},91:we=>{"use strict";we.exports=function(R){return function(_){return R.apply(null,_)}}},190:(we,q,R)=>{"use strict";var E=R(843),_={};["object","boolean","number","function","string","symbol"].forEach(function(V,ee){_[V]=function(S){return typeof S===V||"a"+(ee<1?"n ":" ")+V}});var M={},P=E.version.split(".");function N(V,ee){for(var W=ee?ee.split("."):P,S=V.split("."),te=0;te<3;te++){if(W[te]>S[te])return!0;if(W[te]<S[te])return!1}return!1}_.transitional=function(ee,W,S){var te=W&&N(W);function oe(ge,fe){return"[Axios v"+E.version+"] Transitional option '"+ge+"'"+fe+(S?". "+S:"")}return function(ge,fe,ne){if(!1===ee)throw new Error(oe(fe," has been removed in "+W));return te&&!M[fe]&&(M[fe]=!0,console.warn(oe(fe," has been deprecated since v"+W+" and will be removed in the near future"))),!ee||ee(ge,fe,ne)}},we.exports={isOlderVersion:N,assertOptions:function U(V,ee,W){if("object"!=typeof V)throw new TypeError("options must be an object");for(var S=Object.keys(V),te=S.length;te-- >0;){var oe=S[te],ge=ee[oe];if(ge){var fe=V[oe],ne=void 0===fe||ge(fe,oe,V);if(!0!==ne)throw new TypeError("option "+oe+" must be "+ne)}else if(!0!==W)throw Error("Unknown option "+oe)}},validators:_}},104:(we,q,R)=>{"use strict";var E=R(787),_=Object.prototype.toString;function M(X){return"[object Array]"===_.call(X)}function P(X){return void 0===X}function te(X){return null!==X&&"object"==typeof X}function oe(X){if("[object Object]"!==_.call(X))return!1;var He=Object.getPrototypeOf(X);return null===He||He===Object.prototype}function pe(X){return"[object Function]"===_.call(X)}function Te(X,He){if(null!=X)if("object"!=typeof X&&(X=[X]),M(X))for(var At=0,pn=X.length;At<pn;At++)He.call(null,X[At],At,X);else for(var Yt in X)Object.prototype.hasOwnProperty.call(X,Yt)&&He.call(null,X[Yt],Yt,X)}we.exports={isArray:M,isArrayBuffer:function U(X){return"[object ArrayBuffer]"===_.call(X)},isBuffer:function N(X){return null!==X&&!P(X)&&null!==X.constructor&&!P(X.constructor)&&"function"==typeof X.constructor.isBuffer&&X.constructor.isBuffer(X)},isFormData:function V(X){return"undefined"!=typeof FormData&&X instanceof FormData},isArrayBufferView:function ee(X){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(X):X&&X.buffer&&X.buffer instanceof ArrayBuffer},isString:function W(X){return"string"==typeof X},isNumber:function S(X){return"number"==typeof X},isObject:te,isPlainObject:oe,isUndefined:P,isDate:function ge(X){return"[object Date]"===_.call(X)},isFile:function fe(X){return"[object File]"===_.call(X)},isBlob:function ne(X){return"[object Blob]"===_.call(X)},isFunction:pe,isStream:function le(X){return te(X)&&pe(X.pipe)},isURLSearchParams:function ye(X){return"undefined"!=typeof URLSearchParams&&X instanceof URLSearchParams},isStandardBrowserEnv:function Ie(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Te,merge:function ke(){var X={};function He(Yt,We){X[We]=oe(X[We])&&oe(Yt)?ke(X[We],Yt):oe(Yt)?ke({},Yt):M(Yt)?Yt.slice():Yt}for(var At=0,pn=arguments.length;At<pn;At++)Te(arguments[At],He);return X},extend:function qe(X,He,At){return Te(He,function(Yt,We){X[We]=At&&"function"==typeof Yt?E(Yt,At):Yt}),X},trim:function ue(X){return X.trim?X.trim():X.replace(/^\s+|\s+$/g,"")},stripBOM:function Pe(X){return 65279===X.charCodeAt(0)&&(X=X.slice(1)),X}}},74:function(we){"undefined"!=typeof self&&self,we.exports=function(q){var R={};function E(_){if(R[_])return R[_].exports;var M=R[_]={i:_,l:!1,exports:{}};return q[_].call(M.exports,M,M.exports,E),M.l=!0,M.exports}return E.m=q,E.c=R,E.d=function(_,M,P){E.o(_,M)||Object.defineProperty(_,M,{configurable:!1,enumerable:!0,get:P})},E.n=function(_){var M=_&&_.__esModule?function(){return _.default}:function(){return _};return E.d(M,"a",M),M},E.o=function(_,M){return Object.prototype.hasOwnProperty.call(_,M)},E.p="",E(E.s=7)}([function(q,R,E){"use strict";E.d(R,"j",function(){return M}),E.d(R,"d",function(){return N}),E.d(R,"c",function(){return U}),E.d(R,"h",function(){return V}),E.d(R,"b",function(){return ee}),E.d(R,"k",function(){return W}),E.d(R,"e",function(){return S}),E.d(R,"g",function(){return te}),E.d(R,"i",function(){return oe}),E.d(R,"a",function(){return ge}),E.d(R,"f",function(){return fe});var _=E(1),M=W(function(ne,pe){var le=pe.length;return W(function(ye){for(var ue=0;ue<ye.length;ue++)pe[le+ue]=ye[ue];return pe.length=le+ye.length,ne.apply(this,pe)})});function N(ne,pe){return function(){return ne.call(this,pe.apply(this,arguments))}}function U(ne){return function(pe){return pe[ne]}}W(function(ne){var pe=Object(_.c)(ne);function le(ye,ue){return[ee(ye,ue)]}return W(function(ye){return Object(_.f)(le,ye,pe)[0]})});var V=W(function(ne){return W(function(pe){for(var le,ye=0;ye<U("length")(ne);ye++)if(le=ee(pe,ne[ye]))return le})});function ee(ne,pe){return pe.apply(void 0,ne)}function W(ne){var pe=ne.length-1,le=Array.prototype.slice;if(0===pe)return function(){return ne.call(this,le.call(arguments))};if(1===pe)return function(){return ne.call(this,arguments[0],le.call(arguments,1))};var ye=Array(ne.length);return function(){for(var ue=0;ue<pe;ue++)ye[ue]=arguments[ue];return ye[pe]=le.call(arguments,pe),ne.apply(this,ye)}}function S(ne){return function(pe,le){return ne(le,pe)}}function te(ne,pe){return function(le){return ne(le)&&pe(le)}}function oe(){}function ge(){return!0}function fe(ne){return function(){return ne}}},function(q,R,E){"use strict";E.d(R,"d",function(){return M}),E.d(R,"g",function(){return N}),E.d(R,"l",function(){return U}),E.d(R,"c",function(){return V}),E.d(R,"h",function(){return ee}),E.d(R,"i",function(){return W}),E.d(R,"j",function(){return S}),E.d(R,"f",function(){return te}),E.d(R,"m",function(){return ge}),E.d(R,"a",function(){return fe}),E.d(R,"b",function(){return ne}),E.d(R,"k",function(){return pe}),E.d(R,"e",function(){return le});var _=E(0);function M(ye,ue){return[ye,ue]}var P=null,N=Object(_.c)(0),U=Object(_.c)(1);function V(ye){return pe(ye.reduce(Object(_.e)(M),P))}var ee=Object(_.k)(V);function W(ye){return te(function(ue,Ie){return ue.unshift(Ie),ue},[],ye)}function S(ye,ue){return ue?M(ye(N(ue)),S(ye,U(ue))):P}function te(ye,ue,Ie){return Ie?ye(te(ye,ue,U(Ie)),N(Ie)):ue}function ge(ye,ue,Ie){return function Te(ke,qe){return ke?ue(N(ke))?(qe(N(ke)),U(ke)):M(N(ke),Te(U(ke),qe)):P}(ye,Ie||_.i)}function fe(ye,ue){return!ue||ye(N(ue))&&fe(ye,U(ue))}function ne(ye,ue){ye&&(N(ye).apply(null,ue),ne(U(ye),ue))}function pe(ye){return function ue(Ie,Te){return Ie?ue(U(Ie),M(N(Ie),Te)):Te}(ye,P)}function le(ye,ue){return ue&&(ye(N(ue))?N(ue):le(ye,U(ue)))}},function(q,R,E){"use strict";E.d(R,"c",function(){return P}),E.d(R,"e",function(){return N}),E.d(R,"d",function(){return U}),E.d(R,"a",function(){return V}),E.d(R,"b",function(){return ee});var _=E(1),M=E(0);function P(W,S){return S&&S.constructor===W}var N=Object(M.c)("length"),U=Object(M.j)(P,String);function V(W){return void 0!==W}function ee(W,S){return S instanceof Object&&Object(_.a)(function(te){return te in S},W)}},function(q,R,E){"use strict";E.d(R,"f",function(){return M}),E.d(R,"d",function(){return P}),E.d(R,"g",function(){return N}),E.d(R,"e",function(){return U}),E.d(R,"b",function(){return V}),E.d(R,"h",function(){return ee}),E.d(R,"i",function(){return W}),E.d(R,"c",function(){return S}),E.d(R,"m",function(){return te}),E.d(R,"n",function(){return oe}),E.d(R,"a",function(){return ge}),E.d(R,"j",function(){return fe}),E.d(R,"l",function(){return ne}),E.d(R,"k",function(){return pe}),E.d(R,"o",function(){return le});var _=1,M=_++,P=_++,N=_++,U=_++,V="fail",ee=_++,W=_++,S="start",te="data",oe="end",ge=_++,fe=_++,ne=_++,pe=_++;function le(ye,ue,Ie){try{var Te=JSON.parse(ue)}catch(ke){}return{statusCode:ye,body:ue,jsonBody:Te,thrown:Ie}}},function(q,R,E){"use strict";E.d(R,"b",function(){return M}),E.d(R,"a",function(){return P}),E.d(R,"c",function(){return N});var _=E(0);function M(U,V){return{key:U,node:V}}var P=Object(_.c)("key"),N=Object(_.c)("node")},function(q,R,E){"use strict";E.d(R,"a",function(){return V});var _=E(1),M=E(0),P=E(2),N=E(8),U=E(9);function V(ee){var W=Object(_.h)("resume","pause","pipe"),S=Object(M.j)(P.b,W);return ee?S(ee)||Object(P.d)(ee)?Object(N.a)(U.a,ee):Object(N.a)(U.a,ee.url,ee.method,ee.body,ee.headers,ee.withCredentials,ee.cached):Object(U.a)()}V.drop=function(){return V.drop}},function(q,R,E){"use strict";E.d(R,"b",function(){return V}),E.d(R,"a",function(){return U});var _=E(3),M=E(4),P=E(2),N=E(1),U={};function V(ee){var W=ee(_.f).emit,S=ee(_.d).emit,te=ee(_.i).emit,oe=ee(_.h).emit;function ne(ue,Ie,Te){Object(M.c)(Object(N.g)(ue))[Ie]=Te}function pe(ue,Ie,Te){ue&&ne(ue,Ie,Te);var ke=Object(N.d)(Object(M.b)(Ie,Te),ue);return W(ke),ke}var ye={};return ye[_.l]=function fe(ue,Ie){if(!ue)return te(Ie),pe(ue,U,Ie);var Te=function ge(ue,Ie){var Te=Object(M.c)(Object(N.g)(ue));return Object(P.c)(Array,Te)?pe(ue,Object(P.e)(Te),Ie):ue}(ue,Ie),ke=Object(N.l)(Te),qe=Object(M.a)(Object(N.g)(Te));return ne(ke,qe,Ie),Object(N.d)(Object(M.b)(qe,Ie),ke)},ye[_.k]=function le(ue){return S(ue),Object(N.l)(ue)||oe(Object(M.c)(Object(N.g)(ue)))},ye[_.j]=pe,ye}},function(q,R,E){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var _=E(5);R.default=_.a},function(q,R,E){"use strict";E.d(R,"a",function(){return M});var _=E(2);function M(P,N,U,V,ee,W,S){return ee=ee?JSON.parse(JSON.stringify(ee)):{},V?(Object(_.d)(V)||(V=JSON.stringify(V),ee["Content-Type"]=ee["Content-Type"]||"application/json"),ee["Content-Length"]=ee["Content-Length"]||V.length):V=null,P(U||"GET",function te(oe,ge){return!1===ge&&(-1===oe.indexOf("?")?oe+="?":oe+="&",oe+="_="+(new Date).getTime()),oe}(N,S),V,ee,W||!1)}},function(q,R,E){"use strict";E.d(R,"a",function(){return S});var _=E(10),M=E(12),P=E(6),N=E(13),U=E(14),V=E(16),ee=E(17),W=E(18);function S(te,oe,ge,fe,ne){var pe=Object(_.a)();return oe&&Object(W.b)(pe,Object(W.a)(),te,oe,ge,fe,ne),Object(ee.a)(pe),Object(M.a)(pe,Object(P.b)(pe)),Object(N.a)(pe,U.a),Object(V.a)(pe,oe)}},function(q,R,E){"use strict";E.d(R,"a",function(){return P});var _=E(11),M=E(0);function P(){var N={},U=ee("newListener"),V=ee("removeListener");function ee(S){return N[S]=Object(_.a)(S,U,V),N[S]}function W(S){return N[S]||ee(S)}return["emit","on","un"].forEach(function(S){W[S]=Object(M.k)(function(te,oe){Object(M.b)(oe,W(te)[S])})}),W}},function(q,R,E){"use strict";E.d(R,"a",function(){return N});var _=E(1),M=E(2),P=E(0);function N(U,V,ee){var W,S;function te(oe){return function(ge){return ge.id===oe}}return{on:function(oe,ge){var fe={listener:oe,id:ge||oe};return V&&V.emit(U,oe,fe.id),W=Object(_.d)(fe,W),S=Object(_.d)(oe,S),this},emit:function(){Object(_.b)(S,arguments)},un:function(oe){var ge;W=Object(_.m)(W,te(oe),function(fe){ge=fe}),ge&&(S=Object(_.m)(S,function(fe){return fe===ge.listener}),ee&&ee.emit(U,ge.listener,ge.id))},listeners:function(){return S},hasListener:function(oe){var ge=oe?te(oe):P.a;return Object(M.a)(Object(_.e)(ge,W))}}}},function(q,R,E){"use strict";E.d(R,"a",function(){return N});var _=E(4),M=E(3),P=E(1);function N(U,V){var W,ee={};function S(oe){return function(ge){W=oe(W,ge)}}for(var te in V)U(te).on(S(V[te]),ee);U(M.g).on(function(oe){var ge=Object(P.g)(W),fe=Object(_.a)(ge),ne=Object(P.l)(W);ne&&(Object(_.c)(Object(P.g)(ne))[fe]=oe)}),U(M.e).on(function(){var oe=Object(P.g)(W),ge=Object(_.a)(oe),fe=Object(P.l)(W);fe&&delete Object(_.c)(Object(P.g)(fe))[ge]}),U(M.a).on(function(){for(var oe in V)U(oe).un(ee)})}},function(q,R,E){"use strict";E.d(R,"a",function(){return N});var _=E(3),M=E(1),P=E(4);function N(U,V){var ee={node:U(_.d),path:U(_.f)};function S(te,oe,ge){var fe=U(te).emit;oe.on(function(ne){var pe=ge(ne);!1!==pe&&function W(te,oe,ge){var fe=Object(M.k)(ge);te(oe,Object(M.i)(Object(M.l)(Object(M.j)(P.a,fe))),Object(M.i)(Object(M.j)(P.c,fe)))}(fe,Object(P.c)(pe),ne)},te),U("removeListener").on(function(ne){ne===te&&(U(ne).listeners()||oe.un(te))})}U("newListener").on(function(te){var oe=/(node|path):(.*)/.exec(te);if(oe){var ge=ee[oe[1]];ge.hasListener(te)||S(te,ge,V(oe[2]))}})}},function(q,R,E){"use strict";E.d(R,"a",function(){return ee});var _=E(0),M=E(1),P=E(4),N=E(2),U=E(6),V=E(15),ee=Object(V.a)(function(W,S,te,oe,ge){var le=Object(_.d)(P.a,M.g),ye=Object(_.d)(P.c,M.g);function Te(L,O){return O[1]?Object(_.g)(L,M.g):L}function ke(L){if(L===_.a)return _.a;return Object(_.g)(function O(K){return le(K)!==U.a},Object(_.d)(L,M.l))}function Pe(){return function(L){return le(L)===U.a}}function At(L,O,K,F,me){var G=L(K);if(G){var J=function He(L,O,K){return Object(M.f)(function(F,me){return me(F,K)},O,L)}(O,F,G);return me(K.substr(Object(N.e)(G[0])),J)}}function pn(L,O){return Object(_.j)(At,L,O)}var Yt=Object(_.h)(pn(W,Object(M.h)(Te,function Ie(L,O){var K=O[3];if(!K)return L;var F=Object(_.j)(N.b,Object(M.c)(K.split(/\W+/))),me=Object(_.d)(F,ye);return Object(_.g)(me,L)},function ue(L,O){var K=O[2],F=K&&"*"!==K?function(me){return String(le(me))===K}:_.a;return Object(_.g)(F,L)},ke)),pn(S,Object(M.h)(function qe(L){if(L===_.a)return _.a;var O=Pe(),K=L,F=ke(function(G){return me(G)}),me=Object(_.h)(O,K,F);return me})),pn(te,Object(M.h)()),pn(oe,Object(M.h)(Te,Pe)),pn(ge,Object(M.h)(function X(L){return function(O){var K=L(O);return!0===K?Object(M.g)(O):K}})),function(L){throw Error('"'+L+'" could not be tokenised')});function We(L,O){return O}function x(L,O){return Yt(L,O,L?x:We)}return function(L){try{return x(L,_.a)}catch(O){throw Error('Could not compile "'+L+'" because '+O.message)}}})},function(q,R,E){"use strict";E.d(R,"a",function(){return M});var P,N,U,ee,W,S,te,oe,ge,fe,ne,pe,le,ye,ue,Ie,_=E(0),M=(P=function(ke){return ke.exec.bind(ke)},N=Object(_.k)(function(Te){return Te.unshift(/^/),P(RegExp(Te.map(Object(_.c)("source")).join("")))}),ee=/()/,W=/\["([^"]+)"\]/,S=/\[(\d+|\*)\]/,te=/{([\w ]*?)}/,ge=N(U=/(\$?)/,/([\w-_]+|\*)/,oe=/(?:{([\w ]*?)})?/),fe=N(U,W,oe),ne=N(U,S,oe),pe=N(U,ee,te),le=N(/\.\./),ye=N(/\./),ue=N(U,/!/),Ie=N(/$/),function(Te){return Te(Object(_.h)(ge,fe,ne,pe),le,ye,ue,Ie)})},function(q,R,E){"use strict";E.d(R,"a",function(){return U});var _=E(3),M=E(0),P=E(2),N=E(5);function U(V,ee){var W,S=/^(node|path):./,te=V(_.h),oe=V(_.e).emit,ge=V(_.g).emit,fe=Object(M.k)(function(Pe,X){if(W[Pe])Object(M.b)(X,W[Pe]);else{var He=V(Pe),At=X[0];S.test(Pe)?le(He,Ie(At)):He.on(At)}return W});function le(Pe,X,He){He=He||X;var At=ye(X);return Pe.on(function(){var pn=!1;W.forget=function(){pn=!0},Object(M.b)(arguments,At),delete W.forget,pn&&Pe.un(He)},He),W}function ye(Pe){return function(){try{return Pe.apply(W,arguments)}catch(X){setTimeout(function(){throw new Error(X.message)})}}}function Ie(Pe){return function(){var X=Pe.apply(this,arguments);Object(P.a)(X)&&(X===N.a.drop?oe():ge(X))}}function Te(Pe,X,He){var At;At="node"===Pe?Ie(He):He,le(function ue(Pe,X){return V(Pe+":"+X)}(Pe,X),At,He)}function qe(Pe,X,He){return Object(P.d)(X)?Te(Pe,X,He):function ke(Pe,X){for(var He in X)Te(Pe,He,X[He])}(Pe,X),W}return V(_.i).on(function(Pe){W.root=Object(M.f)(Pe)}),V(_.c).on(function(Pe,X){W.header=function(He){return He?X[He]:X}}),W={on:fe,addListener:fe,removeListener:function(Pe,X,He){if("done"===Pe)te.un(X);else if("node"===Pe||"path"===Pe)V.un(Pe+":"+X,He);else{var At=X;V(Pe).un(At)}return W},emit:V.emit,node:Object(M.j)(qe,"node"),path:Object(M.j)(qe,"path"),done:Object(M.j)(le,te),start:Object(M.j)(function pe(Pe,X){return V(Pe).on(ye(X),X),W},_.c),fail:V(_.b).on,abort:V(_.a).emit,header:M.i,root:M.i,source:ee}}},function(q,R,E){"use strict";E.d(R,"a",function(){return M});var _=E(3);function M(P){var K,F,me,G,N=P(_.j).emit,U=P(_.l).emit,V=P(_.k).emit,ee=P(_.b).emit,W=65536,S=/[\\"\n]/g,te=0,oe=te++,ge=te++,fe=te++,ne=te++,pe=te++,le=te++,ye=te++,ue=te++,Ie=te++,Te=te++,ke=te++,qe=te++,Pe=te++,X=te++,He=te++,At=te++,pn=te++,Yt=te++,We=te++,x=te++,O=W,J="",Oe=!1,wt=!1,_e=oe,de=[],Xt=null,ve=0,rt=0,Vt=0,Jt=0,Mr=1;function Qe(Tt){void 0!==G&&(U(G),V(),G=void 0),K=Error(Tt+"\nLn: "+Mr+"\nCol: "+Jt+"\nChr: "+F),ee(Object(_.o)(void 0,void 0,K))}function ui(Tt){return"\r"===Tt||"\n"===Tt||" "===Tt||"\t"===Tt}P(_.m).on(function Ir(Tt){if(!K){if(wt)return Qe("Cannot write after close");var wn=0;for(F=Tt[0];F&&(wn>0&&(me=F),F=Tt[wn++]);)switch(Vt++,"\n"===F?(Mr++,Jt=0):Jt++,_e){case oe:if("{"===F)_e=fe;else if("["===F)_e=pe;else if(!ui(F))return Qe("Non-whitespace before {[.");continue;case ue:case fe:if(ui(F))continue;if(_e===ue)de.push(Ie);else{if("}"===F){U({}),V(),_e=de.pop()||ge;continue}de.push(ne)}if('"'!==F)return Qe('Malformed object key should start with " ');_e=ye;continue;case Ie:case ne:if(ui(F))continue;if(":"===F)_e===ne?(de.push(ne),void 0!==G&&(U({}),N(G),G=void 0),rt++):void 0!==G&&(N(G),G=void 0),_e=ge;else if("}"===F)void 0!==G&&(U(G),V(),G=void 0),V(),rt--,_e=de.pop()||ge;else{if(","!==F)return Qe("Bad object");_e===ne&&de.push(ne),void 0!==G&&(U(G),V(),G=void 0),_e=ue}continue;case pe:case ge:if(ui(F))continue;if(_e===pe){if(U([]),rt++,_e=ge,"]"===F){V(),rt--,_e=de.pop()||ge;continue}de.push(le)}if('"'===F)_e=ye;else if("{"===F)_e=fe;else if("["===F)_e=pe;else if("t"===F)_e=Te;else if("f"===F)_e=Pe;else if("n"===F)_e=pn;else if("-"===F)J+=F;else if("0"===F)J+=F,_e=20;else{if(-1==="123456789".indexOf(F))return Qe("Bad value");J+=F,_e=20}continue;case le:if(","===F)de.push(le),void 0!==G&&(U(G),V(),G=void 0),_e=ge;else{if("]"!==F){if(ui(F))continue;return Qe("Bad array")}void 0!==G&&(U(G),V(),G=void 0),V(),rt--,_e=de.pop()||ge}continue;case ye:void 0===G&&(G="");var Pr=wn-1;e:for(;;){for(;ve>0;)if(Xt+=F,F=Tt.charAt(wn++),4===ve?(G+=String.fromCharCode(parseInt(Xt,16)),ve=0,Pr=wn-1):ve++,!F)break e;if('"'===F&&!Oe){_e=de.pop()||ge,G+=Tt.substring(Pr,wn-1);break}if(!("\\"!==F||Oe||(Oe=!0,G+=Tt.substring(Pr,wn-1),F=Tt.charAt(wn++))))break;if(Oe){if(Oe=!1,"n"===F?G+="\n":"r"===F?G+="\r":"t"===F?G+="\t":"f"===F?G+="\f":"b"===F?G+="\b":"u"===F?(ve=1,Xt=""):G+=F,F=Tt.charAt(wn++),Pr=wn-1,F)continue;break}S.lastIndex=wn;var ar=S.exec(Tt);if(!ar){G+=Tt.substring(Pr,(wn=Tt.length+1)-1);break}if(wn=ar.index+1,!(F=Tt.charAt(ar.index))){G+=Tt.substring(Pr,wn-1);break}}continue;case Te:if(!F)continue;if("r"!==F)return Qe("Invalid true started with t"+F);_e=ke;continue;case ke:if(!F)continue;if("u"!==F)return Qe("Invalid true started with tr"+F);_e=qe;continue;case qe:if(!F)continue;if("e"!==F)return Qe("Invalid true started with tru"+F);U(!0),V(),_e=de.pop()||ge;continue;case Pe:if(!F)continue;if("a"!==F)return Qe("Invalid false started with f"+F);_e=X;continue;case X:if(!F)continue;if("l"!==F)return Qe("Invalid false started with fa"+F);_e=He;continue;case He:if(!F)continue;if("s"!==F)return Qe("Invalid false started with fal"+F);_e=At;continue;case At:if(!F)continue;if("e"!==F)return Qe("Invalid false started with fals"+F);U(!1),V(),_e=de.pop()||ge;continue;case pn:if(!F)continue;if("u"!==F)return Qe("Invalid null started with n"+F);_e=Yt;continue;case Yt:if(!F)continue;if("l"!==F)return Qe("Invalid null started with nu"+F);_e=We;continue;case We:if(!F)continue;if("l"!==F)return Qe("Invalid null started with nul"+F);U(null),V(),_e=de.pop()||ge;continue;case x:if("."!==F)return Qe("Leading zero not followed by .");J+=F,_e=20;continue;case 20:if(-1!=="0123456789".indexOf(F))J+=F;else if("."===F){if(-1!==J.indexOf("."))return Qe("Invalid number has two dots");J+=F}else if("e"===F||"E"===F){if(-1!==J.indexOf("e")||-1!==J.indexOf("E"))return Qe("Invalid number has two exponential");J+=F}else if("+"===F||"-"===F){if("e"!==me&&"E"!==me)return Qe("Invalid symbol in number");J+=F}else J&&(U(parseFloat(J)),V(),J=""),wn--,_e=de.pop()||ge;continue;default:return Qe("Unknown state: "+_e)}Vt>=O&&function ft(){var Tt=0;void 0!==G&&G.length>W&&(Qe("Max buffer length exceeded: textNode"),Tt=Math.max(Tt,G.length)),J.length>W&&(Qe("Max buffer length exceeded: numberNode"),Tt=Math.max(Tt,J.length)),O=W-Tt+Vt}()}}),P(_.n).on(function or(){if(_e===oe)return U({}),V(),void(wt=!0);(_e!==ge||0!==rt)&&Qe("Unexpected end"),void 0!==G&&(U(G),V(),G=void 0),wt=!0})}},function(q,R,E){"use strict";E.d(R,"a",function(){return V}),E.d(R,"b",function(){return ee});var _=E(19),M=E(3),P=E(2),N=E(20),U=E(0);function V(){return new XMLHttpRequest}function ee(W,S,te,oe,ge,fe,ne){var pe=W(M.m).emit,le=W(M.b).emit,ye=0,ue=!0;function Ie(){if("2"===String(S.status)[0]){var qe=S.responseText,Pe=(" "+qe.substr(ye)).substr(1);Pe&&pe(Pe),ye=Object(P.e)(qe)}}function Te(qe){try{ue&&W(M.c).emit(qe.status,Object(N.a)(qe.getAllResponseHeaders())),ue=!1}catch(Pe){}}W(M.a).on(function(){S.onreadystatechange=null,S.abort()}),"onprogress"in S&&(S.onprogress=Ie),S.onreadystatechange=function(){switch(S.readyState){case 2:case 3:return Te(S);case 4:Te(S),"2"===String(S.status)[0]?(Ie(),W(M.n).emit()):le(Object(M.o)(S.status,S.responseText))}};try{for(var ke in S.open(te,oe,!0),fe)S.setRequestHeader(ke,fe[ke]);Object(_.a)(window.location,Object(_.b)(oe))||S.setRequestHeader("X-Requested-With","XMLHttpRequest"),S.withCredentials=ne,S.send(ge)}catch(qe){window.setTimeout(Object(U.j)(le,Object(M.o)(void 0,void 0,qe)),0)}}},function(q,R,E){"use strict";function _(P,N){function V(ee){return String(ee.port||function U(ee){return{"http:":80,"https:":443}[ee]}(ee.protocol||P.protocol))}return!!(N.protocol&&N.protocol!==P.protocol||N.host&&N.host!==P.host||N.host&&V(N)!==V(P))}function M(P){var U=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(P)||[];return{protocol:U[1]||"",host:U[2]||"",port:U[3]||""}}E.d(R,"a",function(){return _}),E.d(R,"b",function(){return M})},function(q,R,E){"use strict";function _(M){var P={};return M&&M.split("\r\n").forEach(function(N){var U=N.indexOf(": ");P[N.substring(0,U)]=N.substring(U+2)}),P}E.d(R,"a",function(){return _})}]).default},843:we=>{"use strict";we.exports=JSON.parse('{"_from":"axios@^0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.4","name":"axios","escapedName":"axios","rawSpec":"^0.21.4","saveSpec":null,"fetchSpec":"^0.21.4"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.4","_where":"C:\\\\Users\\\\Lesiu\\\\Documents\\\\ChessEngineJS","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},we=>{we(we.s=944)}]);