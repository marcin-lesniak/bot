(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{378:(fe,Ce,M)=>{"use strict";function E(n){return"function"==typeof n}function v(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const L=v(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function F(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class R{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(s){e=s instanceof L?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{K(s)}catch(o){e=null!=e?e:[],o instanceof L?e=[...e,...o.errors]:e.push(o)}}if(e)throw new L(e)}}add(e){var t;if(e&&e!==this)if(this.closed)K(e);else{if(e instanceof R){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&F(t,e)}remove(e){const{_finalizers:t}=this;t&&F(t,e),e instanceof R&&e._removeParent(this)}}R.EMPTY=(()=>{const n=new R;return n.closed=!0,n})();const V=R.EMPTY;function k(n){return n instanceof R||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function K(n){E(n)?n():n.unsubscribe()}const U={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(n,e,...t){const{delegate:r}=P;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=P;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function z(n){P.setTimeout(()=>{const{onUnhandledError:e}=U;if(!e)throw n;e(n)})}function ee(){}const ae=le("C",void 0,void 0);function le(n,e,t){return{kind:n,value:e,error:t}}let ie=null;function ue(n){if(U.useDeprecatedSynchronousErrorHandling){const e=!ie;if(e&&(ie={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ie;if(ie=null,t)throw r}}else n()}class Se extends R{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,k(e)&&e.add(this)):this.destination=Cn}static create(e,t,r){return new Ee(e,t,r)}next(e){this.isStopped?At(function q(n){return le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?At(function se(n){return le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?At(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function Qe(n,e){return be.call(n,e)}class Ze{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){W(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){W(r)}else W(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){W(t)}}}class Ee extends Se{constructor(e,t,r){let i;if(super(),E(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&U.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qe(e.next,s),error:e.error&&Qe(e.error,s),complete:e.complete&&Qe(e.complete,s)}):i=e}this.destination=new Ze(i)}}function W(n){U.useDeprecatedSynchronousErrorHandling?function oe(n){U.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=n)}(n):z(n)}function At(n,e){const{onStoppedNotification:t}=U;t&&P.setTimeout(()=>t(n,e))}const Cn={closed:!0,next:ee,error:function nt(n){throw n},complete:ee},Yt="function"==typeof Symbol&&Symbol.observable||"@@observable";function nn(n){return n}let Ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function vn(n){return n&&n instanceof Se||function te(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&k(n)}(t)?t:new Ee(t,r,i);return ue(()=>{const{operator:o,source:l}=this;s.add(o?o.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=pt(r))((i,s)=>{const o=new Ee({next:l=>{try{t(l)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Yt](){return this}pipe(...t){return function it(n){return 0===n.length?nn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=pt(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function pt(n){var e;return null!==(e=null!=n?n:U.Promise)&&void 0!==e?e:Promise}const Pe=v(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Be=(()=>{class n extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Si(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Pe}next(t){ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?V:(this.currentObservers=null,s.push(t),new R(()=>{this.currentObservers=null,F(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ae;return t.source=this,t}}return n.create=(e,t)=>new Si(e,t),n})();class Si extends Be{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:V}}function Lo(n){return E(null==n?void 0:n.lift)}function ve(n){return e=>{if(Lo(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(n,e,t,r,i){return new Ba(n,e,t,r,i)}class Ba extends Se{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(l){try{t(l)}catch(c){e.error(c)}}:super._next,this._error=i?function(l){try{i(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ct(n,e){return ve((t,r)=>{let i=0;t.subscribe(st(r,s=>{r.next(n.call(e,s,i++))}))})}function ii(n){return this instanceof ii?(this.v=n,this):new ii(n)}function iv(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(_){r[_]&&(i[_]=function(C){return new Promise(function(w,I){s.push([_,C,w,I])>1||l(_,C)})})}function l(_,C){try{!function c(_){_.value instanceof ii?Promise.resolve(_.value.v).then(d,f):g(s[0][2],_)}(r[_](C))}catch(w){g(s[0][3],w)}}function d(_){l("next",_)}function f(_){l("throw",_)}function g(_,C){_(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Ho(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Sr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(l,c){!function i(s,o,l,c){Promise.resolve(c).then(function(d){s({value:d,done:l})},o)}(l,c,(o=n[s](o)).done,o.value)})}}}const ql=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ql(n){return E(null==n?void 0:n.then)}function Zl(n){return E(n[Yt])}function Vf(n){return Symbol.asyncIterator&&E(null==n?void 0:n[Symbol.asyncIterator])}function Hf(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kc=function sv(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Nc(n){return E(null==n?void 0:n[kc])}function Uf(n){return iv(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ii(t.read());if(i)return yield ii(void 0);yield yield ii(r)}}finally{t.releaseLock()}})}function jf(n){return E(null==n?void 0:n.getReader)}function Vr(n){if(n instanceof Ae)return n;if(null!=n){if(Zl(n))return function ov(n){return new Ae(e=>{const t=n[Yt]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ql(n))return function $f(n){return new Ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ql(n))return function av(n){return new Ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,z)})}(n);if(Vf(n))return Wf(n);if(Nc(n))return function lv(n){return new Ae(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(jf(n))return function Lc(n){return Wf(Uf(n))}(n)}throw Hf(n)}function Wf(n){return new Ae(e=>{(function uv(n,e){var t,r,i,s;return function ro(n,e,t,r){return new(t||(t=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(g){o(g)}}function c(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(f.value).then(l,c)}d((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ho(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function si(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function En(n,e,t=1/0){return E(e)?En((r,i)=>ct((s,o)=>e(r,s,i,o))(Vr(n(r,i))),t):("number"==typeof e&&(t=e),ve((r,i)=>function cv(n,e,t,r,i,s,o,l){const c=[];let d=0,f=0,g=!1;const _=()=>{g&&!c.length&&!d&&e.complete()},C=I=>d<r?w(I):c.push(I),w=I=>{s&&e.next(I),d++;let B=!1;Vr(t(I,f++)).subscribe(st(e,G=>{null==i||i(G),s?C(G):e.next(G)},()=>{B=!0},void 0,()=>{if(B)try{for(d--;c.length&&d<r;){const G=c.shift();o?si(e,o,()=>w(G)):w(G)}_()}catch(G){e.error(G)}}))};return n.subscribe(st(e,C,()=>{g=!0,_()})),()=>{null==l||l()}}(r,i,n,t)))}function Va(n=1/0){return En(nn,n)}const es=new Ae(n=>n.complete());function Kf(n){return n&&E(n.schedule)}function Bc(n){return n[n.length-1]}function Vc(n){return E(Bc(n))?n.pop():void 0}function Ha(n){return Kf(Bc(n))?n.pop():void 0}function Gf(n,e=0){return ve((t,r)=>{t.subscribe(st(r,i=>si(r,n,()=>r.next(i),e),()=>si(r,n,()=>r.complete(),e),i=>si(r,n,()=>r.error(i),e)))})}function zf(n,e=0){return ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ua(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ae(t=>{si(t,e,()=>{const r=n[Symbol.asyncIterator]();si(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function wn(n,e){return e?function _v(n,e){if(null!=n){if(Zl(n))return function fv(n,e){return Vr(n).pipe(zf(e),Gf(e))}(n,e);if(ql(n))return function Yl(n,e){return new Ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Ql(n))return function pv(n,e){return Vr(n).pipe(zf(e),Gf(e))}(n,e);if(Vf(n))return Ua(n,e);if(Nc(n))return function gv(n,e){return new Ae(t=>{let r;return si(t,e,()=>{r=n[kc](),si(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>E(null==r?void 0:r.return)&&r.return()})}(n,e);if(jf(n))return function mv(n,e){return Ua(Uf(n),e)}(n,e)}throw Hf(n)}(n,e):Vr(n)}function Xl(...n){const e=Ha(n),t=function hv(n,e){return"number"==typeof Bc(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Vr(r[0]):Va(t)(wn(r,e)):es}function io(n){return n<=0?()=>es:ve((e,t)=>{let r=0;e.subscribe(st(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hc(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(io(1)).subscribe(()=>n())}function Vt(n){for(let e in n)if(n[e]===Vt)return e;throw Error("Could not find renamed property on target object.")}function Uc(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ot(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ot).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Jl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Qf=Vt({__forward_ref__:Vt});function Ht(n){return n.__forward_ref__=Ht,n.toString=function(){return Ot(this())},n}function Ye(n){return function Zf(n){return"function"==typeof n&&n.hasOwnProperty(Qf)&&n.__forward_ref__===Ht}(n)?n():n}class ge extends Error{constructor(e,t){super(function eu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function jn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}function ja(n,e){const t=e?` in ${e}`:"";throw new ge(-201,`No provider for ${jn(n)} found${t}`)}function hr(n,e){null==n&&function qt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function He(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rr(n){return{providers:n.providers||[],imports:n.imports||[]}}function jc(n){return tp(n,tu)||tp(n,np)}function tp(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ut(n){return n&&(n.hasOwnProperty($c)||n.hasOwnProperty(Sv))?n[$c]:null}const tu=Vt({\u0275prov:Vt}),$c=Vt({\u0275inj:Vt}),np=Vt({ngInjectableDef:Vt}),Sv=Vt({ngInjectorDef:Vt});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let Wc;function ws(n){const e=Wc;return Wc=n,e}function Dn(n,e,t){const r=jc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ke.Optional?null:void 0!==e?e:void ja(Ot(n),"Injector")}function Hr(n){return{toString:n}.toString()}var Ur=(()=>((Ur=Ur||{})[Ur.OnPush=0]="OnPush",Ur[Ur.Default=1]="Default",Ur))(),jr=(()=>{return(n=jr||(jr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",jr;var n})();const sp="undefined"!=typeof globalThis&&globalThis,op="undefined"!=typeof window&&window,ap="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=sp||"undefined"!=typeof global&&global||op||ap,Fn={},jt=[],$a=Vt({\u0275cmp:Vt}),Ti=Vt({\u0275dir:Vt}),jo=Vt({\u0275pipe:Vt}),nu=Vt({\u0275mod:Vt}),Dt=Vt({\u0275fac:Vt}),Wr=Vt({__NG_ELEMENT_ID__:Vt});let Kc=0;function Ds(n){return Hr(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ur.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||jt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||jr.Emulated,id:"c",styles:n.styles||jt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=Kc++,r.inputs=so(n.inputs,t),r.outputs=so(n.outputs),s&&s.forEach(l=>l(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(lp):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(up):null,r})}function lp(n){return kn(n)||function Mi(n){return n[Ti]||null}(n)}function up(n){return function ts(n){return n[jo]||null}(n)}const cp={};function ir(n){return Hr(()=>{const e={type:n.type,bootstrap:n.bootstrap||jt,declarations:n.declarations||jt,imports:n.imports||jt,exports:n.exports||jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(cp[n.id]=n.type),e})}function so(n,e){if(null==n)return Fn;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const ke=Ds;function sr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function kn(n){return n[$a]||null}function Ar(n,e){const t=n[nu]||null;if(!t&&!0===e)throw new Error(`Type ${Ot(n)} does not have '\u0275mod' property.`);return t}function Ii(n){return Array.isArray(n)&&"object"==typeof n[1]}function li(n){return Array.isArray(n)&&!0===n[1]}function qc(n){return 0!=(8&n.flags)}function uo(n){return 2==(2&n.flags)}function x(n){return 1==(1&n.flags)}function $(n){return null!==n.template}function j(n){return 0!=(512&n[2])}function xi(n,e){return n.hasOwnProperty(Dt)?n[Dt]:null}class fp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Nn(){return td}function td(n){return n.type.prototype.ngOnChanges&&(n.setInput=ou),pp}function pp(){const n=Go(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Fn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ou(n,e,t,r){const i=Go(n)||function ho(n,e){return n[nd]=e}(n,{previous:Fn,current:null}),s=i.current||(i.current={}),o=i.previous,l=this.declaredInputs[t],c=o[l];s[l]=new fp(c&&c.currentValue,e,o===Fn),n[r]=e}Nn.ngInherit=!0;const nd="__ngSimpleChanges__";function Go(n){return n[nd]||null}let lu;function sd(){return void 0!==lu?lu:"undefined"!=typeof document?document:void 0}function dt(n){return!!n.listen}const gp={createRenderer:(n,e)=>sd()};function un(n){for(;Array.isArray(n);)n=n[0];return n}function As(n,e){return un(e[n])}function pr(n,e){return un(e[n.index])}function fo(n,e){return n.data[e]}function Ri(n,e){return n[e]}function Wn(n,e){const t=e[n];return Ii(t)?t:t[0]}function po(n){return 4==(4&n[2])}function od(n){return 128==(128&n[2])}function Ps(n,e){return null==e?null:n[e]}function _p(n){n[18]=0}function ad(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Ne={lFrame:fd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qa(){return Ne.bindingsEnabled}function ne(){return Ne.lFrame.lView}function bt(){return Ne.lFrame.tView}function Jt(n){return Ne.lFrame.contextLView=n,n[8]}function Zt(){let n=yp();for(;null!==n&&64===n.type;)n=n.parent;return n}function yp(){return Ne.lFrame.currentTNode}function Oi(n,e){const t=Ne.lFrame;t.currentTNode=n,t.isParent=e}function ld(){return Ne.lFrame.isParent}function cu(){return Ne.isInCheckNoChangesMode}function du(n){Ne.isInCheckNoChangesMode=n}function or(){const n=Ne.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ns(){return Ne.lFrame.bindingIndex}function Yo(){return Ne.lFrame.bindingIndex++}function rs(n){const e=Ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Vv(n,e){const t=Ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,cd(e)}function cd(n){Ne.lFrame.currentDirectiveIndex=n}function zr(){return Ne.lFrame.currentQueryIndex}function hd(n){Ne.lFrame.currentQueryIndex=n}function Hv(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Cp(n,e,t){if(t&Ke.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Ke.Host||(i=Hv(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ne.lFrame=Ep();return r.currentTNode=e,r.lView=n,!0}function hu(n){const e=Ep(),t=n[1];Ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ep(){const n=Ne.lFrame,e=null===n?null:n.child;return null===e?fd(n):e}function fd(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function pd(){const n=Ne.lFrame;return Ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const wp=pd;function fu(){const n=pd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Tn(){return Ne.lFrame.selectedIndex}function Ms(n){Ne.lFrame.selectedIndex=n}function rn(){const n=Ne.lFrame;return fo(n.tView,n.selectedIndex)}function Xa(){Ne.lFrame.currentNamespace="svg"}function Ja(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),l&&((n.contentHooks||(n.contentHooks=[])).push(t,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,l)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),d&&((n.viewHooks||(n.viewHooks=[])).push(t,d),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,d)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(t,f)}}function el(n,e,t){md(n,e,3,t)}function Is(n,e,t,r){(3&n[2])===t&&md(n,e,t,r)}function ki(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function md(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let l=0;for(let c=void 0!==r?65535&n[18]:0;c<o;c++)if("number"==typeof e[c+1]){if(l=e[c],null!=r&&l>=r)break}else e[c]<0&&(n[18]+=65536),(l<s||-1==s)&&(jv(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function jv(n,e,t,r){const i=t[r]<0,s=t[r+1],l=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class tl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function nl(n,e,t){const r=dt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],l=t[i++],c=t[i++];r?n.setAttribute(e,l,c,o):e.setAttributeNS(o,l,c)}else{const o=s,l=t[++i];rl(o)?r&&n.setProperty(e,o,l):r?n.setAttribute(e,o,l):e.setAttribute(o,l),i++}}return i}function Kn(n){return 3===n||4===n||6===n}function rl(n){return 64===n.charCodeAt(0)}function mu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Sp(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Sp(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===e){o=-1;break}if(l>e){o=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Ap(n){return-1!==n}function xs(n){return 32767&n}function Li(n,e){let t=function $v(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let _u=!0;function vu(n){const e=_u;return _u=n,e}let Wv=0;function ea(n,e){const t=Cd(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,bd(r.data,n),bd(e,null),bd(r.blueprint,null));const i=yu(n,e),s=n.injectorIndex;if(Ap(i)){const o=xs(i),l=Li(i,e),c=l[1].data;for(let d=0;d<8;d++)e[s+d]=l[o+d]|c[o+d]}return e[s+8]=i,s}function bd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Cd(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function yu(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function il(n,e,t){!function yd(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Wr)&&(r=t[Wr]),null==r&&(r=t[Wr]=Wv++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Tp(n,e,t){if(t&Ke.Optional)return n;ja(e,"NodeInjector")}function bu(n,e,t,r){if(t&Ke.Optional&&void 0===r&&(r=null),0==(t&(Ke.Self|Ke.Host))){const i=n[9],s=ws(void 0);try{return i?i.get(e,r,t&Ke.Optional):Dn(e,r,t&Ke.Optional)}finally{ws(s)}}return Tp(r,e,t)}function wd(n,e,t,r=Ke.Default,i){if(null!==n){const s=function Ip(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Wr)?n[Wr]:void 0;return"number"==typeof e?e>=0?255&e:Mp:e}(t);if("function"==typeof s){if(!Cp(e,n,r))return r&Ke.Host?Tp(i,t,r):bu(e,t,r,i);try{const o=s(r);if(null!=o||r&Ke.Optional)return o;ja(t)}finally{wp()}}else if("number"==typeof s){let o=null,l=Cd(n,e),c=-1,d=r&Ke.Host?e[16][6]:null;for((-1===l||r&Ke.SkipSelf)&&(c=-1===l?yu(n,e):e[l+8],-1!==c&&Sd(r,!1)?(o=e[1],l=xs(c),e=Li(c,e)):l=-1);-1!==l;){const f=e[1];if(xp(s,l,f.data)){const g=Cu(l,e,t,o,r,d);if(g!==Dd)return g}c=e[l+8],-1!==c&&Sd(r,e[1].data[l+8]===d)&&xp(s,l,e)?(o=f,l=xs(c),e=Li(c,e)):l=-1}}}return bu(e,t,r,i)}const Dd={};function Mp(){return new na(Zt(),ne())}function Cu(n,e,t,r,i,s){const o=e[1],l=o.data[n+8],f=Eu(l,o,t,null==r?uo(l)&&_u:r!=o&&0!=(3&l.type),i&Ke.Host&&s===l);return null!==f?ta(e,o,f,l):Dd}function Eu(n,e,t,r,i){const s=n.providerIndexes,o=e.data,l=1048575&s,c=n.directiveStart,f=s>>20,_=i?l+f:n.directiveEnd;for(let C=r?l:l+f;C<_;C++){const w=o[C];if(C<c&&t===w||C>=c&&w.type===t)return C}if(i){const C=o[c];if(C&&$(C)&&C.type===t)return c}return null}function ta(n,e,t,r){let i=n[t];const s=e.data;if(function Dp(n){return n instanceof tl}(i)){const o=i;o.resolving&&function Yf(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ge(-200,`Circular dependency in DI detected for ${n}${t}`)}(jn(s[t]));const l=vu(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ws(o.injectImpl):null;Cp(n,r,Ke.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Uv(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=td(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&ws(c),vu(l),o.resolving=!1,wp()}}return i}function xp(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Sd(n,e){return!(n&Ke.Self||n&Ke.Host&&e)}class na{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return wd(this._tNode,this._lView,e,r,t)}}const Rs="__parameters__";function Bi(n,e,t){return Hr(()=>{const r=function Ad(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return l.annotation=o,l;function l(c,d,f){const g=c.hasOwnProperty(Rs)?c[Rs]:Object.defineProperty(c,Rs,{value:[]})[Rs];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=He({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qr=new xe("AnalyzeForEntryComponents");function gr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),gr(r,e)):e!==n&&e.push(r)}return e}function Xr(n,e){n.forEach(t=>Array.isArray(t)?Xr(t,e):e(t))}function ss(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Du(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function mr(n,e,t){let r=oa(n,e);return r>=0?n[1|r]=t:(r=~r,function Md(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Su(n,e){const t=oa(n,e);if(t>=0)return n[1|t]}function oa(n,e){return function Id(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const aa={},Os="__NG_DI_FLAG__",Fs="ngTempTokenPath",Vp=/\n/gm,ol="__source",Up=Vt({provide:String,useValue:Vt});let ks;function Tu(n){const e=ks;return ks=n,e}function Mu(n,e=Ke.Default){if(void 0===ks)throw new ge(203,"");return null===ks?Dn(n,void 0,e):ks.get(n,e&Ke.Optional?null:void 0,e)}function me(n,e=Ke.Default){return(function rp(){return Wc}()||Mu)(Ye(n),e)}const al=me;function Iu(n){const e=[];for(let t=0;t<n.length;t++){const r=Ye(n[t]);if(Array.isArray(r)){if(0===r.length)throw new ge(900,"");let i,s=Ke.Default;for(let o=0;o<r.length;o++){const l=r[o],c=Jv(l);"number"==typeof c?-1===c?i=l.token:s|=c:i=l}e.push(me(i,s))}else e.push(me(r))}return e}function bo(n,e){return n[Os]=e,n.prototype[Os]=e,n}function Jv(n){return n[Os]}const ll=bo(Bi("Inject",n=>({token:n})),-1),as=bo(Bi("Optional"),8),la=bo(Bi("SkipSelf"),4);let Fu,Nu;function ca(n){var e;return(null===(e=function ku(){if(void 0===Fu&&(Fu=null,Ft.trustedTypes))try{Fu=Ft.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Fu}())||void 0===e?void 0:e.createHTML(n))||n}function zn(n){var e;return(null===(e=function fi(){if(void 0===Nu&&(Nu=null,Ft.trustedTypes))try{Nu=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Nu}())||void 0===e?void 0:e.createHTML(n))||n}class Bu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ls(n){return n instanceof Bu?n.changingThisBreaksApplicationSecurity:n}function cl(n,e){const t=function oy(n){return n instanceof Bu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class dl{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ca(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Fd{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ca(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ca(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const eg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mr(n){return(n=String(n)).match(eg)||n.match(tg)?n:"unsafe:"+n}function Hi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function da(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const ng=Hi("area,br,col,hr,img,wbr"),rg=Hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ig=Hi("rp,rt"),Nd=da(ng,da(rg,Hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),da(ig,Hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),da(ig,rg)),Ld=Hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bd=Hi("srcset"),Vd=da(Ld,Bd,Hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sg=Hi("script,style,template");class og{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Nd.hasOwnProperty(t))return this.sanitizedSomething=!0,!sg.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,l=o.toLowerCase();if(!Vd.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let c=s.value;Ld[l]&&(c=Mr(c)),Bd[l]&&(n=c,c=(n=String(n)).split(",").map(e=>Mr(e.trim())).join(", ")),this.buf.push(" ",o,'="',ag(c),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Nd.hasOwnProperty(t)&&!ng.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ag(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const uy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cy=/([^\#-~ |!])/g;function ag(n){return n.replace(/&/g,"&amp;").replace(uy,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(cy,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hl;function Hd(n){return"content"in n&&function hy(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var mn=(()=>((mn=mn||{})[mn.NONE=0]="NONE",mn[mn.HTML=1]="HTML",mn[mn.STYLE=2]="STYLE",mn[mn.SCRIPT=3]="SCRIPT",mn[mn.URL=4]="URL",mn[mn.RESOURCE_URL=5]="RESOURCE_URL",mn))();function lg(n){const e=Co();return e?zn(e.sanitize(mn.HTML,n)||""):cl(n,"HTML")?zn(Ls(n)):function dy(n,e){let t=null;try{hl=hl||function Od(n){const e=new Fd(n);return function Jp(){try{return!!(new window.DOMParser).parseFromString(ca(""),"text/html")}catch(n){return!1}}()?new dl(e):e}(n);let r=e?String(e):"";t=hl.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=hl.getInertBodyElement(r)}while(r!==s);return ca((new og).sanitizeChildren(Hd(t)||t))}finally{if(t){const r=Hd(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(sd(),Ge(n))}function In(n){const e=Co();return e?e.sanitize(mn.URL,n)||"":cl(n,"URL")?Ls(n):Mr(Ge(n))}function Co(){const n=ne();return n&&n[12]}const hg="__ngContext__";function qn(n,e){n[hg]=e}function jd(n){const e=function fl(n){return n[hg]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Wd(n){return n.ngOriginalError}function mg(n,...e){n.error(...e)}class pl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function Kd(n){return n&&n.ngErrorLogger||mg}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Wd(e);for(;t&&Wd(t);)t=Wd(t);return t||null}}const Oy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function Ui(n){return n instanceof Function?n():n}var Ir=(()=>((Ir=Ir||{})[Ir.Important=1]="Important",Ir[Ir.DashCase=2]="DashCase",Ir))();function zd(n,e){return undefined(n,e)}function gl(n){const e=n[3];return li(e)?e[3]:e}function Zd(n){return Cg(n[13])}function Yd(n){return Cg(n[4])}function Cg(n){for(;null!==n&&!li(n);)n=n[4];return n}function ls(n,e,t,r,i){if(null!=r){let s,o=!1;li(r)?s=r:Ii(r)&&(o=!0,r=r[0]);const l=un(r);0===n&&null!==t?null==i?rh(e,t,l):Vs(e,t,l,i||null,!0):1===n&&null!==t?Vs(e,t,l,i||null,!0):2===n?function Ig(n,e,t){const r=Uu(n,e);r&&function Ky(n,e,t,r){dt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,l,o):3===n&&e.destroyNode(l),null!=s&&function zy(n,e,t,r,i){const s=t[7];s!==un(t)&&ls(e,n,r,s,i);for(let l=10;l<t.length;l++){const c=t[l];vl(c[1],c,n,e,r,s)}}(e,n,s,t,i)}}function Jd(n,e,t){if(dt(n))return n.createElement(e,t);{const r=null!==t?function Rv(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function wg(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ad(i,-1)),t.splice(r,1)}function fa(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&wg(i,r),e>0&&(n[t-1][4]=r[4]);const s=Du(n,10+e);!function Vy(n,e){vl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Dg(n,e){if(!(256&e[2])){const t=e[11];dt(t)&&t.destroyNode&&vl(n,e,t,3,null,null),function jy(n){let e=n[13];if(!e)return Hu(n[1],n);for(;e;){let t=null;if(Ii(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ii(e)&&Hu(e[1],e),e=e[3];null===e&&(e=n),Ii(e)&&Hu(e[1],e),t=e&&e[4]}e=t}}(e)}}function Hu(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function eh(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof tl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=i[s[o]],c=s[o+1];try{c.call(l)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function Sg(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],l="function"==typeof o?o(e):un(e[o]),c=r[i=t[s+2]],d=t[s+3];"boolean"==typeof d?l.removeEventListener(t[s],c,d):d>=0?r[i=d]():r[i=-d].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&dt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&li(e[3])){t!==e[3]&&wg(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function th(n,e,t){return function nh(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===jr.None||i===jr.Emulated)return null}return pr(r,t)}(n,e.parent,t)}function Vs(n,e,t,r,i){dt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function rh(n,e,t){dt(n)?n.appendChild(e,t):e.appendChild(t)}function Ag(n,e,t,r,i){null!==r?Vs(n,e,t,r,i):rh(n,e,t)}function Uu(n,e){return dt(n)?n.parentNode(e):e.parentNode}let Tg=function Pg(n,e,t){return 40&n.type?pr(n,t):null};function $u(n,e,t,r){const i=th(n,r,e),s=e[11],l=function ml(n,e,t){return Tg(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)Ag(s,i,t[c],l,!1);else Ag(s,i,t,l,!1)}function Wu(n,e){if(null!==e){const t=e.type;if(3&t)return pr(e,n);if(4&t)return sh(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Wu(n,r);{const i=n[e.index];return li(i)?sh(-1,i):un(i)}}if(32&t)return zd(e,n)()||un(n[e.index]);{const r=Mg(n,e);return null!==r?Array.isArray(r)?r[0]:Wu(gl(n[16]),r):Wu(n,e.next)}}return null}function Mg(n,e){return null!==e?n[16][6].projection[e.projection]:null}function sh(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Wu(r,i)}return e[7]}function oh(n,e,t,r,i,s,o){for(;null!=t;){const l=r[t.index],c=t.type;if(o&&0===e&&(l&&qn(un(l),r),t.flags|=4),64!=(64&t.flags))if(8&c)oh(n,e,t.child,r,i,s,!1),ls(e,n,i,l,s);else if(32&c){const d=zd(t,r);let f;for(;f=d();)ls(e,n,i,f,s);ls(e,n,i,l,s)}else 16&c?xg(n,e,r,t,i,s):ls(e,n,i,l,s);t=o?t.projectionNext:t.next}}function vl(n,e,t,r,i,s){oh(t,r,n.firstChild,e,i,s,!1)}function xg(n,e,t,r,i,s){const o=t[16],c=o[6].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)ls(e,n,i,c[d],s);else oh(n,e,c,o[3],i,s,!0)}function Rg(n,e,t){dt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function xr(n,e,t){dt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function Og(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Hs="ng-template";function Je(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==Og(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Fg(n){return 4===n.type&&n.value!==Hs}function vr(n,e,t){return e===(4!==n.type||t?n.value:Hs)}function cn(n,e,t){let r=4;const i=n.attrs||[],s=function Zy(n){for(let e=0;e<n.length;e++)if(Kn(n[e]))return e;return n.length}(i);let o=!1;for(let l=0;l<e.length;l++){const c=e[l];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!vr(n,c,t)||""===c&&1===e.length){if(pi(r))return!1;o=!0}}else{const d=8&r?c:e[++l];if(8&r&&null!==n.attrs){if(!Je(n.attrs,d,t)){if(pi(r))return!1;o=!0}continue}const g=Us(8&r?"class":c,i,Fg(n),t);if(-1===g){if(pi(r))return!1;o=!0;continue}if(""!==d){let _;_=g>s?"":i[g+1].toLowerCase();const C=8&r?_:null;if(C&&-1!==Og(C,d,0)||2&r&&d!==_){if(pi(r))return!1;o=!0}}}}else{if(!o&&!pi(r)&&!pi(c))return!1;if(o&&pi(c))continue;o=!1,r=c|1&r}}return pi(r)||o}function pi(n){return 0==(1&n)}function Us(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=e[++i];for(;"string"==typeof l;)l=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Yy(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function kg(n,e,t=!1){for(let r=0;r<e.length;r++)if(cn(n,e[r],t))return!0;return!1}function Ku(n,e){return n?":not("+e.trim()+")":e}function Jy(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const l=n[++t];i+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!pi(o)&&(e+=Ku(s,i),i=""),r=o,s=s||!pi(r);t++}return""!==i&&(e+=Ku(s,i)),e}const Ue={};function we(n){sn(bt(),ne(),Tn()+n,cu())}function sn(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&el(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Is(e,s,0,t)}Ms(t)}function Gu(n,e){return n<<17|e<<2}function gi(n){return n>>17&32767}function lh(n){return 2|n}function cs(n){return(131068&n)>>2}function zu(n,e){return-131069&n|e<<2}function yl(n){return 1|n}function jg(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];hd(i),o.contentQueries(2,e[s],s)}}}function bl(n,e,t,r,i,s,o,l,c,d){const f=e.blueprint.slice();return f[0]=i,f[2]=140|r,_p(f),f[3]=f[15]=n,f[8]=t,f[10]=o||n&&n[10],f[11]=l||n&&n[11],f[12]=c||n&&n[12]||null,f[9]=d||n&&n[9]||null,f[6]=s,f[16]=2==e.type?n[16]:f,f}function ma(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Zu(n,e,t,r,i){const s=yp(),o=ld(),c=n.data[e]=function Zg(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,e,t,r,i),function Bv(){return Ne.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Za(){const n=Ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Oi(s,!0),s}function _a(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Cl(n,e,t){hu(e);try{const r=n.viewQuery;null!==r&&wl(1,r,t);const i=n.template;null!==i&&yh(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&jg(n,e),n.staticViewQueries&&wl(2,n.viewQuery,t);const s=n.components;null!==s&&function sb(n,e){for(let t=0;t<e.length;t++)Eb(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,fu()}}function va(n,e,t,r){const i=e[2];if(256==(256&i))return;hu(e);const s=cu();try{_p(e),function Fi(n){return Ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&yh(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const d=n.preOrderCheckHooks;null!==d&&el(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Is(e,d,0,null),ki(e,0)}if(function Cb(n){for(let e=Zd(n);null!==e;e=Yd(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&ad(s,1),i[2]|=1024}}}(e),function bb(n){for(let e=Zd(n);null!==e;e=Yd(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];od(r)&&va(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&jg(n,e),!s)if(o){const d=n.contentCheckHooks;null!==d&&el(e,d)}else{const d=n.contentHooks;null!==d&&Is(e,d,1),ki(e,1)}!function ib(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ms(~i);else{const s=i,o=t[++r],l=t[++r];Vv(o,s),l(2,e[s])}}}finally{Ms(-1)}}(n,e);const l=n.components;null!==l&&function $g(n,e){for(let t=0;t<e.length;t++)Ah(n,e[t])}(e,l);const c=n.viewQuery;if(null!==c&&wl(2,c,r),!s)if(o){const d=n.viewCheckHooks;null!==d&&el(e,d)}else{const d=n.viewHooks;null!==d&&Is(e,d,2),ki(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ad(e[3],-1))}finally{fu()}}function Wg(n,e,t,r){const i=e[10],s=!cu(),o=po(e);try{s&&!o&&i.begin&&i.begin(),o&&Cl(n,e,r),va(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function yh(n,e,t,r,i){const s=Tn(),o=2&r;try{Ms(-1),o&&e.length>20&&sn(n,e,20,cu()),t(r,i)}finally{Ms(s)}}function bh(n,e,t){!Qa()||(function fb(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||ea(t,e),qn(r,e);const o=t.initialInputs;for(let l=i;l<s;l++){const c=n.data[l],d=$(c);d&&vb(e,t,c);const f=ta(e,n,l,t);qn(f,e),null!==o&&Sh(0,l-i,f,c,0,o),d&&(Wn(t.index,e)[8]=f)}}(n,e,t,pr(t,e)),128==(128&t.flags)&&function pb(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,l=function go(){return Ne.lFrame.currentDirectiveIndex}();try{Ms(o);for(let c=r;c<i;c++){const d=n.data[c],f=e[c];cd(c),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&Jg(d,f)}}finally{Ms(-1),cd(l)}}(n,e,t))}function Ch(n,e,t=pr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],l=-1===o?t(e,n):n[o];n[i++]=l}}}function Gg(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=fs(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function fs(n,e,t,r,i,s,o,l,c,d){const f=20+r,g=f+i,_=function ob(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ue);return t}(f,g),C="function"==typeof d?d():d;return _[1]={type:n,blueprint:_,template:t,queries:null,viewQuery:l,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1}}function Qg(n,e,t,r){const i=om(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&am(n).push(r,i.length-1))}function Eh(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function wh(n,e,t,r){let i=!1;if(Qa()){const s=function gb(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];kg(t,o.selectors,!1)&&(i||(i=[]),il(ea(t,e),n,o.type),$(o)?(em(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,tm(t,n.data.length,s.length);for(let f=0;f<s.length;f++){const g=s[f];g.providersResolver&&g.providersResolver(g)}let l=!1,c=!1,d=_a(n,e,s.length,null);for(let f=0;f<s.length;f++){const g=s[f];t.mergedAttrs=mu(t.mergedAttrs,g.hostAttrs),nm(n,t,e,d,g),_b(d,g,o),null!==g.contentQueries&&(t.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=128);const _=g.type.prototype;!l&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),l=!0),!c&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),d++}!function ab(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let l=null,c=null;for(let d=e.directiveStart;d<r;d++){const f=i[d],g=f.inputs,_=null===s||Fg(e)?null:rm(g,s);o.push(_),l=Eh(g,d,l),c=Eh(f.outputs,d,c)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=l,e.outputs=c}(n,t)}o&&function mb(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new ge(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=mu(t.mergedAttrs,t.attrs),i}function Xg(n,e,t,r,i,s){const o=s.hostBindings;if(o){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~e.index;(function hb(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(l)!=c&&l.push(c),l.push(r,i,o)}}function Jg(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function em(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function _b(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$(e)&&(t[""]=n)}}function tm(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function nm(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=xi(i.type)),o=new tl(s,$(i),null);n.blueprint[r]=o,t[r]=o,Xg(n,e,0,r,_a(n,t,i.hostVars,Ue),i)}function vb(n,e,t){const r=pr(e,n),i=Gg(t),s=n[10],o=Bn(n,bl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function ji(n,e,t,r,i,s){const o=pr(n,e);!function Dh(n,e,t,r,i,s,o){if(null==s)dt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const l=null==o?Ge(s):o(s,r||"",i);dt(n)?n.setAttribute(e,i,l,t):t?e.setAttributeNS(t,i,l):e.setAttribute(i,l)}}(e[11],o,s,n.value,t,r,i)}function Sh(n,e,t,r,i,s){const o=s[e];if(null!==o){const l=r.setInput;for(let c=0;c<o.length;){const d=o[c++],f=o[c++],g=o[c++];null!==l?r.setInput(t,g,d,f):t[f]=g}}}function rm(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function im(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function Ah(n,e){const t=Wn(e,n);if(od(t)){const r=t[1];80&t[2]?va(r,t,r.template,t[8]):t[5]>0&&Ph(t)}}function Ph(n){for(let r=Zd(n);null!==r;r=Yd(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];va(o,s,o.template,s[8])}else s[5]>0&&Ph(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Wn(t[r],n);od(i)&&i[5]>0&&Ph(i)}}function Eb(n,e){const t=Wn(e,n),r=t[1];(function wb(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Cl(r,t,t[8])}function Bn(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function El(n){for(;n;){n[2]|=64;const e=gl(n);if(j(n)&&!e)return n;n=e}return null}function Mh(n,e,t){const r=e[10];r.begin&&r.begin();try{va(n,e,n.template,t)}catch(i){throw lm(e,i),i}finally{r.end&&r.end()}}function sm(n){!function Th(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=jd(t),i=r[1];Wg(i,r,i.template,t)}}(n[8])}function wl(n,e,t){hd(0),e(n,t)}const Ab=(()=>Promise.resolve(null))();function om(n){return n[7]||(n[7]=[])}function am(n){return n.cleanup||(n.cleanup=[])}function lm(n,e){const t=n[9],r=t?t.get(pl,null):null;r&&r.handleError(e)}function um(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],c=e[o],d=n.data[o];null!==d.setInput?d.setInput(c,i,r,l):c[l]=i}}function ps(n,e,t){const r=As(e,n);!function Eg(n,e,t){dt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function ya(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?s=l:1==s?i=Jl(i,l):2==s&&(r=Jl(r,l+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Oh=new xe("INJECTOR",-1);class cm{get(e,t=aa){if(t===aa){const r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return t}}const Fh=new xe("Set Injector scope."),Dl={},Tb={};let kh;function dm(){return void 0===kh&&(kh=new cm),kh}function hm(n,e=null,t=null,r){const i=fm(n,e,t,r);return i._resolveInjectorDefTypes(),i}function fm(n,e=null,t=null,r){return new Mb(n,t,e||dm(),r)}class Mb{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Xr(t,l=>this.processProvider(l,e,t)),Xr([e],l=>this.processInjectorType(l,[],s)),this.records.set(Oh,ba(void 0,this));const o=this.records.get(Fh);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ot(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=aa,r=Ke.Default){this.assertNotDestroyed();const i=Tu(this),s=ws(void 0);try{if(!(r&Ke.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function p(n){return"function"==typeof n||"object"==typeof n&&n instanceof xe}(e)&&jc(e);l=c&&this.injectableDefInScope(c)?ba(Nh(e),Dl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Ke.Self?dm():this.parent).get(e,t=r&Ke.Optional&&t===aa?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Fs]=o[Fs]||[]).unshift(Ot(e)),i)throw o;return function jp(n,e,t,r){const i=n[Fs];throw e[ol]&&i.unshift(e[ol]),n.message=function os(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let l=e[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):Ot(l)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Vp,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Fs]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{ws(s),Tu(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ot(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processInjectorType(e,t,r){if(!(e=Ye(e)))return!1;let i=Ut(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,l=-1!==r.indexOf(o);if(void 0!==s&&(i=Ut(s)),null==i)return!1;if(null!=i.imports&&!l){let f;r.push(o);try{Xr(i.imports,g=>{this.processInjectorType(g,t,r)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:_,providers:C}=f[g];Xr(C,w=>this.processProvider(w,_,C||jt))}}this.injectorDefTypes.add(o);const c=xi(o)||(()=>new o);this.records.set(o,ba(c,Dl));const d=i.providers;if(null!=d&&!l){const f=e;Xr(d,g=>this.processProvider(g,f,d))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Ca(e=Ye(e))?e:Ye(e&&e.provide);const s=function xb(n,e,t){return gm(n)?ba(void 0,n.useValue):ba(pm(n),Dl)}(e);if(Ca(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=ba(void 0,Dl,!0),o.factory=()=>Iu(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Dl&&(t.value=Tb,t.value=t.factory()),"object"==typeof t.value&&t.value&&function h(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ye(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Nh(n){const e=jc(n),t=null!==e?e.factory:xi(n);if(null!==t)return t;if(n instanceof xe)throw new ge(204,!1);if(n instanceof Function)return function Ib(n){const e=n.length;if(e>0)throw function Jr(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new ge(204,!1);const t=function Dv(n){const e=n&&(n[tu]||n[np]);if(e){const t=function Qt(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ge(204,!1)}function pm(n,e,t){let r;if(Ca(n)){const i=Ye(n);return xi(i)||Nh(i)}if(gm(n))r=()=>Ye(n.useValue);else if(function Ob(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Iu(n.deps||[]));else if(function Rb(n){return!(!n||!n.useExisting)}(n))r=()=>me(Ye(n.useExisting));else{const i=Ye(n&&(n.useClass||n.provide));if(!function u(n){return!!n.deps}(n))return xi(i)||Nh(i);r=()=>new i(...Iu(n.deps))}return r}function ba(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function gm(n){return null!==n&&"object"==typeof n&&Up in n}function Ca(n){return"function"==typeof n}let m=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return hm({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return hm({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=aa,n.NULL=new cm,n.\u0275prov=He({token:n,providedIn:"any",factory:()=>me(Oh)}),n.__NG_ELEMENT_ID__=-1,n})();function yI(n,e){Ja(jd(n)[1],Zt())}function Wt(n){let e=function $w(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if($(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ge(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=kb(n.inputs),o.declaredInputs=kb(n.declaredInputs),o.outputs=kb(n.outputs);const l=i.hostBindings;l&&wI(n,l);const c=i.viewQuery,d=i.contentQueries;if(c&&CI(n,c),d&&EI(n,d),Uc(n.inputs,i.inputs),Uc(n.declaredInputs,i.declaredInputs),Uc(n.outputs,i.outputs),$(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(n),l===Wt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function bI(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mu(i.hostAttrs,t=mu(t,i.hostAttrs))}}(r)}function kb(n){return n===Fn?{}:n===jt?[]:n}function CI(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function EI(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function wI(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let mm=null;function Yu(){if(!mm){const n=Ft.Symbol;if(n&&n.iterator)mm=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(mm=r)}}}return mm}function Lh(n){return!!Nb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Yu()in n)}function Nb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ws(n,e,t){return n[e]=t}function Cr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Sl(n,e,t,r){const i=Cr(n,e,t);return Cr(n,e+1,r)||i}function _i(n,e,t,r){const i=ne();return Cr(i,Yo(),e)&&(bt(),ji(rn(),i,n,e,t,r)),_i}function tc(n,e,t,r,i,s,o,l){const d=function _m(n,e,t,r,i){const s=Sl(n,e,t,r);return Cr(n,e+2,i)||s}(n,ns(),t,i,o);return rs(3),d?e+Ge(t)+r+Ge(i)+s+Ge(o)+l:Ue}function Zn(n,e,t,r,i,s,o,l){const c=ne(),d=bt(),f=n+20,g=d.firstCreatePass?function II(n,e,t,r,i,s,o,l,c){const d=e.consts,f=ma(e,n,4,o||null,Ps(d,l));wh(e,t,f,Ps(d,c)),Ja(e,f);const g=f.tViews=fs(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d);return null!==e.queries&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}(f,d,c,e,t,r,i,s,o):d.data[f];Oi(g,!1);const _=c[11].createComment("");$u(d,c,_,g),qn(_,c),Bn(c,c[f]=im(_,c,_,g)),x(g)&&bh(d,c,g),null!=o&&Ch(c,g,l)}function vm(n){return Ri(function Lv(){return Ne.lFrame.contextLView}(),20+n)}function J(n,e=Ke.Default){const t=ne();return null===t?me(n,e):wd(Zt(),t,Ye(n),e)}function Ub(){throw new Error("invalid")}function xt(n,e,t){const r=ne();return Cr(r,Yo(),e)&&function Rr(n,e,t,r,i,s,o,l){const c=pr(e,t);let f,d=e.inputs;!l&&null!=d&&(f=d[r])?(um(n,t,f,r,i),uo(e)&&function ub(n,e){const t=Wn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function lb(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,dt(s)?s.setProperty(c,r,i):rl(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}(bt(),rn(),r,n,e,r[11],t,!1),xt}function jb(n,e,t,r,i){const o=i?"class":"style";um(n,t,e.inputs[o],o,r)}function et(n,e,t,r){const i=ne(),s=bt(),o=20+n,l=i[11],c=i[o]=Jd(l,e,function qr(){return Ne.lFrame.currentNamespace}()),d=s.firstCreatePass?function YI(n,e,t,r,i,s,o){const l=e.consts,d=ma(e,n,2,i,Ps(l,s));return wh(e,t,d,Ps(l,o)),null!==d.attrs&&ya(d,d.attrs,!1),null!==d.mergedAttrs&&ya(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}(o,s,i,0,e,t,r):s.data[o];Oi(d,!0);const f=d.mergedAttrs;null!==f&&nl(l,c,f);const g=d.classes;null!==g&&xr(l,c,g);const _=d.styles;return null!==_&&Rg(l,c,_),64!=(64&d.flags)&&$u(s,i,c,d),0===function vp(){return Ne.lFrame.elementDepthCount}()&&qn(c,i),function y(){Ne.lFrame.elementDepthCount++}(),x(d)&&(bh(s,i,d),function Kg(n,e,t){if(qc(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,d,i)),null!==r&&Ch(i,d),et}function tt(){let n=Zt();ld()?function ud(){Ne.lFrame.isParent=!1}():(n=n.parent,Oi(n,!1));const e=n;!function Zo(){Ne.lFrame.elementDepthCount--}();const t=bt();return t.firstCreatePass&&(Ja(t,n),qc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Ni(n){return 0!=(16&n.flags)}(e)&&jb(t,e,ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function _d(n){return 0!=(32&n.flags)}(e)&&jb(t,e,ne(),e.stylesWithoutHost,!1),tt}function ur(n,e,t,r){return et(n,e,t,r),tt(),ur}function Eo(){return ne()}function Vh(n){return!!n&&"function"==typeof n.then}function cD(n){return!!n&&"function"==typeof n.subscribe}const Kb=cD;function wt(n,e,t,r){const i=ne(),s=bt(),o=Zt();return function hD(n,e,t,r,i,s,o,l){const c=x(r),f=n.firstCreatePass&&am(n),g=e[8],_=om(e);let C=!0;if(3&r.type||l){const B=pr(r,e),G=l?l(B):B,H=_.length,Y=l?he=>l(un(he[r.index])):r.index;if(dt(t)){let he=null;if(!l&&c&&(he=function JI(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const l=e[7],c=i[s+2];return l.length>c?l[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==he)(he.__ngLastListenerFn__||he).__ngNextListenerFn__=s,he.__ngLastListenerFn__=s,C=!1;else{s=Gb(r,e,g,s,!1);const $e=t.listen(G,i,s);_.push(s,$e),f&&f.push(i,Y,H,H+1)}}else s=Gb(r,e,g,s,!0),G.addEventListener(i,s,o),_.push(s),f&&f.push(i,Y,H,o)}else s=Gb(r,e,g,s,!1);const w=r.outputs;let I;if(C&&null!==w&&(I=w[i])){const B=I.length;if(B)for(let G=0;G<B;G+=2){const zt=e[I[G]][I[G+1]].subscribe(s),tn=_.length;_.push(s,zt),f&&f.push(i,r.index,tn,-(tn+1))}}}(s,i,i[11],o,n,e,!!t,r),wt}function fD(n,e,t,r){try{return!1!==t(r)}catch(i){return lm(n,i),!1}}function Gb(n,e,t,r,i){return function s(o){if(o===Function)return r;const l=2&n.flags?Wn(n.index,e):e;0==(32&e[2])&&El(l);let c=fD(e,0,r,o),d=s.__ngNextListenerFn__;for(;d;)c=fD(e,0,d,o)&&c,d=d.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function St(n=1){return function gd(n){return(Ne.lFrame.contextLView=function Ya(n,e){for(;n>0;)e=e[15],n--;return e}(n,Ne.lFrame.contextLView))[8]}(n)}function wD(n,e,t,r,i){const s=n[t+1],o=null===e;let l=r?gi(s):cs(s),c=!1;for(;0!==l&&(!1===c||o);){const f=n[l+1];sx(n[l],e)&&(c=!0,n[l+1]=r?yl(f):lh(f)),l=r?gi(f):cs(f)}c&&(n[t+1]=r?lh(s):yl(s))}function sx(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&oa(n,e)>=0}function wo(n,e,t){return ms(n,e,t,!1),wo}function Al(n,e){return ms(n,e,null,!0),Al}function ms(n,e,t,r){const i=ne(),s=bt(),o=rs(2);s.firstUpdatePass&&function xD(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Tn()],o=function ID(n,e){return e>=n.expandoStartIndex}(n,t);(function kD(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function px(n,e,t,r){const i=function dd(n){const e=Ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Hh(t=qb(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=qb(i,n,e,t,r),null===s){let c=function gx(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==cs(r))return n[gi(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=qb(null,n,e,c[1],r),c=Hh(c,e.attrs,r),function mx(n,e,t,r){n[gi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function _x(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Hh(r,n[s].hostAttrs,t);return Hh(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function rx(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,l=gi(o),c=cs(o);n[r]=t;let f,d=!1;if(Array.isArray(t)){const g=t;f=g[1],(null===f||oa(g,f)>0)&&(d=!0)}else f=t;if(i)if(0!==c){const _=gi(n[l+1]);n[r+1]=Gu(_,l),0!==_&&(n[_+1]=zu(n[_+1],r)),n[l+1]=function eb(n,e){return 131071&n|e<<17}(n[l+1],r)}else n[r+1]=Gu(l,0),0!==l&&(n[l+1]=zu(n[l+1],r)),l=r;else n[r+1]=Gu(c,0),0===l?l=r:n[c+1]=zu(n[c+1],r),c=r;d&&(n[r+1]=lh(n[r+1])),wD(n,f,r,!0),wD(n,f,r,!1),function ix(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&oa(s,e)>=0&&(t[r+1]=yl(t[r+1]))}(e,f,n,r,s),o=Gu(l,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==Ue&&Cr(i,o,e)&&function OD(n,e,t,r,i,s,o,l){if(!(3&e.type))return;const c=n.data,d=c[l+1];bm(function pa(n){return 1==(1&n)}(d)?FD(c,e,t,i,cs(d),o):void 0)||(bm(s)||function Lg(n){return 2==(2&n)}(d)&&(s=FD(c,null,t,i,l,o)),function qy(n,e,t,r,i){const s=dt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Ir.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const l="string"==typeof i&&i.endsWith("!important");l&&(i=i.slice(0,-10),o|=Ir.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,l?"important":"")}}}(r,o,As(Tn(),t),i,s))}(s,s.data[Tn()],i,i[11],n,i[o+1]=function bx(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ot(Ls(n)))),n}(e,t),r,o)}function qb(n,e,t,r,i){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=e[l],r=Hh(r,s.hostAttrs,i),s!==n);)l++;return null!==n&&(t.directiveStylingLast=l),r}function Hh(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),mr(n,o,!!t||e[++s]))}return void 0===n?null:n}function FD(n,e,t,r,i,s){const o=null===e;let l;for(;i>0;){const c=n[i],d=Array.isArray(c),f=d?c[1]:c,g=null===f;let _=t[i+1];_===Ue&&(_=g?jt:void 0);let C=g?Su(_,r):f===r?_:void 0;if(d&&!bm(C)&&(C=Su(c,r)),bm(C)&&(l=C,o))return l;const w=n[i+1];i=o?gi(w):cs(w)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(l=Su(c,r))}return l}function bm(n){return void 0!==n}function on(n,e=""){const t=ne(),r=bt(),i=n+20,s=r.firstCreatePass?ma(r,i,1,e,null):r.data[i],o=t[i]=function Xd(n,e){return dt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);$u(r,t,o,s),Oi(s,!1)}function Cm(n){return Ea("",n,""),Cm}function Ea(n,e,t){const r=ne(),i=function Ju(n,e,t,r){return Cr(n,Yo(),t)?e+Ge(t)+r:Ue}(r,n,e,t);return i!==Ue&&ps(r,Tn(),i),Ea}function Qb(n,e,t,r,i){const s=ne(),o=function ec(n,e,t,r,i,s){const l=Sl(n,ns(),t,i);return rs(2),l?e+Ge(t)+r+Ge(i)+s:Ue}(s,n,e,t,r,i);return o!==Ue&&ps(s,Tn(),o),Qb}function Zb(n,e,t,r,i,s,o){const l=ne(),c=tc(l,n,e,t,r,i,s,o);return c!==Ue&&ps(l,Tn(),c),Zb}const Em="en-US";let tS=Em;function Jb(n,e,t,r,i){if(n=Ye(n),Array.isArray(n))for(let s=0;s<n.length;s++)Jb(n[s],e,t,r,i);else{const s=bt(),o=ne();let l=Ca(n)?n:Ye(n.provide),c=pm(n);const d=Zt(),f=1048575&d.providerIndexes,g=d.directiveStart,_=d.providerIndexes>>20;if(Ca(n)||!n.multi){const C=new tl(c,i,J),w=tC(l,e,i?f:f+_,g);-1===w?(il(ea(d,o),s,l),eC(s,n,e.length),e.push(l),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),t.push(C),o.push(C)):(t[w]=C,o[w]=C)}else{const C=tC(l,e,f+_,g),w=tC(l,e,f,f+_),I=C>=0&&t[C],B=w>=0&&t[w];if(i&&!B||!i&&!I){il(ea(d,o),s,l);const G=function VR(n,e,t,r,i){const s=new tl(n,t,J);return s.multi=[],s.index=e,s.componentProviders=0,SS(s,i,r&&!t),s}(i?BR:LR,t.length,i,r,c);!i&&B&&(t[w].providerFactory=G),eC(s,n,e.length,0),e.push(l),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),t.push(G),o.push(G)}else eC(s,n,C>-1?C:w,SS(t[i?w:C],c,!i&&r));!i&&r&&B&&t[w].componentProviders++}}}function eC(n,e,t,r){const i=Ca(e),s=function a(n){return!!n.useClass}(e);if(i||s){const c=(s?Ye(e.useClass):e).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=d.indexOf(t);-1===f?d.push(t,[r,c]):d[f+1].push(r,c)}else d.push(t,c)}}}function SS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function LR(n,e,t,r){return nC(this.multi,[])}function BR(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=ta(t,t[1],this.providerFactory.index,r);s=l.slice(0,o),nC(i,s);for(let c=o;c<l.length;c++)s.push(l[c])}else s=[],nC(i,s);return s}function nC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function an(n,e=[]){return t=>{t.providersResolver=(r,i)=>function NR(n,e,t){const r=bt();if(r.firstCreatePass){const i=$(n);Jb(t,r.data,r.blueprint,i,!0),Jb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class AS{}class jR{resolveComponentFactory(e){throw function UR(n){const e=Error(`No component factory found for ${Ot(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Kh=(()=>{class n{}return n.NULL=new jR,n})();function $R(){return dc(Zt(),ne())}function dc(n,e){return new Fr(pr(n,e))}let Fr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=$R,n})();function WR(n){return n instanceof Fr?n.nativeElement:n}class Gh{}let Do=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function GR(){const n=ne(),t=Wn(Zt().index,n);return function KR(n){return n[11]}(Ii(t)?t:n)}(),n})(),zR=(()=>{class n{}return n.\u0275prov=He({token:n,providedIn:"root",factory:()=>null}),n})();class zh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qR=new zh("13.3.1"),rC={};function Pm(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(un(s)),li(s))for(let l=10;l<s.length;l++){const c=s[l],d=c[1].firstChild;null!==d&&Pm(c[1],c,d,r)}const o=t.type;if(8&o)Pm(n,e,t.child,r);else if(32&o){const l=zd(t,e);let c;for(;c=l();)r.push(c)}else if(16&o){const l=Mg(e,t);if(Array.isArray(l))r.push(...l);else{const c=gl(e[16]);Pm(c[1],c,l,r,!0)}}t=i?t.projectionNext:t.next}return r}class qh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Pm(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(li(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(fa(e,r),Du(t,r))}this._attachedToViewContainer=!1}Dg(this._lView[1],this._lView)}onDestroy(e){Qg(this._lView[1],this._lView,null,e)}markForCheck(){El(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ih(n,e,t){du(!0);try{Mh(n,e,t)}finally{du(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ge(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uy(n,e){vl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ge(902,"");this._appRef=e}}class QR extends qh{constructor(e){super(e),this._view=e}detectChanges(){sm(this._view)}checkNoChanges(){!function Sb(n){du(!0);try{sm(n)}finally{du(!1)}}(this._view)}get context(){return null}}class TS extends Kh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=kn(e);return new iC(t,this.ngModule)}}function MS(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class iC extends AS{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function us(n){return n.map(Jy).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return MS(this.componentDef.inputs)}get outputs(){return MS(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function YR(n,e){return{get:(t,r,i)=>{const s=n.get(t,rC,i);return s!==rC||r===rC?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Gh,gp),l=s.get(zR,null),c=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=r?function qg(n,e,t){if(dt(n))return n.selectRootElement(e,t===jr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(c,r,this.componentDef.encapsulation):Jd(o.createRenderer(null,this.componentDef),d,function ZR(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(d)),g=this.componentDef.onPush?576:528,_=function jw(n,e){return{components:[],scheduler:n||Oy,clean:Ab,playerHandler:e||null,flags:0}}(),C=fs(0,null,null,1,0,null,null,null,null,null),w=bl(null,C,_,g,null,null,o,c,l,s);let I,B;hu(w);try{const G=function Hw(n,e,t,r,i,s){const o=t[1];t[20]=n;const c=ma(o,20,2,"#host",null),d=c.mergedAttrs=e.hostAttrs;null!==d&&(ya(c,d,!0),null!==n&&(nl(i,n,d),null!==c.classes&&xr(i,n,c.classes),null!==c.styles&&Rg(i,n,c.styles)));const f=r.createRenderer(n,e),g=bl(t,Gg(e),null,e.onPush?64:16,t[20],c,r,f,s||null,null);return o.firstCreatePass&&(il(ea(c,t),o,e.type),em(o,c),tm(c,t.length,1)),Bn(t,g),t[20]=g}(f,this.componentDef,w,o,c);if(f)if(r)nl(c,f,["ng-version",qR.full]);else{const{attrs:H,classes:Y}=function Ng(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!pi(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);H&&nl(c,f,H),Y&&Y.length>0&&xr(c,f,Y.join(" "))}if(B=fo(C,20),void 0!==t){const H=B.projection=[];for(let Y=0;Y<this.ngContentSelectors.length;Y++){const he=t[Y];H.push(null!=he?Array.from(he):null)}}I=function Uw(n,e,t,r,i){const s=t[1],o=function db(n,e,t){const r=Zt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),nm(n,r,e,_a(n,e,1,null),t));const i=ta(e,n,r.directiveStart,r);qn(i,e);const s=pr(r,e);return s&&qn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(c=>c(o,e)),e.contentQueries){const c=Zt();e.contentQueries(1,o,c.directiveStart)}const l=Zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ms(l.index),Xg(t[1],l,0,l.directiveStart,l.directiveEnd,e),Jg(e,o)),o}(G,this.componentDef,w,_,[yI]),Cl(C,w,null)}finally{fu()}return new JR(this.componentType,I,dc(B,w),w,B)}}class JR extends class HR{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new QR(i),this.componentType=e}get injector(){return new na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class So{}class IS{}const hc=new Map;class OS extends So{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new TS(this);const r=Ar(e);this._bootstrapComponents=Ui(r.bootstrap),this._r3Injector=fm(e,t,[{provide:So,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver}],Ot(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=m.THROW_IF_NOT_FOUND,r=Ke.Default){return e===m||e===So||e===Oh?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sC extends IS{constructor(e){super(),this.moduleType=e,null!==Ar(e)&&function tO(n){const e=new Set;!function t(r){const i=Ar(r,!0),s=i.id;null!==s&&(function xS(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ot(e)} vs ${Ot(e.name)}`)}(s,hc.get(s),r),hc.set(s,r));const o=Ui(i.imports);for(const l of o)e.has(l)||(e.add(l),t(l))}(n)}(e)}create(e){return new OS(this.moduleType,e)}}function kS(n,e,t,r,i,s){const o=e+t;return Cr(n,o,i)?Ws(n,o+1,s?r.call(s,i):r(i)):function Qh(n,e){const t=n[e];return t===Ue?void 0:t}(n,o+1)}function Tm(n,e){const t=bt();let r;const i=n+20;t.firstCreatePass?(r=function dO(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=xi(r.type)),o=ws(J);try{const l=vu(!1),c=s();return vu(l),function xI(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ne(),i,c),c}finally{ws(o)}}function Mm(n,e,t){const r=n+20,i=ne(),s=Ri(i,r);return function Zh(n,e){return n[1].data[e].pure}(i,r)?kS(i,or(),e,s.transform,t,s):s.transform(t)}function oC(n){return e=>{setTimeout(n,void 0,e)}}const Mt=class mO extends Be{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let l=e,c=t||(()=>null),d=r;if(e&&"object"==typeof e){const g=e;l=null===(i=g.next)||void 0===i?void 0:i.bind(g),c=null===(s=g.error)||void 0===s?void 0:s.bind(g),d=null===(o=g.complete)||void 0===o?void 0:o.bind(g)}this.__isAsync&&(c=oC(c),l&&(l=oC(l)),d&&(d=oC(d)));const f=super.subscribe({next:l,error:c,complete:d});return e instanceof R&&e.add(f),f}};function _O(){return this._results[Yu()]()}class aC{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Yu(),r=aC.prototype;r[t]||(r[t]=_O)}get changes(){return this._changes||(this._changes=new Mt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=gr(e);(this._changesDetected=!function Np(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ao=(()=>{class n{}return n.__NG_ELEMENT_ID__=bO,n})();const vO=Ao,yO=class extends vO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=bl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Cl(t,r,e),new qh(r)}};function bO(){return Im(Zt(),ne())}function Im(n,e){return 4&n.type?new yO(e,n,dc(n,e)):null}let Ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=CO,n})();function CO(){return jS(Zt(),ne())}const EO=Ki,HS=class extends EO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new na(this._hostTNode,this._hostLView)}get parentInjector(){const e=yu(this._hostTNode,this._hostLView);if(Ap(e)){const t=Li(e,this._hostLView),r=xs(e);return new na(t[1].data[r+8],t)}return new na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=US(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function sa(n){return"function"==typeof n}(e);let l;if(o)l=t;else{const g=t||{};l=g.index,r=g.injector,i=g.projectableNodes,s=g.ngModuleRef}const c=o?e:new iC(kn(e)),d=r||this.parentInjector;if(!s&&null==c.ngModule){const _=(o?d:this.parentInjector).get(So,null);_&&(s=_)}const f=c.create(d,i,void 0,s);return this.insert(f.hostView,l),f}insert(e,t){const r=e._lView,i=r[1];if(function Nv(n){return li(n[3])}(r)){const f=this.indexOf(e);if(-1!==f)this.detach(f);else{const g=r[3],_=new HS(g,g[6],g[3]);_.detach(_.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function $y(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],ss(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function Wy(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const l=e[19];null!==l&&l.insertView(n),e[2]|=128}(i,r,o,s);const l=sh(s,o),c=r[11],d=Uu(c,o[7]);return null!==d&&function Hy(n,e,t,r,i,s){r[0]=i,r[6]=e,vl(n,r,t,1,i,s)}(i,o[6],c,r,d,l),e.attachToViewContainerRef(),ss(lC(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=US(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=fa(this._lContainer,t);r&&(Du(lC(this._lContainer),t),Dg(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=fa(this._lContainer,t);return r&&null!=Du(lC(this._lContainer),t)?new qh(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function US(n){return n[8]}function lC(n){return n[8]||(n[8]=[])}function jS(n,e){let t;const r=e[n.index];if(li(r))t=r;else{let i;if(8&n.type)i=un(r);else{const s=e[11];i=s.createComment("");const o=pr(n,e);Vs(s,Uu(s,o),i,function ju(n,e){return dt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=im(r,e,i,n),Bn(e,t)}return new HS(t,n,e)}class uC{constructor(e){this.queryList=e,this.matches=null}clone(){return new uC(this.queryList)}setDirty(){this.queryList.setDirty()}}class cC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new cC(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zS(e,t).matches&&this.queries[t].setDirty()}}class $S{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class dC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new dC(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class hC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new hC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,SO(t,s)),this.matchTNodeWithReadOption(e,t,Eu(t,e,s,!1,!1))}else r===Ao?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Eu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Fr||i===Ki||i===Ao&&4&t.type)this.addMatch(t.index,-2);else{const s=Eu(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function SO(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function PO(n,e,t,r){return-1===t?function AO(n,e){return 11&n.type?dc(n,e):4&n.type?Im(n,e):null}(e,n):-2===t?function TO(n,e,t){return t===Fr?dc(e,n):t===Ao?Im(e,n):t===Ki?jS(e,n):void 0}(n,e,r):ta(n,n[1],t,e)}function WS(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,l=[];for(let c=0;c<o.length;c+=2){const d=o[c];l.push(d<0?null:PO(e,s[d],o[c+1],t.metadata.read))}i.matches=l}return i.matches}function fC(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=WS(n,e,i,t);for(let l=0;l<s.length;l+=2){const c=s[l];if(c>0)r.push(o[l/2]);else{const d=s[l+1],f=e[-c];for(let g=10;g<f.length;g++){const _=f[g];_[17]===_[3]&&fC(_[1],_,d,r)}if(null!==f[9]){const g=f[9];for(let _=0;_<g.length;_++){const C=g[_];fC(C[1],C,d,r)}}}}}return r}function zs(n){const e=ne(),t=bt(),r=zr();hd(r+1);const i=zS(t,r);if(n.dirty&&po(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?fC(t,e,r,[]):WS(t,e,i,r);n.reset(s,WR),n.notifyOnChanges()}return!0}return!1}function Yh(n,e,t){const r=bt();r.firstCreatePass&&(GS(r,new $S(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),KS(r,ne(),e)}function fc(n,e,t,r){const i=bt();if(i.firstCreatePass){const s=Zt();GS(i,new $S(e,t,r),s.index),function IO(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}KS(i,ne(),t)}function qs(){return function MO(n,e){return n[19].queries[e].queryList}(ne(),zr())}function KS(n,e,t){const r=new aC(4==(4&t));Qg(n,e,r,r.destroy),null===e[19]&&(e[19]=new cC),e[19].queries.push(new uC(r))}function GS(n,e,t){null===n.queries&&(n.queries=new dC),n.queries.track(new hC(e,t))}function zS(n,e){return n.queries.getByIndex(e)}function qS(n,e){return Im(n,e)}function Om(...n){}const yC=new xe("Application Initializer");let bC=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Om,this.reject=Om,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Vh(s))t.push(s);else if(Kb(s)){const o=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(me(yC,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jh=new xe("AppId",{providedIn:"root",factory:function dA(){return`${CC()}${CC()}${CC()}`}});function CC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hA=new xe("Platform Initializer"),Fm=new xe("Platform ID"),fA=new xe("appBootstrapListener");let pA=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();const wa=new xe("LocaleId",{providedIn:"root",factory:()=>al(wa,Ke.Optional|Ke.SkipSelf)||function zO(){return"undefined"!=typeof $localize&&$localize.locale||Em}()});class QO{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let gA=(()=>{class n{compileModuleSync(t){return new sC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ui(Ar(t).declarations).reduce((o,l)=>{const c=kn(l);return c&&o.push(new iC(c)),o},[]);return new QO(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YO=(()=>Promise.resolve(0))();function EC(n){"undefined"==typeof Zone?YO.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class hn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function XO(){let n=Ft.requestAnimationFrame,e=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function tF(n){const e=()=>{!function eF(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ft,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,DC(n),n.isCheckStableRunning=!0,wC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),DC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,l)=>{try{return mA(n),t.invokeTask(i,s,o,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),_A(n)}},onInvoke:(t,r,i,s,o,l,c)=>{try{return mA(n),t.invoke(i,s,o,l,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),_A(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,DC(n),wC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,JO,Om,Om);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const JO={};function wC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function DC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _A(n){n._nesting--,wC(n)}class nF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let SC=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hn.assertNotInAngularZone(),EC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())EC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(me(hn))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),vA=(()=>{class n{constructor(){this._applications=new Map,AC.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return AC.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();class rF{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let vs,AC=new rF;const yA=new xe("AllowMultipleToken");class bA{constructor(e,t){this.name=e,this.token=t}}function CA(n,e,t=[]){const r=`Platform: ${e}`,i=new xe(r);return(s=[])=>{let o=EA();if(!o||o.injector.get(yA,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const l=t.concat(s).concat({provide:i,useValue:!0},{provide:Fh,useValue:"platform"});!function aF(n){if(vs&&!vs.destroyed&&!vs.injector.get(yA,!1))throw new ge(400,"");vs=n.get(wA);const e=n.get(hA,null);e&&e.forEach(t=>t())}(m.create({providers:l,name:r}))}return function lF(n){const e=EA();if(!e)throw new ge(401,"");return e}()}}function EA(){return vs&&!vs.destroyed?vs:null}let wA=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const l=function uF(n,e){let t;return t="noop"===n?new nF:("zone.js"===n?void 0:n)||new hn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:hn,useValue:l}];return l.run(()=>{const d=m.create({providers:c,parent:this.injector,name:t.moduleType.name}),f=t.create(d),g=f.injector.get(pl,null);if(!g)throw new ge(402,"");return l.runOutsideAngular(()=>{const _=l.onError.subscribe({next:C=>{g.handleError(C)}});f.onDestroy(()=>{TC(this._modules,f),_.unsubscribe()})}),function cF(n,e,t){try{const r=t();return Vh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(g,l,()=>{const _=f.injector.get(bC);return _.runInitializers(),_.donePromise.then(()=>(function Kx(n){hr(n,"Expected localeId to be defined"),"string"==typeof n&&(tS=n.toLowerCase().replace(/_/g,"-"))}(f.injector.get(wa,Em)||Em),this._moduleDoBootstrap(f),f))})})}bootstrapModule(t,r=[]){const i=DA({},r);return function sF(n,e,t){const r=new sC(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(PC);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ge(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(me(m))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();function DA(n,e){return Array.isArray(e)?e.reduce(DA,n):Object.assign(Object.assign({},n),e)}let PC=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new Ae(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),c=new Ae(d=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{hn.assertNotInAngularZone(),EC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{hn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=Xl(l,c.pipe(function qf(n={}){const{connector:e=(()=>new Be),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,l=null,c=null,d=0,f=!1,g=!1;const _=()=>{null==l||l.unsubscribe(),l=null},C=()=>{_(),o=c=null,f=g=!1},w=()=>{const I=o;C(),null==I||I.unsubscribe()};return ve((I,B)=>{d++,!g&&!f&&_();const G=c=null!=c?c:e();B.add(()=>{d--,0===d&&!g&&!f&&(l=Hc(w,i))}),G.subscribe(B),o||(o=new Ee({next:H=>G.next(H),error:H=>{g=!0,_(),l=Hc(C,t,H),G.error(H)},complete:()=>{f=!0,_(),l=Hc(C,r),G.complete()}}),wn(I).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new ge(405,"");let i;i=t instanceof AS?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function oF(n){return n.isBoundToModule}(i)?void 0:this._injector.get(So),l=i.create(m.NULL,[],r||i.selector,s),c=l.location.nativeElement,d=l.injector.get(SC,null),f=d&&l.injector.get(vA);return d&&f&&f.registerApplication(c,d),l.onDestroy(()=>{this.detachView(l.hostView),TC(this.components,l),f&&f.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ge(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;TC(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fA,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(me(hn),me(m),me(pl),me(Kh),me(bC))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let AA=!0,gc=(()=>{class n{}return n.__NG_ELEMENT_ID__=fF,n})();function fF(n){return function pF(n,e,t){if(uo(n)&&!t){const r=Wn(n.index,e);return new qh(r,r)}return 47&n.type?new qh(e[16],e):null}(Zt(),ne(),16==(16&n))}class xA{constructor(){}supports(e){return Lh(e)}create(e){return new bF(e)}}const yF=(n,e)=>e;class bF{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yF}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<OA(r,i,s)?t:r,l=OA(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const d=l-i,f=c-i;if(d!=f){for(let _=0;_<d;_++){const C=_<s.length?s[_]:s[_]=0,w=C+_;f<=w&&w<d&&(s[_]=C+1)}s[o.previousIndex]=f-d}}l!==c&&e(o,l,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Lh(e))throw new ge(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)s=e[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),r=!0),t=t._next}else i=0,function MI(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Yu()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,l=>{o=this._trackByFn(i,l),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,l,o,i)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new CF(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new RA),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class CF{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EF{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class RA{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new EF,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OA(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class FA{constructor(){}supports(e){return e instanceof Map||Nb(e)}create(){return new wF}}class wF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Nb(e)))throw new ge(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new DF(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class DF{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kA(){return new Lm([new xA])}let Lm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||kA()),deps:[[n,new la,new as]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new ge(901,"")}}return n.\u0275prov=He({token:n,providedIn:"root",factory:kA}),n})();function NA(){return new ef([new FA])}let ef=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||NA()),deps:[[n,new la,new as]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new ge(901,"")}}return n.\u0275prov=He({token:n,providedIn:"root",factory:NA}),n})();const PF=CA(null,"core",[{provide:Fm,useValue:"unknown"},{provide:wA,deps:[m]},{provide:vA,deps:[]},{provide:pA,deps:[]}]);let TF=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(me(PC))},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({}),n})(),Bm=null;function Qs(){return Bm}const Hn=new xe("DocumentToken");let Ml=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:function(){return function RF(){return me(LA)}()},providedIn:"platform"}),n})();const OF=new xe("Location Initialized");let LA=(()=>{class n extends Ml{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qs().getBaseHref(this._doc)}onPopState(t){const r=Qs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Qs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){BA()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){BA()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(me(Hn))},n.\u0275prov=He({token:n,factory:function(){return function FF(){return new LA(me(Hn))}()},providedIn:"platform"}),n})();function BA(){return!!window.history.pushState}function OC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function VA(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Po(n){return n&&"?"!==n[0]?"?"+n:n}let mc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:function(){return function kF(n){const e=me(Hn).location;return new HA(me(Ml),e&&e.origin||"")}()},providedIn:"root"}),n})();const FC=new xe("appBaseHref");let HA=(()=>{class n extends mc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return OC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Po(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Po(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Po(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(me(Ml),me(FC,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),NF=(()=>{class n extends mc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=OC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Po(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Po(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(me(Ml),me(FC,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),kC=(()=>{class n{constructor(t,r){this._subject=new Mt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=VA(UA(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Po(r))}normalize(t){return n.stripTrailingSlash(function BF(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,UA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Po(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Po(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Po,n.joinWithSlash=OC,n.stripTrailingSlash=VA,n.\u0275fac=function(t){return new(t||n)(me(mc),me(Ml))},n.\u0275prov=He({token:n,factory:function(){return function LF(){return new kC(me(mc),me(Ml))}()},providedIn:"root"}),n})();function UA(n){return n.replace(/\/index.html$/,"")}let ZA=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Lh(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ot(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(J(Lm),J(ef),J(Fr),J(Do))},n.\u0275dir=ke({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class wk{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qm=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wk(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const l=r.get(s);r.move(l,o),YA(l,i)}});for(let i=0,s=r.length;i<s;i++){const l=r.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{YA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(J(Ki),J(Ao),J(Lm))},n.\u0275dir=ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function YA(n,e){n.context.$implicit=e.item}let Qm=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Dk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(J(Ki),J(Ao))},n.\u0275dir=ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Dk{constructor(){this.$implicit=null,this.ngIf=null}}function XA(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ot(e)}'.`)}let eP=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(J(Fr),J(ef),J(Do))},n.\u0275dir=ke({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class Mk{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ik{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const xk=new Ik,Rk=new Mk;let tP=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Vh(t))return xk;if(cD(t))return Rk;throw function bs(n,e){return new ge(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(J(gc,16))},n.\u0275pipe=sr({name:"async",type:n,pure:!1}),n})(),nP=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=rP}transform(t,r=rP){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function $k(n,e){return{key:n,value:e}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(J(ef,16))},n.\u0275pipe=sr({name:"keyvalue",type:n,pure:!1}),n})();function rP(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let iP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({}),n})();const sP="browser";let Xk=(()=>{class n{}return n.\u0275prov=He({token:n,providedIn:"root",factory:()=>new Jk(me(Hn),window)}),n})();class Jk{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function eN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oP(this.window.history)||oP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function oP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class QC extends class nN extends class xF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function IF(n){Bm||(Bm=n)}(new QC)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rN(){return rf=rf||document.querySelector("base"),rf?rf.getAttribute("href"):null}();return null==t?null:function iN(n){Zm=Zm||document.createElement("a"),Zm.setAttribute("href",n);const e=Zm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ck(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Zm,rf=null;const aP=new xe("TRANSITION_ID"),oN=[{provide:yC,useFactory:function sN(n,e,t){return()=>{t.get(bC).donePromise.then(()=>{const r=Qs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[aP,Hn,m],multi:!0}];class ZC{static init(){!function iF(n){AC=n}(new ZC)}addToWindow(e){Ft.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ft.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ft.getAllAngularRootElements=()=>e.getAllRootElements(),Ft.frameworkStabilizers||(Ft.frameworkStabilizers=[]),Ft.frameworkStabilizers.push(r=>{const i=Ft.getAllAngularTestabilities();let s=i.length,o=!1;const l=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(l)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Qs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let aN=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();const Ym=new xe("EventManagerPlugins");let Xm=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(me(Ym),me(hn))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();class lP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Qs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let uP=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),sf=(()=>{class n extends uP{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(cP),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cP))}}return n.\u0275fac=function(t){return new(t||n)(me(Hn))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();function cP(n){Qs().remove(n)}const YC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},XC=/%COMP%/g;function Jm(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Jm(n,i,t):(i=i.replace(XC,n),t.push(i))}return t}function fP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let e_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new JC(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case jr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case jr.ShadowDom:return new pN(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Jm(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(me(Xm),me(sf),me(Jh))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();class JC{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(YC[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=YC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=YC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ir.DashCase|Ir.Important)?e.style.setProperty(t,r,i&Ir.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ir.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fP(r)):this.eventManager.addEventListener(e,t,fP(r))}}class fN extends JC{constructor(e,t,r,i){super(e),this.component=r;const s=Jm(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function cN(n){return"_ngcontent-%COMP%".replace(XC,n)}(i+"-"+r.id),this.hostAttr=function dN(n){return"_nghost-%COMP%".replace(XC,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class pN extends JC{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Jm(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gN=(()=>{class n extends lP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(me(Hn))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();const gP=["alt","control","meta","shift"],_N={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mP={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let yN=(()=>{class n extends lP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(gP.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static getEventFullKey(t){let r="",i=function bN(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&mP.hasOwnProperty(e)&&(e=mP[e]))}return _N[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gP.forEach(s=>{s!=i&&vN[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(me(Hn))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();const DN=CA(PF,"browser",[{provide:Fm,useValue:sP},{provide:hA,useValue:function CN(){QC.makeCurrent(),ZC.init()},multi:!0},{provide:Hn,useFactory:function wN(){return function Ov(n){lu=n}(document),document},deps:[]}]),SN=[{provide:Fh,useValue:"root"},{provide:pl,useFactory:function EN(){return new pl},deps:[]},{provide:Ym,useClass:gN,multi:!0,deps:[Hn,hn,Fm]},{provide:Ym,useClass:yN,multi:!0,deps:[Hn]},{provide:e_,useClass:e_,deps:[Xm,sf,Jh]},{provide:Gh,useExisting:e_},{provide:uP,useExisting:sf},{provide:sf,useClass:sf,deps:[Hn]},{provide:SC,useClass:SC,deps:[hn]},{provide:Xm,useClass:Xm,deps:[Ym,hn]},{provide:class tN{},useClass:aN,deps:[]}];let _P=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Jh,useValue:t.appId},{provide:aP,useExisting:Jh},oN]}}}return n.\u0275fac=function(t){return new(t||n)(me(n,12))},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({providers:SN,imports:[iP,TF]}),n})();function ut(...n){return wn(n,Ha(n))}"undefined"!=typeof window&&window;class Nr extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:NN}=Array,{getPrototypeOf:LN,prototype:BN,keys:VN}=Object;function bP(n){if(1===n.length){const e=n[0];if(NN(e))return{args:e,keys:null};if(function HN(n){return n&&"object"==typeof n&&LN(n)===BN}(e)){const t=VN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:UN}=Array;function CP(n){return ct(e=>function jN(n,e){return UN(e)?n(...e):n(e)}(n,e))}function EP(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function wP(n,e,t){n?si(t,n,e):e()}function t_(n,e){const t=E(n)?n:()=>n,r=i=>i.error(t());return new Ae(e?i=>e.schedule(r,0,i):r)}const n_=v(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function t0(...n){return function KN(){return Va(1)}()(wn(n,Ha(n)))}function DP(n){return new Ae(e=>{Vr(n()).subscribe(e)})}function SP(){return ve((n,e)=>{let t=null;n._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class GN extends Ae{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Lo(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new R;const t=this.getSubject();e.add(this.source.subscribe(st(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=R.EMPTY)}return e}refCount(){return SP()(this)}}function Sa(n,e){return ve((t,r)=>{let i=null,s=0,o=!1;const l=()=>o&&!i&&r.complete();t.subscribe(st(r,c=>{null==i||i.unsubscribe();let d=0;const f=s++;Vr(n(c,f)).subscribe(i=st(r,g=>r.next(e?e(c,g,f,d++):g),()=>{i=null,l()}))},()=>{o=!0,l()}))})}function n0(...n){const e=Ha(n);return ve((t,r)=>{(e?t0(n,t,e):t0(n,t)).subscribe(r)})}function zN(n,e,t,r,i){return(s,o)=>{let l=t,c=e,d=0;s.subscribe(st(o,f=>{const g=d++;c=l?n(c,f,g):(l=!0,f),r&&o.next(c)},i&&(()=>{l&&o.next(c),o.complete()})))}}function AP(n,e){return ve(zN(n,e,arguments.length>=2,!0))}function _c(n,e){return ve((t,r)=>{let i=0;t.subscribe(st(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Aa(n){return ve((e,t)=>{let s,r=null,i=!1;r=e.subscribe(st(t,void 0,void 0,o=>{s=Vr(n(o,Aa(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function af(n,e){return E(e)?En(n,e,1):En(n,1)}function r0(n){return n<=0?()=>es:ve((e,t)=>{let r=[];e.subscribe(st(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function PP(n=qN){return ve((e,t)=>{let r=!1;e.subscribe(st(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qN(){return new n_}function TP(n){return ve((e,t)=>{let r=!1;e.subscribe(st(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function vc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_c((i,s)=>n(i,s,r)):nn,io(1),t?TP(e):PP(()=>new n_))}function ri(n,e,t){const r=E(n)||e||t?{next:n,error:e,complete:t}:n;return r?ve((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let l=!0;i.subscribe(st(s,c=>{var d;null===(d=r.next)||void 0===d||d.call(r,c),s.next(c)},()=>{var c;l=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var d;l=!1,null===(d=r.error)||void 0===d||d.call(r,c),s.error(c)},()=>{var c,d;l&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):nn}class Mo{constructor(e,t){this.id=e,this.url=t}}class s0 extends Mo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lf extends Mo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class MP extends Mo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class YN extends Mo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XN extends Mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JN extends Mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eL extends Mo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tL extends Mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nL extends Mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IP{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xP{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rL{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iL{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sL{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oL{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mt="primary";class aL{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yc(n){return new aL(n)}const OP="ngNavigationCancelingError";function o0(n){const e=Error("NavigationCancelingError: "+n);return e[OP]=!0,e}function uL(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],l=n[s];if(o.startsWith(":"))i[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!FP(n[i],e[i]))return!1;return!0}function FP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function kP(n){return Array.prototype.concat.apply([],n)}function NP(n){return n.length>0?n[n.length-1]:null}function cr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ys(n){return Kb(n)?n:Vh(n)?wn(Promise.resolve(n)):ut(n)}const hL={exact:function VP(n,e,t){if(!xl(n.segments,e.segments)||!r_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!VP(n.children[r],e.children[r],t))return!1;return!0},subset:HP},LP={exact:function fL(n,e){return Zs(n,e)},subset:function pL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FP(n[t],e[t]))},ignored:()=>!0};function BP(n,e,t){return hL[t.paths](n.root,e.root,t.matrixParams)&&LP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function HP(n,e,t){return UP(n,e,e.segments,t)}function UP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!xl(i,t)||e.hasChildren()||!r_(i,t,r))}if(n.segments.length===t.length){if(!xl(n.segments,t)||!r_(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!HP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(xl(n.segments,i)&&r_(n.segments,i,r)&&n.children[mt])&&UP(n.children[mt],e,s,r)}}function r_(n,e,t){return e.every((r,i)=>LP[t](n[i].parameters,r.parameters))}class Il{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yc(this.queryParams)),this._queryParamMap}toString(){return _L.serialize(this)}}class Ct{constructor(e,t){this.segments=e,this.children=t,this.parent=null,cr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return i_(this)}}class uf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yc(this.parameters)),this._parameterMap}toString(){return GP(this)}}function xl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class jP{}class $P{parse(e){const t=new AL(e);return new Il(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${cf(e.root,!0)}`,r=function bL(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${s_(t)}=${s_(i)}`).join("&"):`${s_(t)}=${s_(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function vL(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _L=new $P;function i_(n){return n.segments.map(e=>GP(e)).join("/")}function cf(n,e){if(!n.hasChildren())return i_(n);if(e){const t=n.children[mt]?cf(n.children[mt],!1):"",r=[];return cr(n.children,(i,s)=>{s!==mt&&r.push(`${s}:${cf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function mL(n,e){let t=[];return cr(n.children,(r,i)=>{i===mt&&(t=t.concat(e(r,i)))}),cr(n.children,(r,i)=>{i!==mt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===mt?[cf(n.children[mt],!1)]:[`${i}:${cf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mt]?`${i_(n)}/${t[0]}`:`${i_(n)}/(${t.join("//")})`}}function WP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function s_(n){return WP(n).replace(/%3B/gi,";")}function a0(n){return WP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function o_(n){return decodeURIComponent(n)}function KP(n){return o_(n.replace(/\+/g,"%20"))}function GP(n){return`${a0(n.path)}${function yL(n){return Object.keys(n).map(e=>`;${a0(e)}=${a0(n[e])}`).join("")}(n.parameters)}`}const CL=/^[^\/()?;=#]+/;function a_(n){const e=n.match(CL);return e?e[0]:""}const EL=/^[^=?&#]+/,DL=/^[^&#]+/;class AL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[mt]=new Ct(e,t)),r}parseSegment(){const e=a_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new uf(o_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=a_(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=a_(this.remaining);i&&(r=i,this.capture(r))}e[o_(t)]=o_(r)}parseQueryParam(e){const t=function wL(n){const e=n.match(EL);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function SL(n){const e=n.match(DL);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=KP(t),s=KP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=a_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=mt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[mt]:new Ct([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class zP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=l0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=l0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=u0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return u0(e,this._root).map(t=>t.value)}}function l0(n,e){if(n===e.value)return e;for(const t of e.children){const r=l0(n,t);if(r)return r}return null}function u0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=u0(n,t);if(r.length)return r.unshift(e),r}return[]}class Io{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function bc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qP extends zP{constructor(e,t){super(e),this.snapshot=t,c0(this,e)}toString(){return this.snapshot.toString()}}function QP(n,e){const t=function PL(n,e){const o=new l_([],{},{},"",{},mt,e,null,n.root,-1,{});return new YP("",new Io(o,[]))}(n,e),r=new Nr([new uf("",{})]),i=new Nr({}),s=new Nr({}),o=new Nr({}),l=new Nr(""),c=new Cc(r,i,o,l,s,mt,e,t.root);return c.snapshot=t.root,new qP(new Io(c,[]),t)}class Cc{constructor(e,t,r,i,s,o,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=l,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ct(e=>yc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ct(e=>yc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function TL(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class l_{constructor(e,t,r,i,s,o,l,c,d,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=l,this.routeConfig=c,this._urlSegment=d,this._lastPathIndex=f,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YP extends zP{constructor(e,t){super(t),this.url=e,c0(this,t)}toString(){return XP(this._root)}}function c0(n,e){e.value._routerState=n,e.children.forEach(t=>c0(n,t))}function XP(n){const e=n.children.length>0?` { ${n.children.map(XP).join(", ")} } `:"";return`${n.value}${e}`}function d0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zs(e.params,t.params)||n.params.next(t.params),function cL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function h0(n,e){const t=Zs(n.params,e.params)&&function gL(n,e){return xl(n,e)&&n.every((t,r)=>Zs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||h0(n.parent,e.parent))}function df(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function IL(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return df(n,r,i);return df(n,r)})}(n,e,t);return new Io(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(l=>df(n,l)),o}}const r=function xL(n){return new Cc(new Nr(n.url),new Nr(n.params),new Nr(n.queryParams),new Nr(n.fragment),new Nr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>df(n,s));return new Io(r,i)}}function u_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hf(n){return"object"==typeof n&&null!=n&&n.outlets}function f0(n,e,t,r,i){let s={};if(r&&cr(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),n===e)return new Il(t,s,i);const o=JP(n,e,t);return new Il(o,s,i)}function JP(n,e,t){const r={};return cr(n.children,(i,s)=>{r[s]=i===e?t:JP(i,e,t)}),new Ct(n.segments,r)}class eT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&u_(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(hf);if(i&&i!==NP(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class p0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tT(n,e,t){if(n||(n=new Ct([],{})),0===n.segments.length&&n.hasChildren())return c_(n,e,t);const r=function LL(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],l=t[r];if(hf(l))break;const c=`${l}`,d=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!rT(c,d,o))return s;r+=2}else{if(!rT(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ct(n.segments.slice(0,r.pathIndex),{});return s.children[mt]=new Ct(n.segments.slice(r.pathIndex),n.children),c_(s,0,i)}return r.match&&0===i.length?new Ct(n.segments,{}):r.match&&!n.hasChildren()?g0(n,e,t):r.match?c_(n,0,i):g0(n,e,t)}function c_(n,e,t){if(0===t.length)return new Ct(n.segments,{});{const r=function NL(n){return hf(n[0])?n[0].outlets:{[mt]:n}}(t),i={};return cr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tT(n.children[o],e,s))}),cr(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ct(n.segments,i)}}function g0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(hf(s)){const c=BL(s.outlets);return new Ct(r,c)}if(0===i&&u_(t[0])){r.push(new uf(n.segments[e].path,nT(t[0]))),i++;continue}const o=hf(s)?s.outlets[mt]:`${s}`,l=i<t.length-1?t[i+1]:null;o&&l&&u_(l)?(r.push(new uf(o,nT(l))),i+=2):(r.push(new uf(o,{})),i++)}return new Ct(r,{})}function BL(n){const e={};return cr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=g0(new Ct([],{}),0,t))}),e}function nT(n){const e={};return cr(n,(t,r)=>e[r]=`${t}`),e}function rT(n,e,t){return n==t.path&&Zs(e,t.parameters)}class HL{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),d0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=bc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),cr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=bc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=bc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=bc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new oL(s.value.snapshot))}),e.children.length&&this.forwardEvent(new iL(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(d0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),d0(l.route.value),this.activateChildRoutes(e,null,o.children)}else{const l=function UL(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),c=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=c,o.outlet&&o.outlet.activateWith(i,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class m0{constructor(e,t){this.routes=e,this.module=t}}function Pa(n){return"function"==typeof n}function Rl(n){return n instanceof Il}const ff=Symbol("INITIAL_VALUE");function pf(){return Sa(n=>function $N(...n){const e=Ha(n),t=Vc(n),{args:r,keys:i}=bP(n);if(0===r.length)return wn([],e);const s=new Ae(function WN(n,e,t=nn){return r=>{wP(e,()=>{const{length:i}=n,s=new Array(i);let o=i,l=i;for(let c=0;c<i;c++)wP(e,()=>{const d=wn(n[c],e);let f=!1;d.subscribe(st(r,g=>{s[c]=g,f||(f=!0,l--),l||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>EP(i,o):nn));return t?s.pipe(CP(t)):s}(n.map(e=>e.pipe(io(1),n0(ff)))).pipe(AP((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==ff?i:(s===ff&&(r=!0),r||!1!==s&&o!==t.length-1&&!Rl(s)?i:s),e)},ff),_c(e=>e!==ff),ct(e=>Rl(e)?e:!0===e),io(1)))}class zL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gf,this.attachRef=null}}class gf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new zL,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let _0=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.name=s||mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,c=new qL(t,l,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(J(gf),J(Ki),J(Kh),function vo(n){return function Ed(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Kn(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Zt(),n)}("name"),J(gc))},n.\u0275dir=ke({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class qL{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cc?this.route:e===gf?this.childContexts:this.parent.get(e,t)}}let iT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ds({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&ur(0,"router-outlet")},directives:[_0],encapsulation:2}),n})();function sT(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];QL(r,ZL(e,r))}}function QL(n,e){n.children&&sT(n.children,e)}function ZL(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function v0(n){const e=n.children&&n.children.map(v0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mt&&(t.component=iT),t}function qi(n){return n.outlet||mt}function oT(n,e){const t=n.filter(r=>qi(r)===e);return t.push(...n.filter(r=>qi(r)!==e)),t}const aT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d_(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},aT):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||uL)(t,n,e);if(!s)return Object.assign({},aT);const o={};cr(s.posParams,(c,d)=>{o[d]=c.path});const l=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function h_(n,e,t,r,i="corrected"){if(t.length>0&&function JL(n,e,t){return t.some(r=>f_(n,e,r)&&qi(r)!==mt)}(n,t,r)){const o=new Ct(e,function XL(n,e,t,r){const i={};i[mt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&qi(s)!==mt){const o=new Ct([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[qi(s)]=o}return i}(n,e,r,new Ct(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function eB(n,e,t){return t.some(r=>f_(n,e,r))}(n,t,r)){const o=new Ct(n.segments,function YL(n,e,t,r,i,s){const o={};for(const l of r)if(f_(n,t,l)&&!i[qi(l)]){const c=new Ct([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[qi(l)]=c}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ct(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function f_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function lT(n,e,t,r){return!!(qi(n)===r||r!==mt&&f_(e,t,n))&&("**"===n.path||d_(e,n,t).matched)}function uT(n,e,t){return 0===e.length&&!n.children[t]}class p_{constructor(e){this.segmentGroup=e||null}}class cT{constructor(e){this.urlTree=e}}function mf(n){return t_(new p_(n))}function dT(n){return t_(new cT(n))}class iB{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(So)}apply(){const e=h_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ct(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,mt).pipe(ct(s=>this.createUrlTree(y0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Aa(s=>{if(s instanceof cT)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof p_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,mt).pipe(ct(i=>this.createUrlTree(y0(i),e.queryParams,e.fragment))).pipe(Aa(i=>{throw i instanceof p_?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ct([],{[mt]:e}):e;return new Il(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ct(s=>new Ct([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wn(i).pipe(af(s=>{const o=r.children[s],l=oT(t,s);return this.expandSegmentGroup(e,l,o,s).pipe(ct(c=>({segment:c,outlet:s})))}),AP((s,o)=>(s[o.outlet]=o.segment,s),{}),function QN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_c((i,s)=>n(i,s,r)):nn,r0(1),t?TP(e):PP(()=>new n_))}())}expandSegment(e,t,r,i,s,o){return wn(r).pipe(af(l=>this.expandSegmentAgainstRoute(e,t,r,l,i,s,o).pipe(Aa(d=>{if(d instanceof p_)return ut(null);throw d}))),vc(l=>!!l),Aa((l,c)=>{if(l instanceof n_||"EmptyError"===l.name)return uT(t,i,s)?ut(new Ct([],{})):mf(t);throw l}))}expandSegmentAgainstRoute(e,t,r,i,s,o,l){return lT(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):mf(t):mf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dT(s):this.lineralizeSegments(r,s).pipe(En(o=>{const l=new Ct(o,{});return this.expandSegment(e,l,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:l,consumedSegments:c,remainingSegments:d,positionalParamSegments:f}=d_(t,i,s);if(!l)return mf(t);const g=this.applyRedirectCommands(c,i.redirectTo,f);return i.redirectTo.startsWith("/")?dT(g):this.lineralizeSegments(i,g).pipe(En(_=>this.expandSegment(e,t,r,_.concat(d),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ut(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ct(g=>(r._loadedConfig=g,new Ct(i,{})))):ut(new Ct(i,{}));const{matched:o,consumedSegments:l,remainingSegments:c}=d_(t,r,i);return o?this.getChildConfig(e,r,i).pipe(En(f=>{const g=f.module,_=f.routes,{segmentGroup:C,slicedSegments:w}=h_(t,l,c,_),I=new Ct(C.segments,C.children);if(0===w.length&&I.hasChildren())return this.expandChildren(g,_,I).pipe(ct(Y=>new Ct(l,Y)));if(0===_.length&&0===w.length)return ut(new Ct(l,{}));const B=qi(r)===s;return this.expandSegment(g,I,_,w,B?mt:s,!0).pipe(ct(H=>new Ct(l.concat(H.segments),H.children)))})):mf(t)}getChildConfig(e,t,r){return t.children?ut(new m0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ut(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(En(i=>i?this.configLoader.load(e.injector,t).pipe(ct(s=>(t._loadedConfig=s,s))):function nB(n){return t_(o0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ut(new m0([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ut(i.map(o=>{const l=e.get(o);let c;if(function $L(n){return n&&Pa(n.canLoad)}(l))c=l.canLoad(t,r);else{if(!Pa(l))throw new Error("Invalid CanLoad guard");c=l(t,r)}return Ys(c)})).pipe(pf(),ri(o=>{if(!Rl(o))return;const l=o0(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw l.url=o,l}),ct(o=>!0===o)):ut(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ut(r);if(i.numberOfChildren>1||!i.children[mt])return t_(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[mt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Il(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return cr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);r[s]=t[l]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return cr(t.children,(l,c)=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new Ct(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function y0(n){const e={};for(const r of Object.keys(n.children)){const s=y0(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function sB(n){if(1===n.numberOfChildren&&n.children[mt]){const e=n.children[mt];return new Ct(n.segments.concat(e.segments),e.children)}return n}(new Ct(n.segments,e))}class hT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class g_{constructor(e,t){this.component=e,this.route=t}}function aB(n,e,t){const r=n._root;return _f(r,e?e._root:null,t,[r.value])}function m_(n,e,t){const r=function uB(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function _f(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=bc(e);return n.children.forEach(o=>{(function cB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function dB(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!xl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xl(n.url,e.url)||!Zs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h0(n,e)||!Zs(n.queryParams,e.queryParams);default:return!h0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new hT(r)):(s.data=o.data,s._resolvedData=o._resolvedData),_f(n,e,s.component?l?l.children:null:t,r,i),c&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new g_(l.outlet.component,o))}else o&&vf(e,l,i),i.canActivateChecks.push(new hT(r)),_f(n,null,s.component?l?l.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),cr(s,(o,l)=>vf(o,t.getContext(l),i)),i}function vf(n,e,t){const r=bc(n),i=n.value;cr(r,(s,o)=>{vf(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new g_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class bB{}function fT(n){return new Ae(e=>e.error(n))}class EB{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=h_(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,mt);if(null===t)return null;const r=new l_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Io(r,t),s=new YP(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=ZP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],l=oT(e,s),c=this.processSegmentGroup(l,o,s);if(null===c)return null;r.push(...c)}const i=pT(r);return function wB(n){n.sort((e,t)=>e.value.outlet===mt?-1:t.value.outlet===mt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return uT(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!lT(e,t,r,i))return null;let s,o=[],l=[];if("**"===e.path){const C=r.length>0?NP(r).parameters:{};s=new l_(r,C,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_T(e),qi(e),e.component,e,gT(t),mT(t)+r.length,vT(e))}else{const C=d_(t,e,r);if(!C.matched)return null;o=C.consumedSegments,l=C.remainingSegments,s=new l_(o,C.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_T(e),qi(e),e.component,e,gT(t),mT(t)+o.length,vT(e))}const c=function DB(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:d,slicedSegments:f}=h_(t,o,l,c.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===f.length&&d.hasChildren()){const C=this.processChildren(c,d);return null===C?null:[new Io(s,C)]}if(0===c.length&&0===f.length)return[new Io(s,[])];const g=qi(e)===i,_=this.processSegment(c,d,f,g?mt:i);return null===_?null:[new Io(s,_)]}}function SB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pT(n){const e=[],t=new Set;for(const r of n){if(!SB(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=pT(r.children);e.push(new Io(r.value,i))}return e.filter(r=>!t.has(r))}function gT(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function mT(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _T(n){return n.data||{}}function vT(n){return n.resolve||{}}function yT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function b0(n){return Sa(e=>{const t=n(e);return t?wn(t).pipe(ct(()=>e)):ut(e)})}class OB extends class RB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const C0=new xe("ROUTES");class bT{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new m0(kP(o.injector.get(C0,void 0,Ke.Self|Ke.Optional)).map(v0),o)}),Aa(s=>{throw t._loader$=void 0,s}));return t._loader$=new GN(i,()=>new Be).pipe(SP()),t._loader$}loadModuleFactory(e){return Ys(e()).pipe(En(t=>t instanceof IS?ut(t):wn(this.compiler.compileModuleAsync(t))))}}class kB{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function NB(n){throw n}function LB(n,e,t){return e.parse("/")}function CT(n,e){return ut(null)}const BB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class n{constructor(t,r,i,s,o,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Be,this.errorHandler=NB,this.malformedUriErrorHandler=LB,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:CT,afterPreactivation:CT},this.urlHandlingStrategy=new kB,this.routeReuseStrategy=new OB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(So),this.console=o.get(pA);const g=o.get(hn);this.isNgZoneEnabled=g instanceof hn&&hn.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function dL(){return new Il(new Ct([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bT(o,l,_=>this.triggerEvent(new IP(_)),_=>this.triggerEvent(new xP(_))),this.routerState=QP(this.currentUrlTree,this.rootComponentType),this.transitions=new Nr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(_c(i=>0!==i.id),ct(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Sa(i=>{let s=!1,o=!1;return ut(i).pipe(ri(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Sa(l=>{const c=this.browserUrlTree.toString(),d=!this.navigated||l.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ET(l.source)&&(this.browserUrlTree=l.extractedUrl),ut(l).pipe(Sa(g=>{const _=this.transitions.getValue();return r.next(new s0(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions.getValue()?es:Promise.resolve(g)}),function oB(n,e,t,r){return Sa(i=>function rB(n,e,t,r,i){return new iB(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ct(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ri(g=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function AB(n,e,t,r,i){return En(s=>function CB(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new EB(n,e,t,r,i,s).recognize();return null===o?fT(new bB):ut(o)}catch(o){return fT(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(ct(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),ri(g=>{if("eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const C=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(C,g)}this.browserUrlTree=g.urlAfterRedirects}const _=new XN(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);r.next(_)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_,extractedUrl:C,source:w,restoredState:I,extras:B}=l,G=new s0(_,this.serializeUrl(C),w,I);r.next(G);const H=QP(C,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},l),{targetSnapshot:H,urlAfterRedirects:C,extras:Object.assign(Object.assign({},B),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,l.resolve(null),es}),b0(l=>{const{targetSnapshot:c,id:d,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:_,replaceUrl:C}}=l;return this.hooks.beforePreactivation(c,{navigationId:d,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!_,replaceUrl:!!C})}),ri(l=>{const c=new JN(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ct(l=>Object.assign(Object.assign({},l),{guards:aB(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function hB(n,e){return En(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ut(Object.assign(Object.assign({},t),{guardsResult:!0})):function fB(n,e,t,r){return wn(n).pipe(En(i=>function yB(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ut(s.map(l=>{const c=m_(l,e,i);let d;if(function GL(n){return n&&Pa(n.canDeactivate)}(c))d=Ys(c.canDeactivate(n,e,t,r));else{if(!Pa(c))throw new Error("Invalid CanDeactivate guard");d=Ys(c(n,e,t,r))}return d.pipe(vc())})).pipe(pf()):ut(!0)}(i.component,i.route,t,e,r)),vc(i=>!0!==i,!0))}(o,r,i,n).pipe(En(l=>l&&function jL(n){return"boolean"==typeof n}(l)?function pB(n,e,t,r){return wn(e).pipe(af(i=>t0(function mB(n,e){return null!==n&&e&&e(new rL(n)),ut(!0)}(i.route.parent,r),function gB(n,e){return null!==n&&e&&e(new sL(n)),ut(!0)}(i.route,r),function vB(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function lB(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>DP(()=>ut(o.guards.map(c=>{const d=m_(c,o.node,t);let f;if(function KL(n){return n&&Pa(n.canActivateChild)}(d))f=Ys(d.canActivateChild(r,n));else{if(!Pa(d))throw new Error("Invalid CanActivateChild guard");f=Ys(d(r,n))}return f.pipe(vc())})).pipe(pf())));return ut(s).pipe(pf())}(n,i.path,t),function _B(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const i=r.map(s=>DP(()=>{const o=m_(s,e,t);let l;if(function WL(n){return n&&Pa(n.canActivate)}(o))l=Ys(o.canActivate(e,n));else{if(!Pa(o))throw new Error("Invalid CanActivate guard");l=Ys(o(e,n))}return l.pipe(vc())}));return ut(i).pipe(pf())}(n,i.route,t))),vc(i=>!0!==i,!0))}(r,s,n,e):ut(l)),ct(l=>Object.assign(Object.assign({},t),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),ri(l=>{if(Rl(l.guardsResult)){const d=o0(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw d.url=l.guardsResult,d}const c=new eL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(c)}),_c(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),b0(l=>{if(l.guards.canActivateChecks.length)return ut(l).pipe(ri(c=>{const d=new tL(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(d)}),Sa(c=>{let d=!1;return ut(c).pipe(function PB(n,e){return En(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ut(t);let s=0;return wn(i).pipe(af(o=>function TB(n,e,t,r){return function MB(n,e,t,r){const i=yT(n);if(0===i.length)return ut({});const s={};return wn(i).pipe(En(o=>function IB(n,e,t,r){const i=m_(n,e,r);return Ys(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(ri(l=>{s[o]=l}))),r0(1),En(()=>yT(s).length===i.length?ut(s):es))}(n._resolve,n,e,r).pipe(ct(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),ZP(n,t).resolve),null)))}(o.route,r,n,e)),ri(()=>s++),r0(1),En(o=>s===i.length?ut(t):es))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ri({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),ri(c=>{const d=new nL(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(d)}))}),b0(l=>{const{targetSnapshot:c,id:d,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:_,replaceUrl:C}}=l;return this.hooks.afterPreactivation(c,{navigationId:d,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!_,replaceUrl:!!C})}),ct(l=>{const c=function ML(n,e,t){const r=df(n,e._root,t?t._root:void 0);return new qP(r,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:c})}),ri(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>ct(r=>(new HL(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),ri({next(){s=!0},complete(){s=!0}}),function ZN(n){return ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var l;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(l=this.currentNavigation)||void 0===l?void 0:l.id)===i.id&&(this.currentNavigation=null)}),Aa(l=>{if(o=!0,function lL(n){return n&&n[OP]}(l)){const c=Rl(l.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const d=new MP(i.id,this.serializeUrl(i.extractedUrl),l.message);r.next(d),c?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),g={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ET(i.source)};this.scheduleNavigation(f,"imperative",null,g,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new YN(i.id,this.serializeUrl(i.extractedUrl),l);r.next(c);try{i.resolve(this.errorHandler(l))}catch(d){i.reject(d)}}return es}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const c=Object.assign({},o);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sT(t),this.config=t.map(v0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:c}=r,d=i||this.routerState.root,f=c?this.currentUrlTree.fragment:o;let g=null;switch(l){case"merge":g=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),function RL(n,e,t,r,i){if(0===t.length)return f0(e.root,e.root,e.root,r,i);const s=function OL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eT(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return cr(s.outlets,(c,d)=>{l[d]="string"==typeof c?c.split("/"):c}),[...i,{outlets:l}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?t=!0:".."===l?e++:""!=l&&i.push(l))}),i):[...i,s]},[]);return new eT(t,e,r)}(t);if(s.toRoot())return f0(e.root,e.root,new Ct([],{}),r,i);const o=function FL(n,e,t){if(n.isAbsolute)return new p0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new p0(s,s===e.root,0)}const r=u_(n.commands[0])?0:1;return function kL(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new p0(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),l=o.processChildren?c_(o.segmentGroup,o.index,s.commands):tT(o.segmentGroup,o.index,s.commands);return f0(e.root,o.segmentGroup,l,r,i)}(d,this.currentUrlTree,t,g,null!=f?f:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Rl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function HB(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},BB):!1===r?Object.assign({},VB):r,Rl(t))return BP(this.currentUrlTree,t,i);const s=this.parseUrl(t);return BP(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new lf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var l,c;if(this.disposed)return Promise.resolve(!1);let d,f,g;o?(d=o.resolve,f=o.reject,g=o.promise):g=new Promise((w,I)=>{d=w,f=I});const _=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):C=0,this.setTransition({id:_,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(w=>Promise.reject(w))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new MP(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Ub()},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();function ET(n){return"imperative"!==n}class wT{}class DT{preload(e,t){return ut(null)}}let ST=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new bT(i,r,c=>t.triggerEvent(new IP(c)),c=>t.triggerEvent(new xP(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(_c(t=>t instanceof lf),af(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(So);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return wn(i).pipe(Va(),ct(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ut(r._loadedConfig):this.loader.load(t.injector,r)).pipe(En(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(me(vi),me(gA),me(m),me(wT))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),D0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof s0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof RP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new RP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Ub()},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();const Ol=new xe("ROUTER_CONFIGURATION"),AT=new xe("ROUTER_FORROOT_GUARD"),WB=[kC,{provide:jP,useClass:$P},{provide:vi,useFactory:function QB(n,e,t,r,i,s,o={},l,c){const d=new vi(null,n,e,t,r,i,kP(s));return l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),function ZB(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),o.enableTracing&&d.events.subscribe(f=>{var g,_;null===(g=console.group)||void 0===g||g.call(console,`Router Event: ${f.constructor.name}`),console.log(f.toString()),console.log(f),null===(_=console.groupEnd)||void 0===_||_.call(console)}),d},deps:[jP,gf,kC,m,gA,C0,Ol,[class FB{},new as],[class xB{},new as]]},gf,{provide:Cc,useFactory:function YB(n){return n.routerState.root},deps:[vi]},ST,DT,class $B{preload(e,t){return t().pipe(Aa(()=>ut(null)))}},{provide:Ol,useValue:{enableTracing:!1}}];function KB(){return new bA("Router",vi)}let PT=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[WB,TT(t),{provide:AT,useFactory:qB,deps:[[vi,new as,new la]]},{provide:Ol,useValue:r||{}},{provide:mc,useFactory:zB,deps:[Ml,[new ll(FC),new as],Ol]},{provide:D0,useFactory:GB,deps:[vi,Xk,Ol]},{provide:wT,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:DT},{provide:bA,multi:!0,useFactory:KB},[S0,{provide:yC,multi:!0,useFactory:XB,deps:[S0]},{provide:MT,useFactory:JB,deps:[S0]},{provide:fA,multi:!0,useExisting:MT}]]}}static forChild(t){return{ngModule:n,providers:[TT(t)]}}}return n.\u0275fac=function(t){return new(t||n)(me(AT,8),me(vi,8))},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({}),n})();function GB(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new D0(n,e,t)}function zB(n,e,t={}){return t.useHash?new NF(n,e):new HA(n,e)}function qB(n){return"guarded"}function TT(n){return[{provide:Qr,multi:!0,useValue:n},{provide:C0,multi:!0,useValue:n}]}let S0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Be}appInitializer(){return this.injector.get(OF,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(l=>r=l),s=this.injector.get(vi),o=this.injector.get(Ol);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Ol),i=this.injector.get(ST),s=this.injector.get(D0),o=this.injector.get(vi),l=this.injector.get(PC);t===l.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(me(m))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();function XB(n){return n.appInitializer.bind(n)}function JB(n){return n.bootstrapListener.bind(n)}const MT=new xe("Router Initializer"),t2=[];let n2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({imports:[[PT.forRoot(t2)],PT]}),n})();function IT(n,e,t,r,i,s,o){try{var l=n[s](o),c=l.value}catch(d){return void t(d)}l.done?e(c):Promise.resolve(c).then(r,i)}function A0(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){IT(s,r,i,o,l,"next",c)}function l(c){IT(s,r,i,o,l,"throw",c)}o(void 0)})}}const Cs="w",Er="p",Ro="k",T0="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",o2={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},ft={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},Bt={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},M0={b:[16,32,17,15],w:[-16,-32,-17,-15]},xT={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},a2=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],l2=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],u2={p:1,n:2,b:4,r:8,q:16,k:32},RT=["n","b","r","q"],Ta={w:[{square:Bt.a1,flag:ft.QSIDE_CASTLE},{square:Bt.h1,flag:ft.KSIDE_CASTLE}],b:[{square:Bt.a8,flag:ft.QSIDE_CASTLE},{square:Bt.h8,flag:ft.KSIDE_CASTLE}]},g2={b:1,w:6},m2=["1-0","0-1","1/2-1/2","*"];function Fl(n){return n>>4}function yf(n){return 15&n}function OT(n){return-1!=="0123456789".indexOf(n)}function yi(n){const e=yf(n),t=Fl(n);return"abcdefgh".substring(e,e+1)+"87654321".substring(t,t+1)}function v_(n){return n===Cs?"b":Cs}function Ma(n,e,t,r,i,s,o=ft.NORMAL){const l=Fl(r);if(i!==Er||7!==l&&0!==l)n.push({color:e,from:t,to:r,piece:i,captured:s,flags:o});else for(let c=0;c<RT.length;c++)n.push({color:e,from:t,to:r,piece:i,captured:s,promotion:RT[c],flags:o|ft.PROMOTION})}function FT(n){let e=n.charAt(0);return e>="a"&&e<="h"?n.match(/[a-h]\d.*[a-h]\d/)?void 0:Er:(e=e.toLowerCase(),"o"===e?Ro:e)}function kT(n){return n.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class y2{constructor(e=T0){this._board=new Array(128),this._turn=Cs,this._header={},this._kings={w:-1,b:-1},this._epSquare=-1,this._halfMoves=0,this._moveNumber=0,this._history=[],this._comments={},this._castling={w:0,b:0},this.load(e)}clear(e=!1){this._board=new Array(128),this._kings={w:-1,b:-1},this._turn=Cs,this._castling={w:0,b:0},this._epSquare=-1,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{},this._updateSetup(this.fen())}load(e,t=!1){let r=e.split(/\s+/);r.length>=2&&r.length<6&&(e=r.concat(["-","-","0","1"].slice(-(6-r.length))).join(" ")),r=e.split(/\s+/);const{ok:i,error:s}=function _2(n){const e=n.split(/\s+/);if(6!==e.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const t=parseInt(e[5],10);if(isNaN(t)||t<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(e[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=e[0].split("/");if(8!==i.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<i.length;o++){let l=0,c=!1;for(let d=0;d<i[o].length;d++)if(OT(i[o][d])){if(c)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(i[o][d],10),c=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[o][d]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,c=!1}if(8!==l)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==e[3][1]&&"w"==e[1]||"6"==e[3][1]&&"b"==e[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const s=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:l}of s){if(!l.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return{ok:!0}}(e);if(!i)throw new Error(s);const o=r[0];let l=0;this.clear(t);for(let c=0;c<o.length;c++){const d=o.charAt(c);if("/"===d)l+=8;else if(OT(d))l+=parseInt(d,10);else{const f=d<"a"?Cs:"b";this.put({type:d.toLowerCase(),color:f},yi(l)),l++}}this._turn=r[1],r[2].indexOf("K")>-1&&(this._castling.w|=ft.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(this._castling.w|=ft.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(this._castling.b|=ft.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(this._castling.b|=ft.QSIDE_CASTLE),this._epSquare="-"===r[3]?-1:Bt[r[3]],this._halfMoves=parseInt(r[4],10),this._moveNumber=parseInt(r[5],10),this._updateSetup(this.fen())}fen(){var e,t;let r=0,i="";for(let l=Bt.a8;l<=Bt.h1;l++){if(this._board[l]){r>0&&(i+=r,r=0);const{color:c,type:d}=this._board[l];i+=c===Cs?d.toUpperCase():d.toLowerCase()}else r++;l+1&136&&(r>0&&(i+=r),l!==Bt.h1&&(i+="/"),r=0,l+=8)}let s="";this._castling.w&ft.KSIDE_CASTLE&&(s+="K"),this._castling.w&ft.QSIDE_CASTLE&&(s+="Q"),this._castling.b&ft.KSIDE_CASTLE&&(s+="k"),this._castling.b&ft.QSIDE_CASTLE&&(s+="q"),s=s||"-";let o="-";if(-1!==this._epSquare){const l=this._epSquare+(this._turn===Cs?16:-16),c=[l+1,l-1];for(const d of c){if(136&d)continue;const f=this._turn;if((null===(e=this._board[d])||void 0===e?void 0:e.color)===f&&(null===(t=this._board[d])||void 0===t?void 0:t.type)===Er){this._makeMove({color:f,from:d,to:this._epSquare,piece:Er,captured:Er,flags:ft.EP_CAPTURE});const g=!this._isKingAttacked(f);if(this._undoMove(),g){o=yi(this._epSquare);break}}}}return[i,this._turn,s,o,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==T0?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(T0)}get(e){return this._board[Bt[e]]||!1}put({type:e,color:t},r){if(-1==="pnbrqkPNBRQK".indexOf(e.toLowerCase())||!(r in Bt))return!1;const i=Bt[r];return(e!=Ro||-1==this._kings[t]||this._kings[t]==i)&&(this._board[i]={type:e,color:t},e===Ro&&(this._kings[t]=i),this._updateSetup(this.fen()),!0)}remove(e){const t=this.get(e);return delete this._board[Bt[e]],t&&t.type===Ro&&(this._kings[t.color]=-1),this._updateSetup(this.fen()),t}_attacked(e,t){for(let r=Bt.a8;r<=Bt.h1;r++){if(136&r){r+=7;continue}if(void 0===this._board[r]||this._board[r].color!==e)continue;const i=this._board[r],s=r-t;if(0===s)continue;const o=s+119;if(a2[o]&u2[i.type]){if(i.type===Er){if(s>0){if(i.color===Cs)return!0}else if("b"===i.color)return!0;continue}if("n"===i.type||"k"===i.type)return!0;const l=l2[o];let c=r+l,d=!1;for(;c!==t;){if(null!=this._board[c]){d=!0;break}c+=l}if(!d)return!0}}return!1}_isKingAttacked(e){return this._attacked(v_(e),this._kings[e])}isAttacked(e,t){return this._attacked(t,Bt[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let r=0,i=0;for(let s=Bt.a8;s<=Bt.h1;s++){if(i=(i+1)%2,136&s){s+=7;continue}const o=this._board[s];o&&(e[o.type]=o.type in e?e[o.type]+1:1,"b"===o.type&&t.push(i),r++)}if(2===r)return!0;if(3===r&&(1===e.b||1===e.n))return!0;if(r===e.b+2){let s=0;const o=t.length;for(let l=0;l<o;l++)s+=t[l];if(0===s||s===o)return!0}return!1}isThreefoldRepetition(){const e=[],t={};let r=!1;for(;;){const i=this._undoMove();if(!i)break;e.push(i)}for(;;){const i=this.fen().split(" ").slice(0,4).join(" ");t[i]=i in t?t[i]+1:1,t[i]>=3&&(r=!0);const s=e.pop();if(!s)break;this._makeMove(s)}return r}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:t,piece:r}={}){const i=this._moves({square:t,piece:r});return i.map(e?s=>this._makePretty(s):s=>this._moveToSan(s,i))}_moves({legal:e=!0,piece:t,square:r}={}){var i;const s=r?r.toLowerCase():void 0,o=null==t?void 0:t.toLowerCase(),l=[],c=this._turn,d=v_(c);let f=Bt.a8,g=Bt.h1,_=!1;if(s){if(!(s in Bt))return[];f=g=Bt[s],_=!0}for(let w=f;w<=g;w++){if(136&w){w+=7;continue}if(!this._board[w]||this._board[w].color===d)continue;const{type:I}=this._board[w];let B;if(I===Er){if(o&&o!==I)continue;B=w+M0[c][0],this._board[B]||(Ma(l,c,w,B,Er),B=w+M0[c][1],g2[c]===Fl(w)&&!this._board[B]&&Ma(l,c,w,B,Er,void 0,ft.BIG_PAWN));for(let G=2;G<4;G++)B=w+M0[c][G],!(136&B)&&((null===(i=this._board[B])||void 0===i?void 0:i.color)===d?Ma(l,c,w,B,Er,this._board[B].type,ft.CAPTURE):B===this._epSquare&&Ma(l,c,w,B,Er,Er,ft.EP_CAPTURE))}else{if(o&&o!==I)continue;for(let G=0,H=xT[I].length;G<H;G++){const Y=xT[I][G];for(B=w;B+=Y,!(136&B);){if(this._board[B]){if(this._board[B].color===c)break;Ma(l,c,w,B,I,this._board[B].type,ft.CAPTURE);break}if(Ma(l,c,w,B,I),"n"===I||I===Ro)break}}}}if(!(void 0!==o&&o!==Ro||_&&g!==this._kings[c])){if(this._castling[c]&ft.KSIDE_CASTLE){const w=this._kings[c],I=w+2;!this._board[w+1]&&!this._board[I]&&!this._attacked(d,this._kings[c])&&!this._attacked(d,w+1)&&!this._attacked(d,I)&&Ma(l,c,this._kings[c],I,Ro,void 0,ft.KSIDE_CASTLE)}if(this._castling[c]&ft.QSIDE_CASTLE){const w=this._kings[c],I=w-2;!this._board[w-1]&&!this._board[w-2]&&!this._board[w-3]&&!this._attacked(d,this._kings[c])&&!this._attacked(d,w-1)&&!this._attacked(d,I)&&Ma(l,c,this._kings[c],I,Ro,void 0,ft.QSIDE_CASTLE)}}if(!e)return l;const C=[];for(let w=0,I=l.length;w<I;w++)this._makeMove(l[w]),this._isKingAttacked(c)||C.push(l[w]),this._undoMove();return C}move(e,{strict:t=!1}={}){let r=null;if("string"==typeof e)r=this._moveFromSan(e,t);else if("object"==typeof e){const s=this._moves();for(let o=0,l=s.length;o<l;o++)if(e.from===yi(s[o].from)&&e.to===yi(s[o].to)&&(!("promotion"in s[o])||e.promotion===s[o].promotion)){r=s[o];break}}if(!r)throw"string"==typeof e?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const i=this._makePretty(r);return this._makeMove(r),i}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const t=this._turn,r=v_(t);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&ft.EP_CAPTURE&&("b"===this._turn?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:t}),this._board[e.to].type===Ro){if(this._kings[t]=e.to,e.flags&ft.KSIDE_CASTLE){const s=e.to+1;this._board[e.to-1]=this._board[s],delete this._board[s]}else if(e.flags&ft.QSIDE_CASTLE){const s=e.to-2;this._board[e.to+1]=this._board[s],delete this._board[s]}this._castling[t]=0}if(this._castling[t])for(let i=0,s=Ta[t].length;i<s;i++)if(e.from===Ta[t][i].square&&this._castling[t]&Ta[t][i].flag){this._castling[t]^=Ta[t][i].flag;break}if(this._castling[r])for(let i=0,s=Ta[r].length;i<s;i++)if(e.to===Ta[r][i].square&&this._castling[r]&Ta[r][i].flag){this._castling[r]^=Ta[r][i].flag;break}this._epSquare=e.flags&ft.BIG_PAWN?"b"===t?e.to-16:e.to+16:-1,e.piece===Er||e.flags&(ft.CAPTURE|ft.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,"b"===t&&this._moveNumber++,this._turn=r}undo(){const e=this._undoMove();return e?this._makePretty(e):null}_undoMove(){const e=this._history.pop();if(void 0===e)return null;const t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const r=this._turn,i=v_(r);if(this._board[t.from]=this._board[t.to],this._board[t.from].type=t.piece,delete this._board[t.to],t.captured)if(t.flags&ft.EP_CAPTURE){let s;s="b"===r?t.to-16:t.to+16,this._board[s]={type:Er,color:i}}else this._board[t.to]={type:t.captured,color:i};if(t.flags&(ft.KSIDE_CASTLE|ft.QSIDE_CASTLE)){let s,o;t.flags&ft.KSIDE_CASTLE?(s=t.to+1,o=t.to-1):(s=t.to-2,o=t.to+1),this._board[s]=this._board[o],delete this._board[o]}return t}pgn({newline:e="\n",maxWidth:t=0}={}){const r=[];let i=!1;for(const _ in this._header)r.push("["+_+' "'+this._header[_]+'"]'+e),i=!0;i&&this._history.length&&r.push(e);const s=_=>{const C=this._comments[this.fen()];return void 0!==C&&(_=`${_}${_.length>0?" ":""}{${C}}`),_},o=[];for(;this._history.length>0;)o.push(this._undoMove());const l=[];let c="";for(0===o.length&&l.push(s(""));o.length>0;){c=s(c);const _=o.pop();if(!_)break;if(this._history.length||"b"!==_.color)"w"===_.color&&(c.length&&l.push(c),c=this._moveNumber+".");else{const C=`${this._moveNumber}. ...`;c=c?`${c} ${C}`:C}c=c+" "+this._moveToSan(_,this._moves({legal:!0})),this._makeMove(_)}if(c.length&&l.push(s(c)),void 0!==this._header.Result&&l.push(this._header.Result),0===t)return r.join("")+l.join(" ");const d=function(){return r.length>0&&" "===r[r.length-1]&&(r.pop(),!0)},f=function(_,C){for(const w of C.split(" "))if(w){if(_+w.length>t){for(;d();)_--;r.push(e),_=0}r.push(w),_+=w.length,r.push(" "),_++}return d()&&_--,_};let g=0;for(let _=0;_<l.length;_++)g+l[_].length>t&&l[_].includes("{")?g=f(g,l[_]):(g+l[_].length>t&&0!==_?(" "===r[r.length-1]&&r.pop(),r.push(e),g=0):0!==_&&(r.push(" "),g++),r.push(l[_]),g+=l[_].length);return r.join("")}header(...e){for(let t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(this._header[e[t]]=e[t+1]);return this._header}loadPgn(e,{strict:t=!1,newlineChar:r="\r?\n"}={}){function i(Y){return Y.replace(/\\/g,"\\")}e=e.trim();const l=new RegExp("^(\\[((?:"+i(r)+")|.)*\\])((?:\\s*"+i(r)+"){2}|(?:\\s*"+i(r)+")*$)").exec(e),c=l&&l.length>=2?l[1]:"";this.reset();const d=function s(Y){const he={},$e=Y.split(new RegExp(i(r)));let zt="",tn="";for(let Jn=0;Jn<$e.length;Jn++){const Dr=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;zt=$e[Jn].replace(Dr,"$1"),tn=$e[Jn].replace(Dr,"$2"),zt.trim().length>0&&(he[zt]=tn)}return he}(c);let f="";for(const Y in d)"fen"===Y.toLowerCase()&&(f=d[Y]),this.header(Y,d[Y]);if(t){if("1"===d.SetUp){if(!("FEN"in d))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(d.FEN,!0)}}else f&&this.load(f,!0);const C=function(Y){return`{${function g(Y){return Array.from(Y).map(function(he){return he.charCodeAt(0)<128?he.charCodeAt(0).toString(16):encodeURIComponent(he).replace(/%/g,"").toLowerCase()}).join("")}((Y=Y.replace(new RegExp(i(r),"g")," ")).slice(1,Y.length-1))}}`},w=function(Y){if(Y.startsWith("{")&&Y.endsWith("}"))return function _(Y){return 0==Y.length?"":decodeURIComponent("%"+(Y.match(/.{1,2}/g)||[]).join("%"))}(Y.slice(1,Y.length-1))};let I=e.replace(c,"").replace(new RegExp(`({[^}]*})+?|;([^${i(r)}]*)`,"g"),function(Y,he,$e){return void 0!==he?C(he):" "+C(`{${$e.slice(1)}}`)}).replace(new RegExp(i(r),"g")," ");const B=/(\([^()]+\))+?/g;for(;B.test(I);)I=I.replace(B,"");I=I.replace(/\d+\.(\.\.)?/g,""),I=I.replace(/\.\.\./g,""),I=I.replace(/\$\d+/g,"");let G=I.trim().split(new RegExp(/\s+/));G=G.filter(Y=>""!==Y);let H="";for(let Y=0;Y<G.length;Y++){const he=w(G[Y]);if(void 0!==he){this._comments[this.fen()]=he;continue}const $e=this._moveFromSan(G[Y],t);if(null==$e){if(!(m2.indexOf(G[Y])>-1))throw new Error(`Invalid move in PGN: ${G[Y]}`);H=G[Y]}else H="",this._makeMove($e)}H&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",H)}_moveToSan(e,t){let r="";if(e.flags&ft.KSIDE_CASTLE)r="O-O";else if(e.flags&ft.QSIDE_CASTLE)r="O-O-O";else{if(e.piece!==Er){const i=function v2(n,e){const t=n.from,r=n.to,i=n.piece;let s=0,o=0,l=0;for(let c=0,d=e.length;c<d;c++){const f=e[c].from,g=e[c].to;i===e[c].piece&&t!==f&&r===g&&(s++,Fl(t)===Fl(f)&&o++,yf(t)===yf(f)&&l++)}return s>0?o>0&&l>0?yi(t):l>0?yi(t).charAt(1):yi(t).charAt(0):""}(e,t);r+=e.piece.toUpperCase()+i}e.flags&(ft.CAPTURE|ft.EP_CAPTURE)&&(e.piece===Er&&(r+=yi(e.from)[0]),r+="x"),r+=yi(e.to),e.promotion&&(r+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?r+="#":r+="+"),this._undoMove(),r}_moveFromSan(e,t=!1){const r=kT(e);let i=FT(r),s=this._moves({legal:!0,piece:i});for(let _=0,C=s.length;_<C;_++)if(r===kT(this._moveToSan(s[_],s)))return s[_];if(t)return null;let o,l,c,d,f,g=!1;l=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(o=l[1],c=l[2],d=l[3],f=l[4],1==c.length&&(g=!0)):(l=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(o=l[1],c=l[2],d=l[3],f=l[4],1==c.length&&(g=!0))),i=FT(r),s=this._moves({legal:!0,piece:o||i});for(let _=0,C=s.length;_<C;_++)if(c&&d){if(!(o&&o.toLowerCase()!=s[_].piece||Bt[c]!=s[_].from||Bt[d]!=s[_].to||f&&f.toLowerCase()!=s[_].promotion))return s[_];if(g){const w=yi(s[_].from);if(!(o&&o.toLowerCase()!=s[_].piece||Bt[d]!=s[_].to||c!=w[0]&&c!=w[1]||f&&f.toLowerCase()!=s[_].promotion))return s[_]}}return null}ascii(){let e="   +------------------------+\n";for(let t=Bt.a8;t<=Bt.h1;t++){if(0===yf(t)&&(e+=" "+"87654321"[Fl(t)]+" |"),this._board[t]){const r=this._board[t].type;e+=" "+(this._board[t].color===Cs?r.toUpperCase():r.toLowerCase())+" "}else e+=" . ";t+1&136&&(e+="|\n",t+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h",e}perft(e){const t=this._moves({legal:!1});let r=0;const i=this._turn;for(let s=0,o=t.length;s<o;s++)this._makeMove(t[s]),this._isKingAttacked(i)||(e-1>0?r+=this.perft(e-1):r++),this._undoMove();return r}_makePretty(e){const{color:t,piece:r,from:i,to:s,flags:o,captured:l,promotion:c}=e;let d="";for(const C in ft)ft[C]&o&&(d+=o2[C]);const f=yi(i),g=yi(s),_={color:t,piece:r,from:f,to:g,san:this._moveToSan(e,this._moves({legal:!0})),flags:d,lan:f+g,before:this.fen(),after:""};return this._makeMove(e),_.after=this.fen(),this._undoMove(),l&&(_.captured=l),c&&(_.promotion=c,_.lan+=c),_}turn(){return this._turn}board(){const e=[];let t=[];for(let r=Bt.a8;r<=Bt.h1;r++)t.push(null==this._board[r]?null:{square:yi(r),type:this._board[r].type,color:this._board[r].color}),r+1&136&&(e.push(t),t=[],r+=8);return e}squareColor(e){if(e in Bt){const t=Bt[e];return(Fl(t)+yf(t))%2==0?"light":"dark"}return null}history({verbose:e=!1}={}){const t=[],r=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const i=t.pop();if(!i)break;r.push(e?this._makePretty(i):this._moveToSan(i,this._moves())),this._makeMove(i)}return r}_pruneComments(){const e=[],t={},r=i=>{i in this._comments&&(t[i]=this._comments[i])};for(;this._history.length>0;)e.push(this._undoMove());for(r(this.fen());;){const i=e.pop();if(!i)break;this._makeMove(i),r(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}})}}class b2{constructor(e){this.chess=e}evaluateCastel(e){return e.move.san.includes("O-O")?"b"===this.chess.turn()?.1:-.1:0}}class C2{constructor(e){this.chess=e}description(){return"Center"}score(){return this.scoreWhiteCenter()+this.scoreBlackCenter()}scoreWhiteCenter(){var e,t,r,i,s,o,l,c;let d=0;return"w"===(null===(e=this.chess.get("c4"))||void 0===e?void 0:e.color)&&"p"===(null===(t=this.chess.get("c4"))||void 0===t?void 0:t.type)&&(d+=.1),"w"===(null===(r=this.chess.get("d4"))||void 0===r?void 0:r.color)&&"p"===(null===(i=this.chess.get("d4"))||void 0===i?void 0:i.type)&&(d+=.1),"w"===(null===(s=this.chess.get("e4"))||void 0===s?void 0:s.color)&&"p"===(null===(o=this.chess.get("e4"))||void 0===o?void 0:o.type)&&(d+=.1),"w"===(null===(l=this.chess.get("f4"))||void 0===l?void 0:l.color)&&"p"===(null===(c=this.chess.get("f4"))||void 0===c?void 0:c.type)&&(d+=.1),d}scoreBlackCenter(){var e,t,r,i,s,o,l,c;let d=0;return"b"===(null===(e=this.chess.get("c5"))||void 0===e?void 0:e.color)&&"p"===(null===(t=this.chess.get("c5"))||void 0===t?void 0:t.type)&&(d-=.1),"b"===(null===(r=this.chess.get("d5"))||void 0===r?void 0:r.color)&&"p"===(null===(i=this.chess.get("d5"))||void 0===i?void 0:i.type)&&(d-=.1),"b"===(null===(s=this.chess.get("e5"))||void 0===s?void 0:s.color)&&"p"===(null===(o=this.chess.get("e5"))||void 0===o?void 0:o.type)&&(d-=.1),"b"===(null===(l=this.chess.get("f5"))||void 0===l?void 0:l.color)&&"p"===(null===(c=this.chess.get("f5"))||void 0===c?void 0:c.type)&&(d-=.1),d}}class E2{constructor(e){this.chess=e}description(){return"Peaces"}score(){let e=0;for(let t=0;t<8;t++)this.isPeaceOnFirstLine(this.chess.board()[7][t],"w")&&(e-=.1),this.isPeaceOnFirstLine(this.chess.board()[0][t],"b")&&(e+=.1);return e}isPeaceOnFirstLine(e,t){return(null==e?void 0:e.color)==t&&("n"===(null==e?void 0:e.type)||"b"===(null==e?void 0:e.type)||"q"===(null==e?void 0:e.type))}}class I0{constructor(e,t=0){this.move=e,this.score=t,this.check=0,this.scoreList=new Map}}class NT{constructor(e){this.chess=e}description(){return"OpenLine"}score(){let e=0,t=this.chess.board();for(let r=0;r<8;r++){let i=!0,s=!0,o=!0,l=0,c=0;for(let d=0;d<8;d++){let f=t[d][r];"r"===(null==f?void 0:f.type)||"q"===(null==f?void 0:f.type)?"w"===(null==f?void 0:f.color)&&d>1?l++:"b"===f.color&&d<6&&c++:"p"===(null==f?void 0:f.type)&&(i=!1,"w"===(null==f?void 0:f.color)?s=!1:o=!1)}i?e+=.1*(l-c):s?e+=.05*l:o&&(e-=.05*c)}return e}}class LT{constructor(e){this.chess=e}description(){return"LastRanks"}score(){return.25*(this.countForWhite()-this.countForBlack())}countForWhite(){let e=this.chess.board(),t=0;for(let r=0;r<2;r++)for(let i=0;i<8;i++){let s=e[r][i];("r"===(null==s?void 0:s.type)||"q"===(null==s?void 0:s.type))&&"w"===(null==s?void 0:s.color)&&t++}return t}countForBlack(){let e=this.chess.board(),t=0;for(let r=6;r<8;r++)for(let i=0;i<8;i++){let s=e[r][i];("r"===(null==s?void 0:s.type)||"q"===(null==s?void 0:s.type))&&"b"===(null==s?void 0:s.color)&&t++}return t}}class w2{constructor(e){this.chess=e}description(){return"PassedPawn"}score(){let e=0;return e+=this.scoreWhite(),e+=this.scoreBlack(),e}scoreWhite(){let e=0,t=this.chess.board(),r=new Array,i=8;for(let s=1;s<7&&0!=i;s++)for(let o=0;o<8;o++){let l=t[s][o];"p"===(null==l?void 0:l.type)&&("b"===(null==l?void 0:l.color)?(null==r[o]&&(r[o]=!1,i--),o>0&&null==r[o-1]&&(r[o-1]=!1,i--),o<7&&null==r[o+1]&&!this.isWhitePawn(t[s][o+1])&&(r[o+1]=!1,i--)):"w"===(null==l?void 0:l.color)&&0!=r[o]&&(r[o]=!0,e+=(7-s)*(7-s)*.02,i--))}return e}scoreBlack(){let e=0,t=this.chess.board(),r=new Array,i=8;for(let s=7;s>0&&0!=i;s--)for(let o=0;o<8;o++){let l=t[s][o];"p"===(null==l?void 0:l.type)&&("w"===(null==l?void 0:l.color)?(r[o]=!1,i--,o>0&&null==r[o-1]&&(r[o-1]=!1,i--),o<7&&null==r[o+1]&&!this.isBlackPawn(t[s][o+1])&&(r[o+1]=!1,i--)):"b"===(null==l?void 0:l.color)&&0!=r[o]&&(r[o]=!0,e-=s*s*.02,i--))}return e}isWhitePawn(e){return"p"===(null==e?void 0:e.type)&&"w"===(null==e?void 0:e.color)}isBlackPawn(e){return"p"===(null==e?void 0:e.type)&&"b"===(null==e?void 0:e.color)}}var D2=M(478),BT=M.n(D2),S2=M(74);class A2{constructor(){this.token="lip_U2PnD9AVg0rt8zcIsjYk",this.baseURL="https://lichess.org/",this.headers={Authorization:`Bearer ${this.token}`},this.axiosConfig={baseURL:this.baseURL,headers:this.headers}}getOnlineBots(){return this.get("api/bot/online")}acceptChallenge(e){return this.post(`api/challenge/${e}/accept`)}declineChallenge(e){return this.post(`api/challenge/${e}/decline`)}upgrade(){return this.post("api/bot/account/upgrade")}accountInfo(){return this.get("api/account")}makeMove(e,t){return this.post(`api/bot/game/${e}/move/${t}`)}abortGame(e){return this.post(`api/bot/game/${e}/abort`)}resignGame(e){return this.post(`api/bot/game/${e}/resign`)}streamEvents(e){return this.stream("api/stream/event",e)}streamGame(e,t){return this.stream(`api/bot/game/stream/${e}`,t)}chat(e,t,r){return this.post(`api/bot/game/${e}/chat`,{room:t,text:r})}logAndReturn(e){return console.log(JSON.stringify(e.data)),e}challenge(e){return this.post(`api/challenge/${e}`,{rated:!0,clock:{limit:60,increment:1},variant:"standard",keepAliveStream:"false"})}get(e){return console.log(`GET ${e}`),BT().get(e+"?v="+Date.now(),this.axiosConfig).then(this.logAndReturn).catch(t=>console.log(t))}post(e,t){return console.log(`POST ${e} `+JSON.stringify(t||{})),BT().post(e,t||{},this.axiosConfig).then(this.logAndReturn).catch(r=>console.log(r.response||r))}stream(e,t){console.log(`GET ${e} stream`),S2({method:"GET",url:this.baseURL+e,headers:this.headers}).node("!",function(r){console.log("STREAM data : "+JSON.stringify(r)),t(r)}).fail(function(r){console.error(JSON.stringify(r))})}}class P2{constructor(e,t,r,i,s){this.gameId="",this.colour="",this.api=e,this.name=t,this.replyChat=r,this.getNextMove=i,this.updateGameState=s}start(e){this.gameId=e,this.api.streamGame(e,t=>this.handler(t))}handleChatLine(e){if(e.username!==this.name){const t=this.replyChat(e);t&&this.api.chat(this.gameId,e.room,t)}}handler(e){switch(e.type){case"chatLine":this.handleChatLine(e);break;case"gameFull":this.colour=this.playingAs(e),this.playNextMove(e.state.moves);break;case"gameState":this.updateGameState(e.status),this.playNextMove(e.moves,this.getRemainingTime(e));break;default:console.log("Unhandled game event : "+JSON.stringify(e))}}getRemainingTime(e){return"white"===this.colour?e.wtime:e.btime}playNextMove(e,t){const r=""===e?[]:e.split(" ");if(this.isTurn(this.colour,r)){const i=this.getNextMove(r,t);i&&(console.log(this.name+" as "+this.colour+" to move "+i),this.api.makeMove(this.gameId,i))}}playingAs(e){return e.white.name===this.name?"white":"black"}isTurn(e,t){var r=t.length%2;return"white"===e?0===r:1===r}}class T2{constructor(e,t,r,i){this.api=e,this.replyChat=t,this.getNextMove=r,this.updateGameState=i}start(){var e=this;return A0(function*(){return e.account=yield e.api.accountInfo(),console.log("Playing as "+e.account.data.username),e.api.streamEvents(t=>e.eventHandler(t)),e.account})()}eventHandler(e){var t;switch(this.updateGameState(null===(t=null==e?void 0:e.challenge)||void 0===t?void 0:t.status),e.type){case"challenge":this.handleChallenge(e.challenge);break;case"gameStart":this.handleGameStart(e.game.id);break;default:console.log("Unhandled event : "+JSON.stringify(e))}}handleGameStart(e){new P2(this.api,this.account.data.username,this.replyChat,this.getNextMove,this.updateGameState).start(e)}handleChallenge(e){var t=this;return A0(function*(){if("marcinlebot"!==e.challenger.id)if(e.rated){console.log("Declining rated challenge from "+e.challenger.id);const r=yield t.api.declineChallenge(e.id);console.log("Declined",r.data||r)}else{console.log("Accepting unrated challenge from "+e.challenger.id);const r=yield t.api.acceptChallenge(e.id);console.log("Accepted",r.data||r)}})()}}class VT{constructor(){this.pawns=0,this.knighs=0,this.bishops=0,this.rooks=0,this.queens=0}clear(){this.pawns=0,this.knighs=0,this.bishops=0,this.rooks=0,this.queens=0}score(){let e=this.pawns+3*this.knighs+3*this.bishops+5*this.rooks+9*this.queens;return 2==this.bishops&&(e+=.5),e}getAllPeaces(){return this.knighs+this.bishops+this.rooks+this.queens}}class M2{constructor(e){this.chess=e,this.whiteCount=new VT,this.blackCount=new VT,this.whiteKingPosition={x:-1,y:-1},this.whitePawnsPositions=Array(),this.whiteQueensPositions=Array(),this.whiteRooksPositions=Array(),this.whiteBishopsPositions=Array(),this.whiteKnightsPositions=Array(),this.blackKingPosition={x:-1,y:-1},this.blackPawnsPositions=Array(),this.blackQueensPositions=Array(),this.blackRooksPositions=Array(),this.blackBishopsPositions=Array(),this.blackKnightsPositions=Array()}description(){return"Material"}score(){let e=0;return this.checkMaterial(),e=this.whiteCount.score()-this.blackCount.score(),e}checkMaterial(){this.clear();let e=this.chess.board();for(let t=0;t<8;t++)for(let r=0;r<8;r++){let i=e[t][r];i&&("w"==(null==i?void 0:i.color)?(this.countPieceMaterial(null==i?void 0:i.type,this.whiteCount),"k"===(null==i?void 0:i.type)?this.whiteKingPosition={x:r,y:t}:"q"===(null==i?void 0:i.type)?this.whiteQueensPositions.push({x:r,y:t}):"r"===(null==i?void 0:i.type)?this.whiteRooksPositions.push({x:r,y:t}):"b"===(null==i?void 0:i.type)?this.whiteBishopsPositions.push({x:r,y:t}):"n"===(null==i?void 0:i.type)?this.whiteKnightsPositions.push({x:r,y:t}):"p"===(null==i?void 0:i.type)&&this.whitePawnsPositions.push({x:r,y:t})):(this.countPieceMaterial(null==i?void 0:i.type,this.blackCount),"k"===(null==i?void 0:i.type)?this.blackKingPosition={x:r,y:t}:"q"===(null==i?void 0:i.type)?this.blackQueensPositions.push({x:r,y:t}):"r"===(null==i?void 0:i.type)?this.blackRooksPositions.push({x:r,y:t}):"b"===(null==i?void 0:i.type)?this.blackBishopsPositions.push({x:r,y:t}):"n"===(null==i?void 0:i.type)?this.blackKnightsPositions.push({x:r,y:t}):"p"===(null==i?void 0:i.type)&&this.blackPawnsPositions.push({x:r,y:t})))}this.whitePawnsPositions.sort((t,r)=>t.x-r.x),this.blackPawnsPositions.sort((t,r)=>t.x-r.x)}countPieceMaterial(e,t){switch(e){case"p":t.pawns++;break;case"n":t.knighs++;break;case"b":t.bishops++;break;case"r":t.rooks++;break;case"q":t.queens++}}evaluatePieceMaterial(e){switch(e){case"p":return 1;case"n":return 3;case"b":return"w"==this.chess.turn()&&2==this.blackCount.bishops||"b"==this.chess.turn()&&2==this.whiteCount.bishops?3.5:3;case"r":return 5;case"q":return 9;default:return 0}}refreshPeacesPosition(){this.checkMaterial()}getAllWhitePeacesPosition(){return this.whiteQueensPositions.concat(this.whiteRooksPositions,this.whiteBishopsPositions,this.whiteKnightsPositions,this.whitePawnsPositions)}getAllBlackPeacesPosition(){return this.blackQueensPositions.concat(this.blackRooksPositions,this.blackBishopsPositions,this.blackKnightsPositions,this.blackPawnsPositions)}clear(){this.whiteCount.clear(),this.blackCount.clear(),this.whiteKingPosition={x:-1,y:-1},this.whitePawnsPositions=Array(),this.whiteQueensPositions=Array(),this.whiteRooksPositions=Array(),this.whiteBishopsPositions=Array(),this.whiteKnightsPositions=Array(),this.blackKingPosition={x:-1,y:-1},this.blackPawnsPositions=Array(),this.blackQueensPositions=Array(),this.blackRooksPositions=Array(),this.blackBishopsPositions=Array(),this.blackKnightsPositions=Array()}}class Te{constructor(e,t,r){this.decription=e,this.fen=t,this.bestMove=r}}class I2{constructor(e,t){this.loadFen=e,this.getNextMove=t,this.verbose=!1}test(){console.log("TEST START");let e=0,t=0;this.loadTests().forEach(r=>{this.loadFen(r.fen);let i=this.getNextMove(),s=`${i.move.from}${i.move.to}`;this.verbose?(console.log("TEST - "+r.decription),console.log(`${s} | ${r.bestMove}`)):`${s}`!=`${r.bestMove}`?(console.warn(`${r.decription} | Current:${s} | Expexted:${r.bestMove}`),t++):e++}),console.log(`Total:${e+t} | Passed:${e} | Faild:${t}`),console.log("TEST END")}loadTests(){let e=[];return e.push(...this.center()),e.push(...this.peaces()),e.push(...this.castle()),e.push(...this.openLine()),e.push(...this.lastRank()),e.push(...this.passedPawn()),e.push(...this.exchange()),e.push(...this.twoBishops()),e.push(...this.promotion()),e.push(...this.kingRing()),e.push(...this.doubledPawns()),e.push(...this.hangingPeaces()),e.push(...this.attackPeaces()),e}center(){let e=[];return e.push(new Te("Center - c4","rnbqkbnr/pppppppp/8/8/3PPP2/5N2/PPPNB1PP/R1BQ1RK1 w Qkq - 0 1","c2c4")),e.push(new Te("Center - d4","rnbqkbnr/pppppppp/8/8/2P1PP2/2N2N2/PPQPB1PP/R1B2RK1 w Qkq - 0 1","d2d4")),e.push(new Te("Center - e4","rnbqkbnr/pppppppp/8/8/2PP1P2/1QNB1N2/PP1BP1PP/R4RK1 w Qkq - 0 1","e2e4")),e.push(new Te("Center - f4","rnbqkbnr/pppppppp/8/8/2PPP3/1QNB4/PP1BNPPP/R4RK1 w Qkq - 0 1","f2f4")),e.push(new Te("Center - c5","r1bq1rk1/pppnb1pp/5n2/3ppp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","c7c5")),e.push(new Te("Center - d5","r1b2rk1/ppqpb1pp/n4n2/2p1pp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","d7d5")),e.push(new Te("Center - e5","r4rk1/ppqbp1pp/n2b1n2/2pp1p2/8/6P1/PPPPPP1P/RNBQKBNR b KQq - 0 1","e7e5")),e.push(new Te("Center - f5","r4rk1/ppqbnppp/n2b4/2ppp3/8/6P1/PPPPPP1P/RNBQKBNR b KQq - 0 1","f7f5")),e}peaces(){let e=[];return e.push(new Te("Peaces - Nb1","rnbqkbnr/pppppppp/8/8/2PPPP2/P4N2/1PQBB1PP/RN3RK1 w Qkq - 0 1","b1c3")),e.push(new Te("Peaces - Ng1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1N4P/1PQBB1P1/2KR2NR w Kkq - 0 1","g1f3")),e.push(new Te("Peaces - Bc1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1NBN3/1PQ3PP/R1B2RK1 w Qkq - 0 1","c1d2")),e.push(new Te("Peaces - Bf1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1NQ1N1P/1P1B2P1/2KR1B1R w Kkq - 0 1","f1e2")),e.push(new Te("Peaces - Qd1","rnbqkbnr/pppppppp/8/8/2PPPP2/PPN2N1P/3BB1P1/R2Q1RK1 w kq - 0 1","d1c2")),e.push(new Te("Peaces - Nb8","rn3rk1/1pqbb1pp/p4n2/2pppp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","b8c6")),e.push(new Te("Peaces - Ng8","2kr2nr/1pqbb1p1/p1n4p/2pppp2/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","g8f6")),e.push(new Te("Peaces - Bc8","r1b2rk1/pp2qppp/3bnn2/2ppp3/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","c8d7")),e.push(new Te("Peaces - Bf8","2kr1b1r/ppqn1ppp/3p1n2/2pbp3/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","f8e7")),e.push(new Te("Peaces - Qd8","r2q1rk1/p2bbppp/1pn2n2/2ppp3/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","d8c7")),e}castle(){let e=[];return e.push(new Te("Castel white - 0-0","rnbqkbnr/pppppppp/8/8/3PP3/2N2NP1/PPPBQPBP/1R2K2R w Kkq - 0 1","e1g1")),e.push(new Te("Castel white - 0-0-0","rnbqkbnr/pppppppp/8/8/3PP3/2N2NP1/PPPBQPBP/R3K1R1 w Qkq - 0 1","e1c1")),e.push(new Te("Castel black - 0-0","1r2k2r/pppq1ppp/2n2n2/2bppb2/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","e8g8")),e.push(new Te("Castel black - 0-0-0","r3k1r1/pppq1ppp/2n2n2/2bppb2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","e8c8")),e}openLine(){let e=[];return e.push(new Te("Semi-open line - white","rn2k2r/pppbbppp/4pn2/8/8/2NB1N2/PPPP1PPP/R1B2RK1 w Qkq - 0 1","f1e1")),e.push(new Te("Semi-open line - black","rn3rk1/1p1b1ppp/p1p1pn2/2b5/8/2NB1N2/PPPP1PPP/R1B2RK1 b Qq - 0 1","f8d8")),e.push(new Te("open line vs semi-open - white","rn2k2r/pp1bbppp/4pn2/8/8/N2B1N2/PP1P1PPP/5RK1 w kq - 0 1","f1c1")),e.push(new Te("open line vs semi-open - black","rn3rk1/1p1nb2p/p1b3p1/4pp2/8/N2B1N2/PP1P1PPP/5RK1 b q - 0 1","f8c8")),e}lastRank(){let e=[];return e.push(new Te("7th rank","4rk2/5ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c7")),e.push(new Te("8th rank, no checkmate","5k2/r4ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c8")),e.push(new Te("8th rank with checkmate","6k1/r4ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c8")),e.push(new Te("2nd rank","5k2/r4ppp/8/8/8/8/4PPP1/2R2K2 b - - 0 1","a7a2")),e.push(new Te("1st rank, no checkmate","5k2/r4ppp/8/8/8/8/2R1PP2/5K2 b - - 0 1","a7a1")),e.push(new Te("1st rank with checkmate","5k2/r4ppp/8/8/8/8/2R1PPP1/5K2 b - - 0 1","a7a1")),e}passedPawn(){let e=[];return e.push(new Te("passed pawn white","5k2/5ppp/1P6/8/8/3K1P2/P7/8 w - - 0 1","b6b7")),e.push(new Te("passed pawn black","5k2/6pp/1P6/5p2/8/3K1P2/P7/8 b - - 0 1","h7h5")),e.push(new Te("push passed pawn is better than center - white","8/8/8/8/4P3/8/8/k6K w - - 0 1","e4e5")),e.push(new Te("push passed pawn is better than center - black","1RK5/p3b3/k6p/2p4P/1p6/8/4r3/8 b - - 1 62","c5c4")),e.push(new Te("push passed pawn is better then promotion if new peaces can be captured","8/7p/P1bk4/8/8/2K3R1/6pr/8 b - - 9 54","h7h5")),e}exchange(){let e=[];return e.push(new Te("exchange peace when material is in plus","8/4pp2/1p2nk2/3B4/2P2P2/6P1/PP3K2/8 w - - 0 1","d5e6")),e.push(new Te("exhange pawns when have advantage and more pawns then 2","8/p1p1p1p1/1p2nk2/2P5/5P2/4P1P1/P2PBK1P/8 w - - 0 1","c5b6")),e.push(new Te("don't exhange pawns when have advantage and less pawns then 2","8/p7/1p5k/2P5/8/8/4BK2/8 w - - 0 1","c5c6")),e.push(new Te("exhange pawns when opponent has advantage","8/p1p1pp2/1p3kn1/2P5/3P1P2/4P1P1/PP2BK2/8 b - - 0 1","b6c5")),e.push(new Te("don't exhange peaces when opponeny has advantage","8/p1p1p3/1p2k1n1/2P5/3P1P1B/6P1/PP3K2/8 b - - 0 1","b6c5")),e}twoBishops(){let e=[];return e.push(new Te("exchange knight for bishop to have bishop pair","8/p1pbp1b1/1p2k1n1/8/2P2P1B/1P1P2P1/P1BN1K2/8 b - - 0 1","g6h4")),e.push(new Te("if have bishop pair don't exhange bishop for knight","8/p1pbpkb1/1p3n2/8/2P2P1B/1N4P1/PPBP1K2/8 w - - 0 1","d2d4")),e}promotion(){let e=[];return e.push(new Te("promotion for white","2R5/p3P3/kp5p/2p4P/8/P6K/2rb4/8 w - - 3 49","e7e8")),e.push(new Te("promotion for black","8/p5K1/7p/2p3bP/k7/8/1p6/8 b - - 1 72","b2b1")),e}kingRing(){let e=[];return e.push(new Te("king ring for white","rnbq1rk1/ppp1bpp1/4pn1p/3p4/3P4/1PN1PN2/PBP2PPP/R1Q1RBK1 w Qq - 0 1","f1d3")),e.push(new Te("king ring for black","1n1q1rk1/1p1b2pp/p1pnp3/3p1p2/3P4/1P1BP3/PBPN1PPP/RN1Q1RK1 b Q - 0 1","d8h4")),e}doubledPawns(){let e=[];return e.push(new Te("recapture for white","rn1qkbnr/ppp1pp1p/3p2p1/8/2PP4/4Pb2/PP2QPPP/RNB1KB1R w KQkq - 0 1","e2f3")),e.push(new Te("recapture for black","rnb1kb1r/ppp1qppp/4pB2/3p4/3P4/4PN2/PPP2PPP/RN1QKB1R b KQkq - 0 1","e7f6")),e}hangingPeaces(){let e=[];return e.push(new Te("move hanging peace - white","kr3r2/1p1n3p/p5p1/4pp2/8/NP3N2/P4PPP/6K1 w - - 0 1","a3c4")),e.push(new Te("defece hanging peace - white","r4r1k/1p1n1p1p/p5p1/3N4/8/1P3N2/P1P1PPPP/6K1 w - - 0 1","c2c4")),e.push(new Te("move hanging peace - black","6k1/1p1pp2p/p5p1/5p2/6n1/NP6/P3NPPP/6K1 b - - 0 1","e7e5")),e.push(new Te("defece hanging peace - black","r2k1r2/1p1np3/pPp3p1/P1P2p1p/2NP4/5N2/4PPPP/6K1 b - - 0 1","a8b8")),e}attackPeaces(){let e=[];return e.push(new Te("open file and attack - white","6k1/p1b2ppp/1p6/3p4/3P4/5N2/PP3PPP/5RK1 w - - 0 1","f1c1")),e.push(new Te("open file and attack - black","r5k1/pp2pppp/4np2/8/8/1P4PP/P2B1P2/K7 b - - 0 1","a8d8")),e.push(new Te("pawn fork - white","6k1/pnpnpppp/8/2P5/3Pp3/4P3/P2B4/K7 w - - 0 1","c5c6")),e.push(new Te("knight fork - black","6k1/p3ppp1/n3n2p/8/2P1B2N/4P2R/P4P1P/6K1 b - - 0 1","e6g5")),e}}class x2{constructor(e,t){this.chess=e,this.material=t}description(){return"PawnsStructures"}score(){let e=0;return e+=this.scoreDoublePawns(),e}scoreDoublePawns(){var e,t;let i,s,r=0;for(let o=0;o<8;o++){i=0,s=0;for(let l=1;l<7;l++)"p"===(null===(e=this.chess.board()[l][o])||void 0===e?void 0:e.type)&&("w"===(null===(t=this.chess.board()[l][o])||void 0===t?void 0:t.color)?i++:s++);r+=s>1?.1*(s-1):0,r-=i>1?.1*(i-1):0}return r}}class R2{constructor(e,t,r){this.chess=e,this.material=t,this.SQUARES=r}description(){return"HangingPeaces"}score(){return-.01*(this.countForWhite()-this.countForBlack())}countForWhite(){let e=0;return this.material.getAllWhitePeacesPosition().forEach(t=>{this.chess.isAttacked(this.SQUARES[8*t.y+t.x],"w")||e++}),e}countForBlack(){let e=0;return this.material.getAllBlackPeacesPosition().forEach(t=>{this.chess.isAttacked(this.SQUARES[8*t.y+t.x],"b")||e++}),e}}class O2{constructor(e,t,r){this.chess=e,this.material=t,this.SQUARES=r}description(){return"AttackgPeaces"}score(){return.02*(this.countForWhite()-this.countForBlack())}countForWhite(){let e=0;return this.material.getAllBlackPeacesPosition().forEach(t=>{this.chess.isAttacked(this.SQUARES[8*t.y+t.x],"w")&&e++}),e}countForBlack(){let e=0;return this.material.getAllWhitePeacesPosition().forEach(t=>{this.chess.isAttacked(this.SQUARES[8*t.y+t.x],"b")&&e++}),e}}let x0;try{x0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){x0=!1}let bf,R0,F2=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Yk(n){return n===sP}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!x0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(me(Fm))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cf(n){return function k2(){if(null==bf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bf=!0}))}finally{bf=bf||!1}return bf}()?n:!!n.capture}function UT(n){if(function N2(){if(null==R0){const n="undefined"!=typeof document?document.head:null;R0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return R0}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function b_(n){return n.composedPath?n.composedPath()[0]:n.target}function jT(n){return null!=n&&"false"!=`${n}`}function bi(n){return n instanceof Fr?n.nativeElement:n}class eV extends R{constructor(e,t){super()}schedule(e,t=0){return this}}const C_={setInterval(n,e,...t){const{delegate:r}=C_;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=C_;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class O0 extends eV{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return C_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;C_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,F(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const GT={now:()=>(GT.delegate||Date).now(),delegate:void 0};class Ef{constructor(e,t=Ef.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Ef.now=GT.now;class F0 extends Ef{constructor(e,t=Ef.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const k0=new F0(O0),tV=k0;function zT(n=0,e,t=tV){let r=-1;return null!=e&&(Kf(e)?t=e:r=e),new Ae(i=>{let s=function nV(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const wf={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=wf;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new R(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=wf;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=wf;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},qT=new class sV extends F0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class iV extends O0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=wf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(wf.cancelAnimationFrame(t),e._scheduled=void 0)}});function N0(n){return ve((e,t)=>{Vr(n).subscribe(st(t,()=>t.complete(),ee)),!t.closed&&e.subscribe(t)})}let L0,oV=1;const E_={};function QT(n){return n in E_&&(delete E_[n],!0)}const aV={setImmediate(n){const e=oV++;return E_[e]=!0,L0||(L0=Promise.resolve()),L0.then(()=>QT(e)&&n()),e},clearImmediate(n){QT(n)}},{setImmediate:lV,clearImmediate:uV}=aV,w_={setImmediate(...n){const{delegate:e}=w_;return((null==e?void 0:e.setImmediate)||lV)(...n)},clearImmediate(n){const{delegate:e}=w_;return((null==e?void 0:e.clearImmediate)||uV)(n)},delegate:void 0};new class dV extends F0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class cV extends O0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=w_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(w_.clearImmediate(t),e._scheduled=void 0)}});let mV=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Be,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function pV(n,e=k0){return function fV(n){return ve((e,t)=>{let r=!1,i=null,s=null,o=!1;const l=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const d=i;i=null,t.next(d)}o&&t.complete()},c=()=>{s=null,o&&t.complete()};e.subscribe(st(t,d=>{r=!0,i=d,s||Vr(n(d)).subscribe(s=st(t,l,c))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>zT(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(me(F2),me(hn),me(Hn,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({}),n})();const vV=new xe("cdk-dir-doc",{providedIn:"root",factory:function yV(){return al(Hn)}}),bV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let EV=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Mt,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function CV(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?bV.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(me(vV,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B0(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function Dc(n,e){const t=e?"":"none";B0(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function ZT(n,e,t){B0(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function D_(n,e){return e&&"none"!=e?n+" "+e:n}function YT(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function V0(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function H0(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function U0(n,e,t){const{top:r,bottom:i,left:s,right:o}=n;return t>=r&&t<=i&&e>=s&&e<=o}function Df(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function XT(n,e,t,r){const{top:i,right:s,bottom:o,left:l,width:c,height:d}=n,f=c*e,g=d*e;return r>i-g&&r<o+g&&t>l-f&&t<s+f}class JT{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:H0(t)})})}handleScroll(e){const t=b_(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let s,o;if(t===this._document){const d=this.getViewportScrollPosition();s=d.top,o=d.left}else s=t.scrollTop,o=t.scrollLeft;const l=i.top-s,c=i.left-o;return this.positions.forEach((d,f)=>{d.clientRect&&t!==f&&t.contains(f)&&Df(d.clientRect,l,c)}),i.top=s,i.left=o,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function e1(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?r1(n,e):("input"===r||"select"===r||"textarea"===r)&&n1(n,e),t1("canvas",n,e,r1),t1("input, textarea, select",n,e,n1),e}function t1(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const s=t.querySelectorAll(n);for(let o=0;o<i.length;o++)r(i[o],s[o])}}let DV=0;function n1(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${DV++}`)}function r1(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const s1=Cf({passive:!0}),S_=Cf({passive:!1}),j0=new Set(["position"]);class AV{constructor(e,t,r,i,s,o){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Be,this._pointerMoveSubscription=R.EMPTY,this._pointerUpSubscription=R.EMPTY,this._scrollSubscription=R.EMPTY,this._resizeSubscription=R.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Be,this.started=new Be,this.released=new Be,this.ended=new Be,this.entered=new Be,this.exited=new Be,this.dropped=new Be,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const C=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),w=this._dropContainer;if(!C)return void this._endDragSequence(l);(!w||!w.isDragging()&&!w.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const f=this._activeTransform;f.x=d.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=d.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new JT(r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=jT(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Dc(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>bi(r)),this._handles.forEach(r=>Dc(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=bi(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,S_),t.addEventListener("touchstart",this._pointerDown,s1),t.addEventListener("dragstart",this._nativeDragStart,S_)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?bi(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Dc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Dc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Sf(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();i.insertBefore(o,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),ZT(r,!1,j0),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,l).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=Sf(t),s=!i&&0!==t.button,o=this._rootElement,l=b_(t),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=i?function X2(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function Y2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),r||s||c||d)return;if(this._handles.length){const _=o.style;this._rootElementTapHighlight=_.webkitTapHighlightColor||"",_.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_=>this._updateOnScroll(_)),this._boundaryElement&&(this._boundaryRect=H0(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){ZT(this._rootElement,!0,j0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),o=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,o,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const s=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(r,e.context);o.detectChanges(),i=a1(o,this._document),this._previewRef=o,e.matchSize?l1(i,s):i.style.transform=A_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;i=e1(s),l1(i,s.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return B0(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},j0),Dc(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>i.classList.add(s)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function wV(n){const e=getComputedStyle(n),t=V0(e,"transition-property"),r=t.find(l=>"transform"===l||"all"===l);if(!r)return 0;const i=t.indexOf(r),s=V0(e,"transition-duration"),o=V0(e,"transition-delay");return YT(s[i])+YT(o[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=o=>{var l;(!o||b_(o)===this._preview&&"transform"===o.propertyName)&&(null===(l=this._preview)||void 0===l||l.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=a1(this._placeholderRef,this._document)):r=e1(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,s=i?i.getBoundingClientRect():r,o=Sf(t)?t.targetTouches[0]:t,l=this._getViewportScrollPosition();return{x:s.left-r.left+(o.pageX-s.left-l.left),y:s.top-r.top+(o.pageY-s.top-l.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=Sf(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,s=r.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const l=this._ownerSVGElement.createSVGPoint();return l.x=i,l.y=s,l.matrixTransform(o.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:o}=this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),f=l.top+o,g=l.bottom-(d-o);r=o1(r,l.left+s,l.right-(c-s)),i=o1(i,f,g)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),l=Math.abs(r-s.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Dc(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,S_),e.removeEventListener("touchstart",this._pointerDown,s1),e.removeEventListener("dragstart",this._nativeDragStart,S_)}_applyRootElementTransform(e,t){const r=A_(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=D_(r,this._initialTransform)}_applyPreviewTransform(e,t){var r;const i=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,s=A_(e,t);this._preview.style.transform=D_(s,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,l=r.top-i.top,c=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),o>0&&(e-=o)):e=0,r.height>i.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Sf(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=b_(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Df(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=UT(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return bi(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function A_(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function o1(n,e,t){return Math.max(e,Math.min(t,n))}function Sf(n){return"t"===n.type[0]}function a1(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function l1(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=A_(e.left,e.top)}function Af(n,e){return Math.max(0,Math.min(e,n))}class TV{constructor(e,t,r,i,s){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Be,this.entered=new Be,this.exited=new Be,this.dropped=new Be,this.sorted=new Be,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=R.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Be,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function rV(n=0,e=k0){return n<0&&(n=0),zT(n,n,e)}(0,qT).pipe(N0(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-l):2===this._verticalScrollDirection&&o.scrollBy(0,l),1===this._horizontalScrollDirection?o.scrollBy(-l,0):2===this._horizontalScrollDirection&&o.scrollBy(l,0)})},this.element=bi(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new JT(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let s;this._draggingStarted(),null==i?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,r))):s=i;const o=this._activeDraggables,l=o.indexOf(e),c=e.getPlaceholderElement();let d=o[s];if(d===e&&(d=o[s+1]),!d&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(d=o[0]),l>-1&&o.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const f=d.getRootElement();f.parentElement.insertBefore(c,f),o.splice(s,0,e)}else bi(this.element).appendChild(c),o.push(e);c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,s,o,l){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:o,dropPoint:l})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=bi(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!XT(this._clientRect,.05,t,r))return;const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===o&&s.length>0)return;const l="horizontal"===this._orientation,c=s.findIndex(B=>B.drag===e),d=s[o],g=d.clientRect,_=c>o?1:-1,C=this._getItemOffsetPx(s[c].clientRect,g,_),w=this._getSiblingOffsetPx(c,s,_),I=s.slice();(function PV(n,e,t){const r=Af(e,n.length-1),i=Af(t,n.length-1);if(r===i)return;const s=n[r],o=i<r?-1:1;for(let l=r;l!==i;l+=o)n[l]=n[l+o];n[i]=s})(s,c,o),this.sorted.next({previousIndex:c,currentIndex:o,container:this,item:e}),s.forEach((B,G)=>{if(I[G]===B)return;const H=B.drag===e,Y=H?C:w,he=H?e.getPlaceholderElement():B.drag.getRootElement();B.offset+=Y,l?(he.style.transform=D_(`translate3d(${Math.round(B.offset)}px, 0, 0)`,B.initialTransform),Df(B.clientRect,0,Y)):(he.style.transform=D_(`translate3d(0, ${Math.round(B.offset)}px, 0)`,B.initialTransform),Df(B.clientRect,Y,0))}),this._previousSwap.overlaps=U0(g,t,r),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((o,l)=>{l===this._document||!o.clientRect||r||XT(o.clientRect,.05,e,t)&&([i,s]=function MV(n,e,t,r){const i=d1(e,r),s=h1(e,t);let o=0,l=0;if(i){const c=n.scrollTop;1===i?c>0&&(o=1):n.scrollHeight-c>n.clientHeight&&(o=2)}if(s){const c=n.scrollLeft;1===s?c>0&&(l=1):n.scrollWidth-c>n.clientWidth&&(l=2)}return[o,l]}(l,o.clientRect,e,t),(i||s)&&(r=l))}),!i&&!s){const{width:o,height:l}=this._viewportRuler.getViewportSize(),c={width:o,height:l,top:0,right:o,bottom:l,left:0};i=d1(c,t),s=h1(c,e),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=bi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=bi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:H0(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=bi(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var r;const i=t.getRootElement();if(i){const s=null===(r=this._itemPositions.find(o=>o.drag===t))||void 0===r?void 0:r.initialTransform;i.style.transform=s||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,s=t[e].clientRect,o=t[e+-1*r];let l=s[i?"width":"height"]*r;if(o){const c=i?"left":"top",d=i?"right":"bottom";-1===r?l-=o.clientRect[c]-s[d]:l+=s[c]-o.clientRect[d]}return l}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let s=i?t.left-e.left:t.top-e.top;return-1===r&&(s+=i?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const o=r[r.length-1].clientRect;return i?e>=o.right:t>=o.bottom}{const o=r[0].clientRect;return i?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,r,i){const s="horizontal"===this._orientation,o=this._itemPositions.findIndex(({drag:l,clientRect:c})=>{if(l===e)return!1;if(i){const d=s?i.x:i.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return s?t>=Math.floor(c.left)&&t<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return-1!==o&&this.sortPredicate(o,e,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&U0(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!U0(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const s=bi(this.element);return i===s||s.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{Df(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=UT(bi(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function d1(n,e){const{top:t,bottom:r,height:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}function h1(n,e){const{left:t,right:r,width:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}const P_=Cf({passive:!1,capture:!0});let IV=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new Be,this.pointerUp=new Be,this.scroll=new Be,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,P_)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,P_)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:P_}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:P_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new Ae(i=>this._ngZone.runOutsideAngular(()=>{const o=l=>{this._activeDragInstances.length&&i.next(l)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),Xl(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(me(hn),me(Hn))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xV={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let f1=(()=>{class n{constructor(t,r,i,s){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(t,r=xV){return new AV(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new TV(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(me(Hn),me(hn),me(mV),me(IV))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p1=new xe("CDK_DRAG_PARENT"),RV=new xe("CDK_DRAG_CONFIG"),OV=new xe("CdkDropList"),g1=new xe("CdkDragHandle"),FV=new xe("CdkDragPlaceholder"),kV=new xe("CdkDragPreview");let LV=(()=>{class n{constructor(t,r,i,s,o,l,c,d,f,g,_){this.element=t,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=o,this._dir=c,this._changeDetectorRef=f,this._selfHandle=g,this._parentDrag=_,this._destroyed=new Be,this.started=new Mt,this.released=new Mt,this.ended=new Mt,this.entered=new Mt,this.exited=new Mt,this.dropped=new Mt,this.moved=new Ae(C=>{const w=this._dragRef.moved.pipe(ct(I=>({source:this,pointerPosition:I.pointerPosition,event:I.event,delta:I.delta,distance:I.distance}))).subscribe(C);return()=>{w.unsubscribe()}}),this._dragRef=d.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:null==l?void 0:l.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),l&&this._assignDefaults(l),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=jT(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(io(1),N0(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const r=this.element.nativeElement;let i=r;this.rootElementSelector&&(i=void 0!==r.closest?r.closest(this.rootElementSelector):null===(t=r.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||r)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):bi(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function L2(n,e=0){return function B2(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(io(1)).subscribe(()=>{var r;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent((null===(r=n._dragInstances.find(s=>s.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:o,boundaryElement:l,draggingDisabled:c,rootElementSelector:d,previewContainer:f}=t;this.disabled=null!=c&&c,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),o&&(this.previewClass=o),l&&(this.boundaryElement=l),d&&(this.rootElementSelector=d),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(n0(this._handles),ri(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Sa(t=>Xl(...t.map(r=>r._stateChanges.pipe(n0(r))))),N0(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(J(Fr),J(OV,12),J(Hn),J(hn),J(Ki),J(RV,8),J(EV,8),J(f1),J(gc),J(g1,10),J(p1,12))},n.\u0275dir=ke({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(fc(i,kV,5),fc(i,FV,5),fc(i,g1,5)),2&t){let s;zs(s=qs())&&(r._previewTemplate=s.first),zs(s=qs())&&(r._placeholderTemplate=s.first),zs(s=qs())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&Al("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[an([{provide:p1,useExisting:n}]),Nn]}),n})(),BV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({providers:[f1],imports:[_V]}),n})();var VV=M(489);const HV=["myModal"];function UV(n,e){if(1&n){const t=Eo();et(0,"div",5)(1,"div",6),wt("click",function(){return Jt(t),St().changeSelection(1)}),ur(2,"img",7),tt(),et(3,"div",6),wt("click",function(){return Jt(t),St().changeSelection(2)}),ur(4,"img",8),tt(),et(5,"div",6),wt("click",function(){return Jt(t),St().changeSelection(3)}),ur(6,"img",9),tt(),et(7,"div",6),wt("click",function(){return Jt(t),St().changeSelection(4)}),ur(8,"img",10),tt()()}if(2&n){const t=St();we(2),xt("src",t.getPieceIcon("queen"),In),we(2),xt("src",t.getPieceIcon("rook"),In),we(2),xt("src",t.getPieceIcon("bishop"),In),we(2),xt("src",t.getPieceIcon("knight"),In)}}function jV(n,e){if(1&n){const t=Eo();et(0,"div",5)(1,"div",6),wt("click",function(){return Jt(t),St().changeSelection(1)}),on(2,"\u265b"),tt(),et(3,"div",6),wt("click",function(){return Jt(t),St().changeSelection(2)}),on(4,"\u265c"),tt(),et(5,"div",6),wt("click",function(){return Jt(t),St().changeSelection(3)}),on(6,"\u265d"),tt(),et(7,"div",6),wt("click",function(){return Jt(t),St().changeSelection(4)}),on(8,"\u265e"),tt()()}}const $V=["boardRef"],WV=["modal"];function KV(n,e){if(1&n){const t=Eo();et(0,"div",11),wt("cdkDragEnded",function(i){return Jt(t),St().dragEnded(i)})("cdkDragMoved",function(i){return Jt(t),St().dragMoved(i)})("cdkDragStarted",function(i){return Jt(t),St().dragStart(i)}),tt()}if(2&n){const t=e.$implicit,r=St();wo("transform","translate3d("+t.point.col*r.pieceSize+"px, "+t.point.row*r.pieceSize+"px,0px)")("max-height",r.pieceSize+"px")("font-size",.8*r.pieceSize+"px")("width",r.pieceSize+"px")("height",r.pieceSize+"px"),xt("cdkDragDisabled",r.engineFacade.dragDisabled)("innerHTML",r.engineFacade.pieceIconManager.isDefaultIcons()?t.constant.icon:"",lg)("ngStyle",r.engineFacade.pieceIconManager.isDefaultIcons()?"":r.getCustomPieceIcons(t))}}function GV(n,e){if(1&n&&(et(0,"span",18),on(1),tt()),2&n){const t=St(2).index,r=St();wo("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),we(1),Ea(" ",r.engineFacade.coords.yCoords[t]," ")}}function zV(n,e){if(1&n&&(et(0,"span",19),on(1),tt()),2&n){const t=St().index,r=St(2);wo("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),we(1),Ea(" ",r.engineFacade.coords.xCoords[t]," ")}}function qV(n,e){if(1&n&&(et(0,"div",20),ur(1,"div",21),tt()),2&n){const t=St(3);we(1),wo("font-size",t.pieceSize+"px"),xt("ngClass","piece")}}function QV(n,e){if(1&n&&(et(0,"div",14),Zn(1,GV,2,5,"span",15),Zn(2,zV,2,5,"span",16),Zn(3,qV,2,3,"div",17),tt()),2&n){const t=e.index,r=St().index,i=St();wo("background-color",i.getTileBackgroundColor(r,t)),Al("current-selection",i.showActivePiece&&i.engineFacade.board.isXYInActiveMove(r,t))("king-check",i.engineFacade.board.isKingChecked(i.engineFacade.board.getPieceByPoint(r,t)))("point-circle",i.engineFacade.board.isXYInPointSelection(r,t))("possible-capture",i.showPossibleCaptures&&i.engineFacade.board.isXYInPossibleCaptures(r,t))("possible-point",i.engineFacade.board.isXYInPossibleMoves(r,t)&&i.showLegalMoves),we(1),xt("ngIf",i.showCoords&&7===t),we(1),xt("ngIf",i.showCoords&&7===r),we(1),xt("ngIf",i.engineFacade.board.getPieceByPoint(r,t))}}function ZV(n,e){if(1&n&&(et(0,"div",12),Zn(1,QV,4,15,"div",13),tt()),2&n){const t=e.$implicit;we(1),xt("ngForOf",t)}}function YV(n,e){if(1&n&&(Xa(),et(0,"defs")(1,"marker",22),ur(2,"path",23),tt()()),2&n){const t=e.$implicit;we(1),xt("id",t+"Arrow"),we(1),wo("fill",t)}}function XV(n,e){if(1&n&&(Xa(),ur(0,"line",24)),2&n){const t=e.$implicit;_i("marker-end","url(#"+t.end.color+"Arrow)")("stroke",t.end.color)("x1",t.start.x)("x2",t.end.x)("y1",t.start.y)("y2",t.end.y)}}function JV(n,e){if(1&n&&(Xa(),ur(0,"circle",25)),2&n){const t=e.$implicit,r=St();_i("cx",t.drawPoint.x)("cy",t.drawPoint.y)("r",r.engineFacade.heightAndWidth/18)("stroke",t.drawPoint.color)}}const eH=function(){return["red","green","blue","orange"]};var D=(()=>{return(n=D||(D={}))[n.WHITE=0]="WHITE",n[n.BLACK=1]="BLACK",D;var n})();class Sc{constructor(e,t,r,i,s){this.checkPoints=[],this.color=t,this.constant=r,this.point=e,this.relValue=i,this.board=s}}class N{constructor(e,t){this.row=e,this.col=t}isEqual(e){return e&&this.row===e.row&&this.col===e.col}hasCoordsEqual(e,t){return e&&t&&this.row===e&&this.col===t}isInRange(){return this.row>=0&&this.row<=7&&this.col>=0&&this.col<=7}clone(){return new N(this.row,this.col)}}class Yn extends Sc{constructor(e,t,r,i){super(e,t,r,5,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new N(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new N(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new N(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new N(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldEmpty(i,r))e.push(new N(i,r));else if(!(this.board.getPieceByField instanceof kt)){e.push(new N(i,r));break}for(let i=t-1;i>=0;--i)if(this.board.isFieldEmpty(i,r))e.push(new N(i,r));else if(!(this.board.getPieceByField instanceof kt)){e.push(new N(i,r));break}for(let i=r-1;i>=0;--i)if(this.board.isFieldEmpty(t,i))e.push(new N(t,i));else if(!(this.board.getPieceByField instanceof kt)){e.push(new N(t,i));break}for(let i=r+1;i<8;++i)if(this.board.isFieldEmpty(t,i))e.push(new N(t,i));else if(!(this.board.getPieceByField instanceof kt)){e.push(new N(t,i));break}return e}}class kt extends Sc{constructor(e,t,r,i){super(e,t,r,0,i),this.castledAlready=!1,this.shortCastled=!1,this.longCastled=!1,this.isCastling=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;if(this.board.isFieldEmpty(t,r-1)&&!this.board.isFieldUnderAttack(t,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t,r-1)),this.board.isFieldEmpty(t,r+1)&&!this.board.isFieldUnderAttack(t,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t,r+1)),this.board.isFieldEmpty(t+1,r)&&!this.board.isFieldUnderAttack(t+1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r)),this.board.isFieldEmpty(t-1,r)&&!this.board.isFieldUnderAttack(t-1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r)),this.board.isFieldEmpty(t-1,r-1)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r-1)),this.board.isFieldEmpty(t-1,r+1)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r+1)),this.board.isFieldEmpty(t+1,r-1)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r-1)),this.board.isFieldEmpty(t+1,r+1)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r+1)),!this.isMovedAlready){let i=!0;for(let o=r-1;o>0;--o)if(!this.board.isFieldEmpty(t,o)||this.board.isFieldUnderAttack(t,o,this.color===D.WHITE?D.BLACK:D.WHITE)){i=!1;break}if(i&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,0)){const o=this.board.getPieceByField(t,0);o instanceof Yn&&(o.isMovedAlready||e.push(new N(t,r-2)))}let s=!0;for(let o=r+1;o<7;++o)if(!this.board.isFieldEmpty(t,o)||this.board.isFieldUnderAttack(t,o,this.color===D.WHITE?D.BLACK:D.WHITE)){s=!1;break}if(s&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,7)){const o=this.board.getPieceByField(t,7);o instanceof Yn&&(o.isMovedAlready||e.push(new N(t,r+2)))}}return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t,r-1)),this.board.isFieldTakenByEnemy(t,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t,r+1)),this.board.isFieldTakenByEnemy(t+1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t+1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r)),this.board.isFieldTakenByEnemy(t-1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t-1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r)),this.board.isFieldTakenByEnemy(t-1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r+1)),this.board.isFieldTakenByEnemy(t+1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new N(t,r-1)),e.push(new N(t,r+1)),e.push(new N(t+1,r)),e.push(new N(t-1,r)),e.push(new N(t-1,r-1)),e.push(new N(t-1,r+1)),e.push(new N(t+1,r-1)),e.push(new N(t+1,r+1)),e}}class Qi extends Sc{constructor(e,t,r,i){super(e,t,r,3,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new N(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new N(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new N(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new N(i,s));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,s));break}if(!this.board.isFieldEmpty(i,s))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof kt||e.push(new N(i,s));break}e.push(new N(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof kt||e.push(new N(i,s));break}e.push(new N(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof kt||e.push(new N(i,s));break}e.push(new N(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof kt||e.push(new N(i,s));break}e.push(new N(i,s))}return e}}class Zi extends Sc{constructor(e,t,r,i){super(e,t,r,3,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldEmpty(t-2,r-1)&&e.push(new N(t-2,r-1)),this.board.isFieldEmpty(t-2,r+1)&&e.push(new N(t-2,r+1)),this.board.isFieldEmpty(t-1,r-2)&&e.push(new N(t-1,r-2)),this.board.isFieldEmpty(t-1,r+2)&&e.push(new N(t-1,r+2)),this.board.isFieldEmpty(t+1,r-2)&&e.push(new N(t+1,r-2)),this.board.isFieldEmpty(t+1,r+2)&&e.push(new N(t+1,r+2)),this.board.isFieldEmpty(t+2,r-1)&&e.push(new N(t+2,r-1)),this.board.isFieldEmpty(t+2,r+1)&&e.push(new N(t+2,r+1)),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t-2,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-2,r-1)),this.board.isFieldTakenByEnemy(t-2,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-2,r+1)),this.board.isFieldTakenByEnemy(t-1,r-2,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r-2)),this.board.isFieldTakenByEnemy(t-1,r+2,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r+2)),this.board.isFieldTakenByEnemy(t+1,r-2,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r-2)),this.board.isFieldTakenByEnemy(t+1,r+2,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r+2)),this.board.isFieldTakenByEnemy(t+2,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+2,r-1)),this.board.isFieldTakenByEnemy(t+2,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+2,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new N(t-2,r-1)),e.push(new N(t-2,r+1)),e.push(new N(t-1,r-2)),e.push(new N(t-1,r+2)),e.push(new N(t+1,r-2)),e.push(new N(t+1,r+2)),e.push(new N(t+2,r-1)),e.push(new N(t+2,r+1)),e}}class Xn extends Sc{constructor(e,t,r,i){super(e,t,r,1,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===D.WHITE||this.board.reverted&&this.color===D.BLACK?this.board.isFieldEmpty(t-1,r)&&(e.push(new N(t-1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t-2,r)&&e.push(new N(t-2,r))):this.board.isFieldEmpty(t+1,r)&&(e.push(new N(t+1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t+2,r)&&e.push(new N(t+2,r))),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===D.WHITE||this.board.reverted&&this.color===D.BLACK?(this.board.isFieldTakenByEnemy(t-1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t-1,r+1))):(this.board.isFieldTakenByEnemy(t+1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new N(t+1,r+1))),this.board.enPassantPoint&&this.board.enPassantPiece.color===(this.color===D.WHITE?D.BLACK:D.WHITE)&&t===this.board.enPassantPiece.point.row&&1===Math.abs(this.board.enPassantPiece.point.col-r)&&e.push(this.board.enPassantPoint),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===D.WHITE||this.board.reverted&&this.color===D.BLACK?(e.push(new N(t-1,r-1)),e.push(new N(t-1,r+1))):(e.push(new N(t+1,r-1)),e.push(new N(t+1,r+1))),e}}class Js extends Sc{constructor(e,t,r,i){super(e,t,r,9,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new N(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new N(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new N(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new N(i,s));for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new N(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new N(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new N(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new N(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new N(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof kt||e.push(new N(i,r));break}e.push(new N(i,r))}for(let i=t-1;i>=0;--i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof kt||e.push(new N(i,r));break}e.push(new N(i,r))}for(let i=r-1;i>=0;--i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof kt||e.push(new N(t,i));break}e.push(new N(t,i))}for(let i=r+1;i<8;++i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof kt||e.push(new N(t,i));break}e.push(new N(t,i))}for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof kt||e.push(new N(i,s));break}e.push(new N(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof kt||e.push(new N(i,s));break}e.push(new N(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof kt||e.push(new N(i,s));break}e.push(new N(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof kt||e.push(new N(i,s));break}e.push(new N(i,s))}return e}}const Ve={WHITE_KING:{name:"King",icon:"&#x2654;"},WHITE_QUEEN:{name:"Queen",icon:"&#x2655;"},WHITE_KNIGHT:{name:"Knight",icon:"&#x2658"},WHITE_ROOK:{name:"Rook",icon:"&#x2656"},WHITE_PAWN:{name:"Pawn",icon:"&#x2659"},WHITE_BISHOP:{name:"Bishop",icon:"&#x2657"},BLACK_KING:{name:"King",icon:"&#x265A"},BLACK_QUEEN:{name:"Queen",icon:"&#x265B"},BLACK_KNIGHT:{name:"Knight",icon:"&#x265E"},BLACK_ROOK:{name:"Rook",icon:"&#x265C"},BLACK_PAWN:{name:"Pawn",icon:"&#x265F"},BLACK_BISHOP:{name:"Bishop",icon:"&#x265D"}};class m1{process(e,t){let r=e;if(!e)throw Error("Incorrect FEN provided");{t.board.reverted=!1,t.board.pieces=[];const i=r.split("/");for(let s=0;s<8;++s){let o=0;for(let l=0;l<i[s].split(" ")[0].length;++l){const c=i[s].charAt(l);if(c.match(/[0-9]/))o+=Number(c);else{switch(c){case"r":t.board.pieces.push(new Yn(new N(s,o),D.BLACK,Ve.BLACK_ROOK,t.board));break;case"n":t.board.pieces.push(new Zi(new N(s,o),D.BLACK,Ve.BLACK_KNIGHT,t.board));break;case"b":t.board.pieces.push(new Qi(new N(s,o),D.BLACK,Ve.BLACK_BISHOP,t.board));break;case"q":t.board.pieces.push(new Js(new N(s,o),D.BLACK,Ve.BLACK_QUEEN,t.board));break;case"k":t.board.pieces.push(new kt(new N(s,o),D.BLACK,Ve.BLACK_KING,t.board));break;case"p":{const d=new Xn(new N(s,o),D.BLACK,Ve.BLACK_PAWN,t.board);(d.color===D.BLACK&&1!==d.point.row||d.color===D.WHITE&&6!==d.point.row)&&(d.isMovedAlready=!0),t.board.pieces.push(d);break}case"R":t.board.pieces.push(new Yn(new N(s,o),D.WHITE,Ve.WHITE_ROOK,t.board));break;case"N":t.board.pieces.push(new Zi(new N(s,o),D.WHITE,Ve.WHITE_KNIGHT,t.board));break;case"B":t.board.pieces.push(new Qi(new N(s,o),D.WHITE,Ve.WHITE_BISHOP,t.board));break;case"Q":t.board.pieces.push(new Js(new N(s,o),D.WHITE,Ve.WHITE_QUEEN,t.board));break;case"K":t.board.pieces.push(new kt(new N(s,o),D.WHITE,Ve.WHITE_KING,t.board));break;case"P":{const d=new Xn(new N(s,o),D.WHITE,Ve.WHITE_PAWN,t.board);(d.color===D.BLACK&&1!==d.point.row||d.color===D.WHITE&&6!==d.point.row)&&(d.isMovedAlready=!0),t.board.pieces.push(d);break}}++o}}}this.setCurrentPlayer(t.board,r),this.setCastles(t.board,r),this.setEnPassant(r),this.setFullMoveCount(r),t.board.fen=r}}setCurrentPlayer(e,t){if(t){const r=t.split(" ");e.currentWhitePlayer="w"===r[1]}}setCastles(e,t){if(t){const i=t.split(" ")[2];i.includes("K")||this.setRookAlreadyMoved(e,D.WHITE,7),i.includes("Q")||this.setRookAlreadyMoved(e,D.WHITE,0),i.includes("k")||this.setRookAlreadyMoved(e,D.BLACK,7),i.includes("q")||this.setRookAlreadyMoved(e,D.BLACK,0)}}setFullMoveCount(e){}setEnPassant(e){!e||e.split(" ")}setRookAlreadyMoved(e,t,r){const i=e.pieces.find(s=>s.color===t&&s instanceof Yn&&s.point.col===r);i&&(i.isMovedAlready=!0)}}class tH{constructor(e,t,r){this._xAxis=e,this._yAxis=t,this._reverted=r}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e}get reverted(){return this._reverted}set reverted(e){this._reverted=e}}class Me{static willMoveCauseCheck(e,t,r,i,s,o){const l=o.getPieceByField(t,r),c=o.getPieceByField(i,s);l&&(l.point.row=i,l.point.col=s),c&&(o.pieces=o.pieces.filter(f=>f!==c));const d=o.isKingInCheck(e,o.pieces);return l&&(l.point.col=r,l.point.row=t),c&&o.pieces.push(c),d}static format(e,t,r){if(r){const s=104-t.col;return String.fromCharCode(104-e.col)+(e.row+1)+String.fromCharCode(s)+(t.row+1)}return String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)+String.fromCharCode(t.col+97)+(Math.abs(t.row-7)+1)}static translateCoordsToIndex(e,t){let r,i;return t?(r=104-e.charCodeAt(0),i=+e.charAt(1)-1):(r=e.charCodeAt(0)-97,i=Math.abs(+e.charAt(1)-8)),new tH(r,i,t)}static findPieceByPossibleMovesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new N(i.yAxis,i.xAxis),o=[];for(let l of t.pieces.filter(c=>c.color===r))for(let c of l.getPossibleMoves())!Me.willMoveCauseCheck(l.color,l.point.row,l.point.col,i.yAxis,i.xAxis,t)&&c.isEqual(s)&&o.push(l);return o}static findPieceByPossibleCapturesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new N(i.yAxis,i.xAxis),o=[];for(let l of t.pieces.filter(c=>c.color===r))for(let c of l.getPossibleCaptures())!Me.willMoveCauseCheck(l.color,l.point.row,l.point.col,i.yAxis,i.xAxis,t)&&c.isEqual(s)&&o.push(l);return o}static formatSingle(e,t){return t?String.fromCharCode(104-e.col)+(e.row+1):String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)}static getFirstLetterPiece(e){return e instanceof Xn?"P":e instanceof Zi?"N":e instanceof Qi?"B":e instanceof Yn?"R":e instanceof kt?"K":e instanceof Js?"Q":""}static reverse(e,t){return e.reverted?t+1:Math.abs(t-7)+1}static formatCol(e,t){return String.fromCharCode(e.reverted?104-t:97+t)}}class _1{static loadDefaultPieces(e){e.pieces=[];for(let t=0;t<8;++t)e.pieces.push(new Xn(new N(1,t),D.BLACK,Ve.BLACK_PAWN,e));e.pieces.push(new Yn(new N(0,0),D.BLACK,Ve.BLACK_ROOK,e)),e.pieces.push(new Zi(new N(0,1),D.BLACK,Ve.BLACK_KNIGHT,e)),e.pieces.push(new Qi(new N(0,2),D.BLACK,Ve.BLACK_BISHOP,e)),e.pieces.push(new Js(new N(0,3),D.BLACK,Ve.BLACK_QUEEN,e)),e.pieces.push(new kt(new N(0,4),D.BLACK,Ve.BLACK_KING,e)),e.pieces.push(new Qi(new N(0,5),D.BLACK,Ve.BLACK_BISHOP,e)),e.pieces.push(new Zi(new N(0,6),D.BLACK,Ve.BLACK_KNIGHT,e)),e.pieces.push(new Yn(new N(0,7),D.BLACK,Ve.BLACK_ROOK,e));for(let t=0;t<8;++t)e.pieces.push(new Xn(new N(6,t),D.WHITE,Ve.WHITE_PAWN,e));e.pieces.push(new Yn(new N(7,0),D.WHITE,Ve.WHITE_ROOK,e)),e.pieces.push(new Zi(new N(7,1),D.WHITE,Ve.WHITE_KNIGHT,e)),e.pieces.push(new Qi(new N(7,2),D.WHITE,Ve.WHITE_BISHOP,e)),e.pieces.push(new Js(new N(7,3),D.WHITE,Ve.WHITE_QUEEN,e)),e.pieces.push(new kt(new N(7,4),D.WHITE,Ve.WHITE_KING,e)),e.pieces.push(new Qi(new N(7,5),D.WHITE,Ve.WHITE_BISHOP,e)),e.pieces.push(new Zi(new N(7,6),D.WHITE,Ve.WHITE_KNIGHT,e)),e.pieces.push(new Yn(new N(7,7),D.WHITE,Ve.WHITE_ROOK,e)),e.calculateFEN()}}class nH{process(e,t){if(e){t.board.reverted=!1,t.board.pieces=[],t.reset(),_1.loadDefaultPieces(t.board);let r=this.extractMoves(e),i=-1;for(let s of r){++i,s=s.replace(/[+#]/g,"");let o="";s.includes("=")&&(o=this.resolvePromotion(s.substring(s.length-1)),s=s.substring(0,s.length-2));let l=0===i||i%2==0?D.WHITE:D.BLACK;if(/^[a-z]\d$/g.test(s)){let c=Me.findPieceByPossibleMovesContaining(s,t.board,l).find(d=>d instanceof Xn);c||(c=Me.findPieceByPossibleCapturesContaining(s,t.board,l).find(d=>d instanceof Xn)),c&&t.move(Me.formatSingle(c.point,!1)+s+o)}else if(/^[A-Z][a-h]\d$/g.test(s)){let d=Me.findPieceByPossibleMovesContaining(s.substring(1),t.board,l).find(f=>this.resolvePieceByFirstChar(s.charAt(0),f));d&&t.move(Me.formatSingle(d.point,!1)+s.substring(1)+o)}else if("O-O"===s)t.move(l===D.WHITE?"e1g1":"e8g8");else if(/^[a-z]x[a-z]\d$/g.test(s)){let d,c=Me.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>f instanceof Xn);d=c.length>1?this.resolveByCol(c,s.substring(0,1)):c[0],d&&t.move(Me.formatSingle(d.point,!1)+s.substring(s.indexOf("x")+1)+o)}else if(/^[A-Z]x[a-z]\d$/g.test(s)){let c=Me.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).find(d=>this.resolvePieceByFirstChar(s.substring(0,1),d));c&&t.move(Me.formatSingle(c.point,!1)+s.substring(s.indexOf("x")+1)+o)}else if("O-O-O"===s)t.move(l===D.WHITE?"e1c1":"e8c8");else if(/^[A-Z]\dx[a-z]\d$/g.test(s)){let c=Me.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),d=this.resolveByRow(c,s.substring(1,2));d&&t.move(Me.formatSingle(d.point,!1)+s.substring(s.indexOf("x")+1)+o)}else if(/^[A-Z][a-z][a-z]\d$/g.test(s)){let c=Me.findPieceByPossibleMovesContaining(s.substring(2,4),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),d=this.resolveByCol(c,s.substring(1,2));d&&t.move(Me.formatSingle(d.point,!1)+s.substring(2,4)+o)}else if(/^[A-Z][a-z]x[a-z]\d$/g.test(s)){let c=Me.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),d=this.resolveByCol(c,s.substring(1,2));d&&t.move(Me.formatSingle(d.point,!1)+s.substring(s.indexOf("x")+1)+o)}else this.processR1f2(s,t,l,o)}}}processR1f2(e,t,r,i){if(/^[A-Z]\d[a-z]\d$/g.test(e)){let s=Me.findPieceByPossibleMovesContaining(e.substring(2,4),t.board,r).filter(l=>this.resolvePieceByFirstChar(e.charAt(0),l)),o=this.resolveByRow(s,e.substring(1,2));o&&t.move(Me.formatSingle(o.point,!1)+e.substring(2,4)+i)}}extractMoves(e){return e.substring(e.lastIndexOf("]")+1).replace(/[0-9]+\./g,"").replace(/\s+/g," ").replace(/{[^}]*}/g,"").trim().split(" ").filter(t=>t)}movePiece(e,t,r){let i=Me.translateCoordsToIndex(r,t.reverted);e.point.col=i.xAxis,e.point.row=i.yAxis}hasUpperCase(e){return/[A-Z]/.test(e)}resolvePieceByFirstChar(e,t){let r="";return t instanceof kt?r="K":t instanceof Js?r="Q":t instanceof Yn?r="R":t instanceof Qi?r="B":t instanceof Zi?r="N":t instanceof Xn&&(r="P"),e===r}isShortCastle(e){return"O-O"===e}removePiece(e,t){let r=Me.translateCoordsToIndex(e,t.reverted);t.pieces=t.pieces.filter(i=>!i.point.isEqual(new N(r.yAxis,r.xAxis)))}isLongCastle(e){return"O-O-O"===e}resolveByCol(e,t){let r=Me.formatSingle(e[0].point,!1);return Me.formatSingle(e[1].point,!1),r.substring(0,1)===t?e[0]:e[1]}resolveByRow(e,t){let r=Me.formatSingle(e[0].point,!1);return Me.formatSingle(e[1].point,!1),r.substring(1,2)===t?e[0]:e[1]}replacePromotion(e){return e.replace("=Q","1").replace("=R","2").replace("=B","3").replace("=K","4")}resolvePromotion(e){switch(e){case"Q":return"1";case"R":return"2";case"B":return"3";case"N":return"4"}return""}}class $0{static getProcessor(e){switch(e){case Nl.FEN:return new m1;case Nl.PGN:return new nH}}static getDefaultProcessor(){return new m1}}var Nl=(()=>{return(n=Nl||(Nl={}))[n.FEN=1]="FEN",n[n.PGN=2]="PGN",Nl;var n})();class rH{constructor(e,t,r){this.x=e+.5,this.y=t+.5,this.color=r}isEqual(e){return e&&e.x===this.x&&this.y===e.y}}class W0{static getClickPoint(e,t,r,i,s){return new N(Math.floor((e.y-t)/(r/8)),Math.floor((e.x-i)/(s/8)))}static getDrawingPoint(e,t,r,i,s,o,l,c,d){const f=e/8,g=Math.floor((r-c)/f),_=Math.floor((i-d)/f);let C=t.resolve(s,l,o);return new rH(Math.floor(g*f+f/2),Math.floor(_*f+f/2),C)}}class iH{constructor(e,t,r,i){this.move=e,this.piece=t,this.color=r,this.x=i}setGameStates(e,t,r){this.check=e,this.stalemate=t,this.mate=r}}class sH{constructor(){this.historyMovesSubject$=new Nr([])}get historyMoves(){return this.historyMovesSubject$.value}set historyMoves(e){this.historyMovesSubject$.next(e)}addMove(e){this.historyMoves=[...this.historyMoves,e]}pop(){const e=this.getLastMove();return this.historyMoves=this.historyMoves.filter(t=>t!==e),e}getAll(){return this.historyMoves}clear(){this.historyMoves=[]}getLastMove(){return this.historyMoves[this.getLastMoveIndex()]}getLastMoveIndex(){return this.historyMoves.length-1}}let Oo=(()=>{class n{}return n.DEFAULT_DARK_TILE_COLOR="rgb(97, 84, 61)",n.DEFAULT_LIGHT_TILE_COLOR="#BAA378",n.DEFAULT_SIZE=500,n.MIN_BOARD_SIZE=100,n.MAX_BOARD_SIZE=4e3,n.DEFAULT_SOURCE_POINT_COLOR="rgba(146, 111, 26, 0.79)",n.DEFAULT_DESTINATION_POINT_COLOR="#b28e1a",n.DEFAULT_LEGAL_MOVE_POINT_COLOR="radial-gradient(#13262F 15%, transparent 20%);",n})();class oH{constructor(){this._defaultIcons=!1}get pieceIconInput(){return this._pieceIconInput}set pieceIconInput(e){this._pieceIconInput=e}get defaultIcons(){return this._defaultIcons}set defaultIcons(e){this._defaultIcons=e}isDefaultIcons(){return null==this.pieceIconInput}getPieceIcon(e){let t=e.color===D.WHITE;switch(e.constructor){case kt:return t?this.pieceIconInput.whiteKingUrl:this.pieceIconInput.blackKingUrl;case Js:return t?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;case Yn:return t?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;case Qi:return t?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;case Zi:return t?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;case Xn:return t?this.pieceIconInput.whitePawnUrl:this.pieceIconInput.blackPawnUrl}}loadDefaultData(){this.pieceIconInput={blackBishopUrl:"",blackKingUrl:"",blackKnightUrl:"",blackQueenUrl:"",blackRookUrl:"",whiteBishopUrl:"",whiteKingUrl:"",whiteKnightUrl:"",whitePawnUrl:"",whiteQueenUrl:"",whiteRookUrl:"",blackPawnUrl:"a"}}}class aH{constructor(){this.defaultXCoords=["a","b","c","d","e","f","g","h"],this.defaultYCoords=[8,7,6,5,4,3,2,1],this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}get xCoords(){return this.currentXCoords}get yCoords(){return this.currentYCoords}reverse(){this.currentXCoords=this.currentXCoords.reverse(),this.currentYCoords=this.currentYCoords.reverse()}reset(){this.init()}init(){this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}}class lH{dragEnded(e,t,r){t||r&&(e.source._dragRef.getRootElement().style.transform=r)}}class uH{constructor(){this.dragEndProcessor=new lH}process(e,t,r){this.dragEndProcessor.dragEnded(e,t,r)}setDragEndProcessor(e){this.dragEndProcessor=e}}class cH{dragStarted(e){const t=e.source.getRootElement().style;t.zIndex="1000",t.position="absolute"}}class dH{constructor(){this.dragStartProcessor=new cH}process(e){this.dragStartProcessor.dragStarted(e)}setDragStartProcessor(e){this.dragStartProcessor=e}}class hH{resolve(e,t,r){let i="green";return(e||t)&&(i="red"),r&&(i="blue"),(t||e)&&r&&(i="orange"),i}}class fH{constructor(){this.colorProcessor=new hH}resolve(e,t,r){return this.colorProcessor.resolve(e,t,r)}setColorProcessor(e){this.colorProcessor=e}}class pH{constructor(){this.arrowsSubject$=new Nr([]),this.circlesSubject$=new Nr([]),this.arrows$=this.arrowsSubject$.asObservable(),this.circles$=this.circlesSubject$.asObservable()}get circles(){return this.circlesSubject$.value}set circles(e){this.circlesSubject$.next(e)}get arrows(){return this.arrowsSubject$.value}set arrows(e){this.arrowsSubject$.next(e)}addCircle(e){this.circles=[...this.circles,e]}reomveCircle(e){this.circles=this.circles.filter(t=>!t.isEqual(e))}addArrow(e){this.arrows=[...this.arrows,e]}removeArrow(e){this.arrows=this.arrows.filter(t=>!t.isEqual(e))}containsCircle(e){return this.circles.some(t=>t.isEqual(e))}containsArrow(e){return this.arrows.some(t=>t.isEqual(e))}clear(){this.arrows=[],this.circles=[]}}class mH extends class gH{constructor(){this.pgn=[],this.currentIndex=.5}getPGN(){return this.pgn.join(" ")}getLast(){return this.pgn[this.pgn.length-1]}appendToLast(e){this.pgn[this.pgn.length-1]=this.getLast()+e}processChecks(e,t,r){e?this.appendToLast("#"):t&&this.appendToLast("+")}reset(){this.pgn=[],this.currentIndex=.5}addPromotionChoice(e){switch(e){case 1:this.appendToLast("=Q");break;case 2:this.appendToLast("=R");break;case 3:this.appendToLast("=B");break;case 4:this.appendToLast("=N")}}removeLast(){this.pgn.pop(),this.currentIndex-=.5}}{process(e,t,r,i){this.currentIndex+=.5;let s="";this.currentIndex%Math.floor(this.currentIndex)==0&&(s=this.currentIndex+". ");let o=[],l=[];i&&(o=Me.findPieceByPossibleCapturesContaining(Me.formatSingle(r,e.reverted),e,t.color).filter(c=>c.constructor.name===t.constructor.name)),l=Me.findPieceByPossibleMovesContaining(Me.formatSingle(r,e.reverted),e,t.color).filter(c=>c.constructor.name===t.constructor.name),t instanceof Xn&&!i&&0===o.length?s+=Me.formatSingle(r,e.reverted):t instanceof Xn&&i?s+=Me.formatSingle(t.point,e.reverted).substring(0,1)+"x"+Me.formatSingle(r,e.reverted):t instanceof kt&&2===Math.abs(t.point.col-r.col)?s+=e.reverted?r.col<2?"O-O":"O-O-O":r.col<3?"O-O-O":"O-O":!(t instanceof Xn)&&0===o.length&&l.length<2?s+=Me.getFirstLetterPiece(t)+Me.formatSingle(r,e.reverted):l&&2===l.length&&0===o.length?this.isEqualByCol(l[0],l[1])?s+=Me.getFirstLetterPiece(t)+Me.reverse(e,t.point.row)+Me.formatSingle(r,e.reverted):s+=Me.getFirstLetterPiece(t)+Me.formatCol(e,t.point.col)+Me.formatSingle(r,e.reverted):o.length>1?this.isEqualByCol(o[0],o[1])?s+=Me.getFirstLetterPiece(t)+Me.reverse(e,t.point.row)+"x"+Me.formatSingle(r,e.reverted):s+=Me.getFirstLetterPiece(t)+Me.formatCol(e,t.point.col)+"x"+Me.formatSingle(r,e.reverted):s+=Me.getFirstLetterPiece(t)+"x"+Me.formatSingle(r,e.reverted),this.pgn.push(s)}resolvePieceByFirstChar(e,t){return Me.getFirstLetterPiece(t)===e}isEqualByCol(e,t){return e.point.col===t.point.col}}class vH{constructor(e,t){this.engineFacade=e,this.notationProcessor=t||$0.getDefaultProcessor()}addPieces(){_1.loadDefaultPieces(this.engineFacade.board)}loadFEN(e){this.notationProcessor.process(e,this.engineFacade)}loadPGN(e){this.notationProcessor.process(e,this.engineFacade)}setEngineFacade(e){this.engineFacade=e}setNotationProcessor(e){this.notationProcessor=e}}class v1{constructor(e){this.board=e}}class yH{constructor(){this.statesSubject$=new Nr([])}get states(){return this.statesSubject$.value}set states(e){this.statesSubject$.next(e)}addMove(e){this.states=[...this.states,e]}getStates(){return this.states}pop(){const e=this.getLastState();return this.states=this.states.filter(t=>t!==e),e}isEmpty(){return 0===this.states.length}clear(){this.states=[]}getLastState(){return this.states[this.getLastStateIndex()]}getLastStateIndex(){return this.states.length-1}}class bH{isEqual(e){return e&&this.start.isEqual(e.start)&&this.end.isEqual(e.end)}}class CH{isEqual(e){return e&&this.drawPoint.isEqual(e.drawPoint)}}class y1 extends class EH{constructor(e){this.piece=e}}{constructor(e,t,r,i){super(e),this.pointClicked=t,this.color=r,this.board=i}getPossibleCaptures(){return this.piece.getPossibleCaptures().filter(e=>!Me.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}getPossibleMoves(){return this.piece.getPossibleMoves().filter(e=>!Me.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}}class b1{static resolvePromotionChoice(e,t,r){const i=t.color===D.WHITE;switch(r){case 1:e.pieces.push(new Js(t.point,t.color,i?Ve.WHITE_QUEEN:Ve.BLACK_QUEEN,e));break;case 2:e.pieces.push(new Yn(t.point,t.color,i?Ve.WHITE_ROOK:Ve.BLACK_ROOK,e));break;case 3:e.pieces.push(new Qi(t.point,t.color,i?Ve.WHITE_BISHOP:Ve.BLACK_BISHOP,e));break;case 4:e.pieces.push(new Zi(t.point,t.color,i?Ve.WHITE_KNIGHT:Ve.BLACK_KNIGHT,e))}}}var Fo=(()=>{return(n=Fo||(Fo={}))[n.KING=1]="KING",n[n.QUEEN=2]="QUEEN",n[n.BISHOP=3]="BISHOP",n[n.KNIGHT=4]="KNIGHT",n[n.ROOK=5]="ROOK",n[n.PAWN=6]="PAWN",Fo;var n})(),T_=(()=>{return(n=T_||(T_={}))[n.LIGHT=1]="LIGHT",n[n.DARK=2]="DARK",T_;var n})();class DH extends class _H{constructor(e){this.dragStartStrategy=new dH,this.dragEndStrategy=new uH,this.pgnProcessor=new mH,this.colorStrategy=new fH,this.coords=new aH,this.heightAndWidth=Oo.DEFAULT_SIZE,this.freeMode=!1,this.drawProvider=new pH,this.pieceIconManager=new oH,this.moveHistoryProvider=new sH,this.disabling=!1,this.board=e}checkIfPawnFirstMove(e){e instanceof Xn&&(e.isMovedAlready=!0)}checkIfRookMoved(e){e instanceof Yn&&(e.isMovedAlready=!0)}checkIfKingMoved(e){e instanceof kt&&(e.isMovedAlready=!0)}getMoveHistory(){return this.moveHistoryProvider.getAll()}}{constructor(e,t){super(e),this._selected=!1,this.moveChange=t,this.boardLoader=new vH(this),this.boardLoader.addPieces(),this.boardStateProvider=new yH}reset(){this.boardStateProvider.clear(),this.moveHistoryProvider.clear(),this.boardLoader.addPieces(),this.board.reset(),this.coords.reset(),this.drawProvider.clear(),this.pgnProcessor.reset()}undo(){if(!this.boardStateProvider.isEmpty()){const e=this.boardStateProvider.pop().board;this.board.reverted&&e.reverse(),this.board=e,this.board.possibleCaptures=[],this.board.possibleMoves=[],this.board.activePiece=null,this.moveHistoryProvider.pop(),this.board.calculateFEN(),this.pgnProcessor.removeLast()}}saveMoveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.moveStateProvider.addMove(new v1(e))}move(e){if(e){const t=Me.translateCoordsToIndex(e.substring(0,2),this.board.reverted),r=Me.translateCoordsToIndex(e.substring(2,4),this.board.reverted),i=this.board.getPieceByPoint(t.yAxis,t.xAxis);if(i){if(this.board.currentWhitePlayer&&i.color===D.BLACK||!this.board.currentWhitePlayer&&i.color===D.WHITE)return;this.prepareActivePiece(i,i.point),this.board.isPointInPossibleMoves(new N(r.yAxis,r.xAxis))||this.board.isPointInPossibleCaptures(new N(r.yAxis,r.xAxis))?(this.saveClone(),this.movePiece(i,new N(r.yAxis,r.xAxis),5===e.length?+e.substring(4,5):0),this.board.lastMoveSrc=new N(t.yAxis,t.xAxis),this.board.lastMoveDest=new N(r.yAxis,r.xAxis),this.disableSelection()):this.disableSelection()}}}prepareActivePiece(e,t){this.board.activePiece=e,this._selected=!0,this.board.possibleCaptures=new y1(e,t,this.board.currentWhitePlayer?D.WHITE:D.BLACK,this.board).getPossibleCaptures(),this.board.possibleMoves=new y1(e,t,this.board.currentWhitePlayer?D.WHITE:D.BLACK,this.board).getPossibleMoves()}onPieceClicked(e,t){this.board.currentWhitePlayer&&e.color===D.BLACK||!this.board.currentWhitePlayer&&e.color===D.WHITE||this.prepareActivePiece(e,t)}handleClickEvent(e,t){let r=!1;(this.board.isPointInPossibleMoves(e)||this.board.isPointInPossibleCaptures(e)||this.freeMode)&&e.isInRange()&&(this.saveClone(),this.board.lastMoveSrc=new N(this.board.activePiece.point.row,this.board.activePiece.point.col),this.board.lastMoveDest=e.clone(),this.movePiece(this.board.activePiece,e),this.board.activePiece.point.isEqual(this.board.lastMoveSrc)||(r=!0)),(t||r)&&this.disableSelection(),this.disableSelection();const i=this.board.getPieceByPoint(e.row,e.col);i&&!r&&(this.onFreeMode(i),this.onPieceClicked(i,e))}onMouseDown(e,t,r,i){if(this.moveDone=!1,0!==e.button)return void(this.drawPoint=W0.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i));if(this.drawProvider.clear(),this.board.activePiece&&t.isEqual(this.board.activePiece.point))return void(this.disabling=!0);const s=this.board.getPieceByPoint(t.row,t.col);if(this.freeMode&&s){if(e.ctrlKey)return void(this.board.pieces=this.board.pieces.filter(o=>o!==s));this.board.currentWhitePlayer=s.color===D.WHITE}this.isPieceDisabled(s)||(this._selected?this.handleClickEvent(t,!0):s&&(this.onFreeMode(s),this.onPieceClicked(s,t)))}onMouseUp(e,t,r,i){if(this.moveDone=!1,0!==e.button&&!this.drawDisabled)return void this.addDrawPoint(e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i);if(this.drawProvider.clear(),this.dragDisabled)return;if(this.board.activePiece&&t.isEqual(this.board.activePiece.point)&&this.disabling)return this.disableSelection(),void(this.disabling=!1);const s=this.board.getPieceByPoint(t.row,t.col);this.isPieceDisabled(s)||this._selected&&this.handleClickEvent(t,!1)}saveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.boardStateProvider.addMove(new v1(e))}movePiece(e,t,r){const i=this.board.pieces.find(s=>s.point.col===t.col&&s.point.row===t.row);if(this.pgnProcessor.process(this.board,e,t,i),i&&e.color!==i.color)this.board.pieces=this.board.pieces.filter(s=>s!==i);else if(i&&e.color===i.color)return;if(this.historyMoveCandidate=new iH(Me.format(e.point,t,this.board.reverted),e.constant.name,e.color===D.WHITE?"white":"black",!!i),this.moveHistoryProvider.addMove(this.historyMoveCandidate),e instanceof kt&&Math.abs(t.col-e.point.col)>1)if(t.col<3){const o=this.board.getPieceByField(e.point.row,0);this.freeMode||(o.point.col=this.board.reverted?2:3)}else{const o=this.board.getPieceByField(e.point.row,7);this.freeMode||(o.point.col=this.board.reverted?4:5)}e instanceof Xn?(this.board.checkIfPawnTakesEnPassant(t),this.board.checkIfPawnEnpassanted(e,t)):(this.board.enPassantPoint=null,this.board.enPassantPiece=null),e.point=t,this.increaseFullMoveCount(),this.board.currentWhitePlayer=!this.board.currentWhitePlayer,this.checkForPawnPromote(e,r)||this.afterMoveActions()}checkForPawnPromote(e,t){if(e instanceof Xn&&(0===e.point.row||7===e.point.row))return this.board.pieces=this.board.pieces.filter(r=>r!==e),t?(b1.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)):this.openPromoteDialog(e),!0}afterMoveActions(e){this.checkIfPawnFirstMove(this.board.activePiece),this.checkIfRookMoved(this.board.activePiece),this.checkIfKingMoved(this.board.activePiece),this.board.blackKingChecked=this.board.isKingInCheck(D.BLACK,this.board.pieces),this.board.whiteKingChecked=this.board.isKingInCheck(D.WHITE,this.board.pieces);const t=this.board.blackKingChecked||this.board.whiteKingChecked,r=this.checkForPossibleMoves(D.BLACK)||this.checkForPossibleMoves(D.WHITE),i=this.checkForPat(D.BLACK)||this.checkForPat(D.WHITE);this.historyMoveCandidate.setGameStates(t,i,r),this.pgnProcessor.processChecks(r,t,i),this.pgnProcessor.addPromotionChoice(e),this.disabling=!1,this.board.calculateFEN();const s=this.moveHistoryProvider.getLastMove();s&&e&&(s.move+=e),this.moveChange.emit(Object.assign(Object.assign({},s),{check:t,checkmate:r,stalemate:i,fen:this.board.fen,pgn:{pgn:this.pgnProcessor.getPGN()},freeMode:this.freeMode})),this.moveDone=!0}checkForPat(e){return e===D.WHITE&&!this.board.whiteKingChecked||e===D.BLACK&&!this.board.blackKingChecked?this.checkForPossibleMoves(e):void 0}openPromoteDialog(e){e.color===this.board.activePiece.color&&this.modal.open(t=>{b1.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)})}checkForPossibleMoves(e){return!this.board.pieces.filter(t=>t.color===e).some(t=>t.getPossibleMoves().some(r=>!Me.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board))||t.getPossibleCaptures().some(r=>!Me.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board)))}disableSelection(){this._selected=!1,this.board.possibleCaptures=[],this.board.activePiece=null,this.board.possibleMoves=[]}onFreeMode(e){!this.freeMode||null==e||(this.board.currentWhitePlayer=e.color===D.WHITE)}isPieceDisabled(e){return!(e&&e.point&&this.board.possibleCaptures.find(r=>r.col===e.point.col&&r.row===e.point.row))&&e&&(this.lightDisabled&&e.color===D.WHITE||this.darkDisabled&&e.color===D.BLACK)}addDrawPoint(e,t,r,i,s,o,l){const c=W0.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e,t,r,i,s,o,l);if(this.drawPoint.isEqual(c)){const d=new CH;d.drawPoint=c,this.drawProvider.containsCircle(d)?this.drawProvider.reomveCircle(d):this.drawProvider.addCircle(d)}else{const d=new bH;d.start=this.drawPoint,d.end=c,this.drawProvider.containsArrow(d)?this.drawProvider.removeArrow(d):this.drawProvider.addArrow(d)}}increaseFullMoveCount(){this.board.currentWhitePlayer||++this.board.fullMoveCount}addPiece(e,t,r){if(this.freeMode&&r&&e>0&&t>0){let i=Me.translateCoordsToIndex(r,this.board.reverted),s=this.board.getPieceByPoint(i.yAxis,i.xAxis);s&&(this.board.pieces=this.board.pieces.filter(l=>l!==s));let o=class wH{static create(e,t,r,i){let s,o=r===T_.LIGHT?D.WHITE:D.BLACK;switch(t){case Fo.QUEEN:s=new Js(new N(e.yAxis,e.xAxis),o,o===D.WHITE?Ve.WHITE_QUEEN:Ve.BLACK_QUEEN,i);break;case Fo.KING:s=new kt(new N(e.yAxis,e.xAxis),o,o===D.WHITE?Ve.WHITE_KING:Ve.BLACK_KING,i);break;case Fo.KNIGHT:s=new Zi(new N(e.yAxis,e.xAxis),o,o===D.WHITE?Ve.WHITE_KNIGHT:Ve.BLACK_KNIGHT,i);break;case Fo.BISHOP:s=new Qi(new N(e.yAxis,e.xAxis),o,o===D.WHITE?Ve.WHITE_BISHOP:Ve.BLACK_BISHOP,i);break;case Fo.ROOK:s=new Yn(new N(e.yAxis,e.xAxis),o,o===D.WHITE?Ve.WHITE_ROOK:Ve.BLACK_ROOK,i);break;case Fo.PAWN:s=new Xn(new N(e.yAxis,e.xAxis),o,o===D.WHITE?Ve.WHITE_PAWN:Ve.BLACK_PAWN,i)}return s}}.create(i,e,t,this.board);this.saveClone(),this.board.pieces.push(o),this.afterMoveActions()}}}class SH{constructor(){this.board=[],this.pieces=[],this.enPassantPoint=null,this.enPassantPiece=null,this.lastMoveSrc=null,this.lastMoveDest=null,this.possibleCaptures=[],this.possibleMoves=[],this.currentWhitePlayer=!0,this.reverted=!1,this.fullMoveCount=1;for(let e=0;e<8;++e){this.board[e]=[];for(let t=0;t<8;++t)this.board[e][t]=0}}isXYInPossibleMoves(e,t){return this.possibleMoves.some(r=>r.row===e&&r.col===t)}isXYInPossibleCaptures(e,t){return this.possibleCaptures.some(r=>r.row===e&&r.col===t)}isXYInSourceMove(e,t){return this.lastMoveSrc&&this.lastMoveSrc.row===e&&this.lastMoveSrc.col===t}isXYInDestMove(e,t){return this.lastMoveDest&&this.lastMoveDest.row===e&&this.lastMoveDest.col===t}isXYInActiveMove(e,t){return this.activePiece&&this.activePiece.point.row===e&&this.activePiece.point.col===t}isPointInPossibleMoves(e){return this.possibleMoves.some(t=>t.row===e.row&&t.col===e.col)}isPointInPossibleCaptures(e){return this.possibleCaptures.some(t=>t.row===e.row&&t.col===e.col)}reset(){this.lastMoveDest=null,this.lastMoveSrc=null,this.whiteKingChecked=!1,this.blackKingChecked=!1,this.possibleCaptures=[],this.possibleMoves=[],this.activePiece=null,this.reverted=!1,this.currentWhitePlayer=!0,this.enPassantPoint=null,this.enPassantPiece=null,this.fullMoveCount=1,this.calculateFEN()}reverse(){this.reverted=!this.reverted,this.activePiece=null,this.possibleMoves=[],this.possibleCaptures=[],this.pieces.forEach(e=>this.reversePoint(e.point)),this.reversePoint(this.lastMoveSrc),this.reversePoint(this.lastMoveDest),this.enPassantPoint&&this.enPassantPiece&&this.reversePoint(this.enPassantPoint)}clone(){return(0,VV.cloneDeep)(this)}isFieldTakenByEnemy(e,t,r){return!(e>7||e<0||t>7||t<0)&&this.pieces.some(i=>i.point.col===t&&i.point.row===e&&i.color===r)}isFieldEmpty(e,t){return!(e>7||e<0||t>7||t<0||this.pieces.some(r=>r.point.col===t&&r.point.row===e))}isFieldUnderAttack(e,t,r){return this.pieces.filter(i=>i.color===r).some(i=>i.getCoveredFields().some(s=>s.col===t&&s.row===e))}getPieceByField(e,t){if(!this.isFieldEmpty(e,t))return this.pieces.find(r=>r.point.col===t&&r.point.row===e)}isKingInCheck(e,t){const r=t.find(i=>i.color===e&&i instanceof kt);return!!r&&t.some(i=>i.getPossibleCaptures().some(s=>s.col===r.point.col&&s.row===r.point.row)&&i.color!==e)}getKingByColor(e){return this.pieces.find(t=>t instanceof kt&&t.color===e)}getCastleFENString(e){const t=this.getKingByColor(e);if(!t||t.isMovedAlready)return"";let r="";const i=this.getPieceByField(t.point.row,0),s=this.getPieceByField(t.point.row,7);return s instanceof Yn&&s.color===e&&(s.isMovedAlready||(r+=this.reverted?"q":"k")),i instanceof Yn&&i.color===e&&(i.isMovedAlready||(r+=this.reverted?"k":"q")),r=r.split("").sort().join(""),e===D.BLACK?r:r.toUpperCase()}getEnPassantFENString(){return this.enPassantPoint?this.reverted?String.fromCharCode(104-this.enPassantPoint.col)+(this.enPassantPoint.row+1):String.fromCharCode(97+this.enPassantPoint.col)+(Math.abs(this.enPassantPoint.row-7)+1):"-"}calculateFEN(){let e="";for(let s=0;s<8;++s){let o=0;for(let l=0;l<8;++l){const c=this.pieces.find(d=>d.point.col===l&&d.point.row===s);c?(o>0&&(e+=o,o=0),c instanceof Yn?e+=c.color===D.BLACK?"r":"R":c instanceof Zi?e+=c.color===D.BLACK?"n":"N":c instanceof Qi?e+=c.color===D.BLACK?"b":"B":c instanceof Js?e+=c.color===D.BLACK?"q":"Q":c instanceof kt?e+=c.color===D.BLACK?"k":"K":c instanceof Xn&&(e+=c.color===D.BLACK?"p":"P")):++o}o>0&&(e+=o),e+="/"}e=e.substr(0,e.length-1),this.reverted&&(e=e.split("").reverse().join("")),e+=" "+(this.currentWhitePlayer?"w":"b");let i=this.getCastleFENString(D.WHITE)+this.getCastleFENString(D.BLACK);i||(i="-"),e+=" "+i,e+=" "+this.getEnPassantFENString(),e+=" 0",e+=" "+this.fullMoveCount,this.fen=e}isXYInPointSelection(e,t){return!1}reversePoint(e){e&&(e.row=Math.abs(e.row-7),e.col=Math.abs(e.col-7))}getPieceByPoint(e,t){return e=Math.floor(e),t=Math.floor(t),this.pieces.find(r=>r.point.col===t&&r.point.row===e)}checkIfPawnTakesEnPassant(e){e.isEqual(this.enPassantPoint)&&(this.pieces=this.pieces.filter(t=>t!==this.enPassantPiece),this.enPassantPoint=null,this.enPassantPiece=null)}checkIfPawnEnpassanted(e,t){Math.abs(e.point.row-t.row)>1?(this.enPassantPiece=e,this.enPassantPoint=new N((e.point.row+t.row)/2,e.point.col)):(this.enPassantPoint=null,this.enPassantPiece=null)}isKingChecked(e){if(e instanceof kt)return e.color===D.WHITE?this.whiteKingChecked:this.blackKingChecked}getCurrentPlayerColor(){return this.currentWhitePlayer?D.WHITE:D.BLACK}}let K0=(()=>{class n{constructor(){this.componentMethodCallSource=new Be,this.componentMethodCalled$=this.componentMethodCallSource.asObservable()}reset(){this.componentMethodCallSource.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AH=(()=>{class n{constructor(){this.color="white",this.opened=!1}open(t){this.opened=!0,this.onCloseCallback=t,this.modal.nativeElement.style.display="block"}changeSelection(t){this.modal.nativeElement.style.display="none",this.opened=!1,this.onCloseCallback(t)}getPieceIcon(t){let r="";switch(t.toLowerCase()){case"queen":r="white"===this.color?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;break;case"rook":r="white"===this.color?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;break;case"bishop":r="white"===this.color?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;break;case"knight":r="white"===this.color?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl}return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ds({type:n,selectors:[["app-piece-promotion-modal"]],viewQuery:function(t,r){if(1&t&&Yh(HV,5),2&t){let i;zs(i=qs())&&(r.modal=i.first)}},inputs:{pieceIconInput:"pieceIconInput",color:"color"},decls:6,vars:2,consts:[[1,"container"],["myModal",""],[1,"wrapper"],[1,"content"],["class","piece-wrapper",4,"ngIf"],[1,"piece-wrapper"],[1,"piece",3,"click"],["alt","Queen",3,"src"],["alt","Rook",3,"src"],["alt","Bishop",3,"src"],["alt","Knight",3,"src"]],template:function(t,r){1&t&&(et(0,"div",0,1)(2,"div",2)(3,"div",3),Zn(4,UV,9,4,"div",4),Zn(5,jV,9,0,"div",4),tt()()()),2&t&&(we(4),xt("ngIf",r.pieceIconInput),we(1),xt("ngIf",!r.pieceIconInput))},directives:[Qm],styles:[".container[_ngcontent-%COMP%]{display:none;position:absolute;z-index:9999;top:0;color:#000;width:100%;height:100%;overflow:auto;background-color:#0006}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;position:relative;top:30%;font-size:100%;height:40%;padding:10px;border:1px solid #888;width:90%}.piece[_ngcontent-%COMP%]{font-size:5rem;height:100%;width:25%;cursor:pointer;display:inline-block;text-align:center}.piece[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.piece[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:5px}.piece-wrapper[_ngcontent-%COMP%]{height:80%;width:100%}#close-button[_ngcontent-%COMP%]{border-radius:4px;background-color:#4caf50;border:none;color:#fff;padding-left:5px;padding-right:5px;text-align:center;text-decoration:none;display:inline-block}.selected[_ngcontent-%COMP%]{border:2px solid #00B919;border-radius:4px;box-sizing:border-box}"]}),n})(),PH=(()=>{class n{constructor(t){this.ngxChessBoardService=t,this.darkTileColor=Oo.DEFAULT_DARK_TILE_COLOR,this.lightTileColor=Oo.DEFAULT_LIGHT_TILE_COLOR,this.showCoords=!0,this.sourcePointColor=Oo.DEFAULT_SOURCE_POINT_COLOR,this.destinationPointColor=Oo.DEFAULT_DESTINATION_POINT_COLOR,this.legalMovesPointColor=Oo.DEFAULT_LEGAL_MOVE_POINT_COLOR,this.showLastMove=!0,this.showLegalMoves=!0,this.showActivePiece=!0,this.showPossibleCaptures=!0,this.moveChange=new Mt,this.checkmate=new Mt,this.stalemate=new Mt,this.selected=!1,this.isDragging=!1,this.startTransition="",this.engineFacade=new DH(new SH,this.moveChange)}set size(t){this.engineFacade.heightAndWidth=t&&t>=Oo.MIN_BOARD_SIZE&&t<=Oo.MAX_BOARD_SIZE?t:Oo.DEFAULT_SIZE,this.engineFacade.drawProvider.clear(),this.calculatePieceSize()}set freeMode(t){this.engineFacade.freeMode=t}set dragDisabled(t){this.engineFacade.dragDisabled=t}set drawDisabled(t){this.engineFacade.drawDisabled=t}set pieceIcons(t){this.engineFacade.pieceIconManager.pieceIconInput=t}set lightDisabled(t){this.engineFacade.lightDisabled=t}set darkDisabled(t){this.engineFacade.darkDisabled=t}onRightClick(t){t.preventDefault()}ngOnChanges(t){(t.lightDisabled&&this.lightDisabled&&this.engineFacade.board.currentWhitePlayer||t.darkDisabled&&this.darkDisabled&&!this.engineFacade.board.currentWhitePlayer)&&(this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[])}ngOnInit(){this.ngxChessBoardService.componentMethodCalled$.subscribe(()=>{this.engineFacade.reset()})}ngAfterViewInit(){this.engineFacade.modal=this.modal,this.calculatePieceSize()}onMouseUp(t){this.engineFacade.onMouseUp(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}reverse(){this.selected=!1,this.engineFacade.board.reverse(),this.engineFacade.coords.reverse()}updateBoard(t){this.engineFacade.board=t,this.boardLoader.setEngineFacade(this.engineFacade),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[]}setFEN(t){try{this.engineFacade.boardLoader.setNotationProcessor($0.getProcessor(Nl.FEN)),this.engineFacade.boardLoader.loadFEN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){this.engineFacade.boardLoader.addPieces()}}setPGN(t){try{this.engineFacade.pgnProcessor.reset(),this.engineFacade.boardLoader.setNotationProcessor($0.getProcessor(Nl.PGN)),this.engineFacade.boardLoader.loadPGN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){console.log(r),this.engineFacade.boardLoader.addPieces()}}getFEN(){return this.engineFacade.board.fen}dragEnded(t){this.isDragging=!1,this.engineFacade.dragEndStrategy.process(t,this.engineFacade.moveDone,this.startTransition)}dragStart(t){this.isDragging=!0;let r=t.source.getRootElement().style.transform.split(") ");this.startTransition=2===r.length?r[1]:r[0],this.engineFacade.dragStartStrategy.process(t)}onMouseDown(t){this.engineFacade.onMouseDown(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}getClickPoint(t){return W0.getClickPoint(t,this.boardRef.nativeElement.getBoundingClientRect().top,this.boardRef.nativeElement.getBoundingClientRect().height,this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().width)}calculatePieceSize(){this.pieceSize=this.engineFacade.heightAndWidth/8}getCustomPieceIcons(t){return JSON.parse(`{ "background-image": "url('${this.engineFacade.pieceIconManager.getPieceIcon(t)}')"}`)}move(t){this.engineFacade.move(t)}getMoveHistory(){return this.engineFacade.getMoveHistory()}reset(){this.engineFacade.reset()}undo(){this.engineFacade.undo()}addPiece(t,r,i){this.engineFacade.addPiece(t,r,i)}getPGN(){return this.engineFacade.pgnProcessor.getPGN()}dragMoved(t){let r=t.pointerPosition.x-t.source.getRootElement().parentElement.getBoundingClientRect().left-this.pieceSize/2,i=t.pointerPosition.y-t.source.getRootElement().parentElement.getBoundingClientRect().top-this.pieceSize/2;t.source.getRootElement().style.transform="translate3d("+r+"px, "+i+"px,0px)"}getTileBackgroundColor(t,r){let i=(t+r)%2==0?this.lightTileColor:this.darkTileColor;return this.showLastMove&&(this.engineFacade.board.isXYInSourceMove(t,r)&&(i=this.sourcePointColor),this.engineFacade.board.isXYInDestMove(t,r)&&(i=this.destinationPointColor)),i}}return n.\u0275fac=function(t){return new(t||n)(J(K0))},n.\u0275cmp=Ds({type:n,selectors:[["ngx-chess-board"]],viewQuery:function(t,r){if(1&t&&(Yh($V,5),Yh(WV,5)),2&t){let i;zs(i=qs())&&(r.boardRef=i.first),zs(i=qs())&&(r.modal=i.first)}},hostBindings:function(t,r){1&t&&wt("contextmenu",function(s){return r.onRightClick(s)})},inputs:{darkTileColor:"darkTileColor",lightTileColor:"lightTileColor",showCoords:"showCoords",sourcePointColor:"sourcePointColor",destinationPointColor:"destinationPointColor",legalMovesPointColor:"legalMovesPointColor",showLastMove:"showLastMove",showLegalMoves:"showLegalMoves",showActivePiece:"showActivePiece",showPossibleCaptures:"showPossibleCaptures",size:"size",freeMode:"freeMode",dragDisabled:"dragDisabled",drawDisabled:"drawDisabled",pieceIcons:"pieceIcons",lightDisabled:"lightDisabled",darkDisabled:"darkDisabled"},outputs:{moveChange:"moveChange",checkmate:"checkmate",stalemate:"stalemate"},features:[Nn],decls:13,vars:18,consts:[["id","board",3,"pointerdown","pointerup"],["boardRef",""],["id","drag"],["class","single-piece","cdkDrag","",3,"cdkDragDisabled","innerHTML","ngStyle","transform","max-height","font-size","width","height","cdkDragEnded","cdkDragMoved","cdkDragStarted",4,"ngFor","ngForOf"],["class","board-row",4,"ngFor","ngForOf"],[2,"position","absolute","top","0","pointer-events","none"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngFor","ngForOf"],["fill-opacity","0.0","stroke-width","2",4,"ngFor","ngForOf"],[3,"pieceIconInput","color"],["modal",""],["cdkDrag","",1,"single-piece",3,"cdkDragDisabled","innerHTML","ngStyle","cdkDragEnded","cdkDragMoved","cdkDragStarted"],[1,"board-row"],["class","board-col",3,"current-selection","king-check","point-circle","possible-capture","possible-point","background-color",4,"ngFor","ngForOf"],[1,"board-col"],["class","yCoord",3,"color","font-size",4,"ngIf"],["class","xCoord",3,"color","font-size",4,"ngIf"],["style","height:100%; width:100%",4,"ngIf"],[1,"yCoord"],[1,"xCoord"],[2,"height","100%","width","100%"],[3,"ngClass"],["markerHeight","13","markerWidth","13","orient","auto","refX","9","refY","6",3,"id"],["d","M2,2 L2,11 L10,6 L2,2"],[1,"arrow"],["fill-opacity","0.0","stroke-width","2"]],template:function(t,r){if(1&t){const i=Eo();et(0,"div",0,1),wt("pointerdown",function(o){return Jt(i),!vm(12).opened&&r.onMouseDown(o)})("pointerup",function(o){return Jt(i),!vm(12).opened&&r.onMouseUp(o)}),et(2,"div",2),Zn(3,KV,1,13,"div",3),Zn(4,ZV,2,1,"div",4),tt(),Xa(),et(5,"svg",5),Zn(6,YV,3,3,"defs",6),Zn(7,XV,1,6,"line",7),Tm(8,"async"),Zn(9,JV,1,4,"circle",8),Tm(10,"async"),tt(),function pu(){!function mo(){Ne.lFrame.currentNamespace=null}()}(),ur(11,"app-piece-promotion-modal",9,10),tt()}2&t&&(wo("height",r.engineFacade.heightAndWidth,"px")("width",r.engineFacade.heightAndWidth,"px"),we(3),xt("ngForOf",r.engineFacade.board.pieces),we(1),xt("ngForOf",r.engineFacade.board.board),we(1),_i("height",r.engineFacade.heightAndWidth)("width",r.engineFacade.heightAndWidth),we(1),xt("ngForOf",function FS(n,e,t){const r=or()+n,i=ne();return i[r]===Ue?Ws(i,r,t?e.call(t):e()):function Bh(n,e){return n[e]}(i,r)}(17,eH)),we(1),xt("ngForOf",Mm(8,13,r.engineFacade.drawProvider.arrows$)),we(2),xt("ngForOf",Mm(10,15,r.engineFacade.drawProvider.circles$)),we(2),xt("pieceIconInput",r.engineFacade.pieceIconManager.pieceIconInput)("color",r.engineFacade.board.getCurrentPlayerColor()?"white":"black"))},directives:[AH,qm,LV,eP,Qm,ZA],pipes:[tP],styles:['@charset "UTF-8";#board[_ngcontent-%COMP%]{font-family:Courier New,serif;position:relative}.board-row[_ngcontent-%COMP%]{display:block;width:100%;height:12.5%;position:relative}.board-col[_ngcontent-%COMP%]{position:relative;display:inline-block;width:12.5%;vertical-align:top;cursor:default;height:100%}.piece[_ngcontent-%COMP%]{height:100%;cursor:-webkit-grab;cursor:grab;width:100%;-moz-user-select:none;user-select:none;-webkit-user-select:none;background-size:cover;justify-content:center;text-align:center;color:#000!important;box-sizing:border-box}.piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}#drag[_ngcontent-%COMP%]{height:100%;width:100%}.possible-point[_ngcontent-%COMP%]{background:radial-gradient(#13262F 15%,transparent 20%)}.possible-point[_ngcontent-%COMP%]:hover, .possible-capture[_ngcontent-%COMP%]:hover{opacity:.4}.possible-capture[_ngcontent-%COMP%]{background:radial-gradient(transparent 0%,transparent 80%,#13262F 80%);opacity:.5;box-sizing:border-box;margin:0;padding:0}.king-check[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,red 0%,#e70000 25%,rgba(169,0,0,0) 89%,rgba(158,0,0,0) 100%)}.current-selection[_ngcontent-%COMP%]{background-color:#72620b!important}.yCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;right:.2em;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.xCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;left:.2em;bottom:0;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.hovering[_ngcontent-%COMP%]{background-color:red!important}.arrow[_ngcontent-%COMP%]{stroke-width:2}svg[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0px #111) drop-shadow(-1px 1px 0px #111) drop-shadow(1px -1px 0px #111) drop-shadow(-1px -1px 0px #111)}[_nghost-%COMP%]{display:inline-block!important}.single-piece[_ngcontent-%COMP%]{position:absolute;z-index:999;justify-content:center;text-align:center;-moz-user-select:none;user-select:none;-webkit-user-select:none;color:#000!important;cursor:-webkit-grab;cursor:grab;background-size:cover}.single-piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .2s cubic-bezier(0,.3,.14,.49)}']}),n})(),TH=(()=>{class n{static forRoot(){return{ngModule:n,providers:[K0]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({imports:[[iP,BV]]}),n})();function MH(n,e){if(1&n&&(et(0,"h3"),on(1),tt()),2&n){const t=e.$implicit;we(1),Qb(" ",t.key,"=",t.value," ")}}let IH=(()=>{class n{constructor(){this.selectedMove=new Mt}ngOnInit(){}makeMove(){this.selectedMove.emit(this.moveEvaluation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ds({type:n,selectors:[["app-chess-move"]],inputs:{moveEvaluation:"moveEvaluation"},outputs:{selectedMove:"selectedMove"},decls:11,vars:6,consts:[[1,"move",3,"click"],[1,"details"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(et(0,"div",0),wt("click",function(){return r.makeMove()}),et(1,"p"),on(2),tt(),et(3,"p"),on(4),tt(),ur(5,"br"),et(6,"div",1)(7,"h3"),on(8),Zn(9,MH,2,2,"h3",2),Tm(10,"keyvalue"),tt()()()),2&t&&(we(2),Cm(r.moveEvaluation.move.san),we(2),Cm(r.moveEvaluation.score),we(4),Ea(" Check=",r.moveEvaluation.check," "),we(1),xt("ngForOf",Mm(10,4,r.moveEvaluation.scoreList)))},directives:[qm],pipes:[nP],styles:[".move[_ngcontent-%COMP%]{min-width:30px;border:solid 1px;text-align:center;margin-right:2px}.move[_ngcontent-%COMP%]:hover{background-color:#7fffd4}h3[_ngcontent-%COMP%]{font-size:12px}.details[_ngcontent-%COMP%]{display:none}.move[_ngcontent-%COMP%]:hover > .details[_ngcontent-%COMP%]{display:block}"]}),n})();const wr=new xe("NgValidators"),xa=new xe("NgAsyncValidators");function R1(n){return null!=n}function O1(n){const e=Vh(n)?wn(n):n;return Kb(e),e}function F1(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function k1(n,e){return e.map(t=>t(n))}function N1(n){return n.map(e=>function LH(n){return!n.validate}(e)?e:t=>e.validate(t))}function z0(n){return null!=n?function L1(n){if(!n)return null;const e=n.filter(R1);return 0==e.length?null:function(t){return F1(k1(t,e))}}(N1(n)):null}function q0(n){return null!=n?function B1(n){if(!n)return null;const e=n.filter(R1);return 0==e.length?null:function(t){return function xH(...n){const e=Vc(n),{args:t,keys:r}=bP(n),i=new Ae(s=>{const{length:o}=t;if(!o)return void s.complete();const l=new Array(o);let c=o,d=o;for(let f=0;f<o;f++){let g=!1;Vr(t[f]).subscribe(st(s,_=>{g||(g=!0,d--),l[f]=_},()=>c--,void 0,()=>{(!c||!g)&&(d||s.next(r?EP(r,l):l),s.complete())}))}});return e?i.pipe(CP(e)):i}(k1(t,e).map(O1)).pipe(ct(F1))}}(N1(n)):null}function V1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Q0(n){return n?Array.isArray(n)?n:[n]:[]}function I_(n,e){return Array.isArray(n)?n.includes(e):n===e}function j1(n,e){const t=Q0(e);return Q0(n).forEach(i=>{I_(t,i)||t.push(i)}),t}function $1(n,e){return Q0(e).filter(t=>!I_(n,t))}class Lr extends class W1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=z0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=q0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}{get formDirective(){return null}get path(){return null}}let G1=(()=>{class n extends class K1{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(J(Lr,10))},n.\u0275dir=ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Al("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Wt]}),n})();function F_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function X0(n,e){const t=function H1(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(V1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function U1(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(V1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();F_(e._rawValidators,i),F_(e._rawAsyncValidators,i)}function q1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Tf="VALID",N_="INVALID",Ac="PENDING",Mf="DISABLED";function rE(n){return(L_(n)?n.validators:n)||null}function X1(n){return Array.isArray(n)?z0(n):n||null}function iE(n,e){return(L_(e)?e.asyncValidators:n)||null}function J1(n){return Array.isArray(n)?q0(n):n||null}function L_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const sE=n=>n instanceof aE;function tM(n){return(n=>n instanceof iM)(n)?n.value:n.getRawValue()}function nM(n,e){const t=sE(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new ge(1e3,"");if(!r[e])throw new ge(1001,"")}function rM(n,e){sE(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new ge(1002,"")})}class oE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=X1(this._rawValidators),this._composedAsyncValidatorFn=J1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tf}get invalid(){return this.status===N_}get pending(){return this.status==Ac}get disabled(){return this.status===Mf}get enabled(){return this.status!==Mf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=X1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=J1(e)}addValidators(e){this.setValidators(j1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(j1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($1(e,this._rawAsyncValidators))}hasValidator(e){return I_(this._rawValidators,e)}hasAsyncValidator(e){return I_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ac,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mf,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tf||this.status===Ac)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mf:Tf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ac,this._hasOwnPendingAsyncValidator=!0;const t=O1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function XH(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=sE(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof eU)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mt,this.statusChanges=new Mt}_calculateStatus(){return this._allControlsDisabled()?Mf:this.errors?N_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ac)?Ac:this._anyControlsHaveStatus(N_)?N_:Tf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){L_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class iM extends oE{constructor(e=null,t,r){super(rE(t),iE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class aE extends oE{constructor(e,t,r){super(rE(t),iE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rM(this,e),Object.keys(e).forEach(r=>{nM(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=tM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class eU extends oE{constructor(e,t,r){super(rE(t),iE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){rM(this,e),e.forEach((r,i)=>{nM(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>tM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const tU={provide:Lr,useExisting:Ht(()=>B_)},If=(()=>Promise.resolve(null))();let B_=(()=>{class n extends Lr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Mt,this.form=new aE({},z0(t),q0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){If.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),function Pf(n,e){X0(n,e),e.valueAccessor.writeValue(n.value),function GH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&q1(n,e)})}(n,e),function qH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&q1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function KH(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){If.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){If.then(()=>{const r=this._findContainer(t.path),i=new aE({});(function Q1(n,e){X0(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){If.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){If.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Y1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(J(wr,10),J(xa,10))},n.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&wt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[an([tU]),Wt]}),n})(),uM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),dM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({imports:[[dM]]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({imports:[TU]}),n})();const IU=["board"];function xU(n,e){if(1&n){const t=Eo();et(0,"div")(1,"app-chess-move",5),wt("selectedMove",function(i){return Jt(t),St(2).makeMove(i)}),tt()()}if(2&n){const t=e.$implicit;we(1),xt("moveEvaluation",t)}}function RU(n,e){if(1&n){const t=Eo();et(0,"div")(1,"app-chess-move",5),wt("selectedMove",function(i){return Jt(t),St(2).makeMove(i)}),tt()()}if(2&n){const t=e.$implicit;we(1),xt("moveEvaluation",t)}}function OU(n,e){if(1&n){const t=Eo();et(0,"div")(1,"h3"),on(2),tt(),et(3,"button",2),wt("click",function(){return Jt(t),St().copyPgn()}),on(4,"Kopiuj"),tt(),et(5,"div",3)(6,"h3"),on(7,"Wszystkie:"),tt(),Zn(8,xU,2,1,"div",4),tt(),et(9,"div",3)(10,"h3"),on(11,"Kandydaci:"),tt(),Zn(12,RU,2,1,"div",4),tt(),et(13,"div",3)(14,"h3"),on(15,"Wybrany:"),tt(),et(16,"app-chess-move",5),wt("selectedMove",function(i){return Jt(t),St().makeMove(i)}),tt()(),et(17,"form")(18,"button",2),wt("click",function(){return Jt(t),St().moveBack()}),on(19,"Cofnij"),tt()(),ur(20,"br"),et(21,"p"),on(22,"Ranodm Game"),tt(),et(23,"form")(24,"button",2),wt("click",function(){return Jt(t),St().startRandomGame()}),on(25,"New game"),tt(),ur(26,"br"),et(27,"button",6),wt("click",function(){return Jt(t),St().stopRandomGame()}),on(28,"Stop"),tt(),et(29,"button",6),wt("click",function(){return Jt(t),St().resumeRandomGame()}),on(30,"Resume"),tt()(),et(31,"div",7)(32,"ngx-chess-board",8,9),wt("moveChange",function(i){return Jt(t),St().moveCallback(i)}),tt()()()}if(2&n){const t=St();we(2),Ea("PGN: ",t.pgn,""),we(6),xt("ngForOf",t.allMoves),we(4),xt("ngForOf",t.candidates),we(4),xt("moveEvaluation",t.bestMove),we(11),xt("disabled",!t.isRandomGame),we(2),xt("disabled",t.isRandomGame),we(3),xt("size",400)}}function FU(n,e){if(1&n){const t=Eo();et(0,"li"),on(1),et(2,"button",2),wt("click",function(){const s=Jt(t).$implicit;return St(2).challenge(s.id)}),on(3,"challenge"),tt()()}if(2&n){const t=e.$implicit,r=e.index;Al("user-bot","marcinlebot"===t.id),we(1),Zb(" ",r," / ",t.id," - ",t.perfs.bullet.rating," ")}}function kU(n,e){if(1&n&&(et(0,"div"),on(1," Bot mode."),ur(2,"br"),tt(),et(3,"div"),on(4),tt(),Zn(5,FU,4,5,"li",10)),2&n){const t=St();we(4),Ea(" Game State: ",t.gameState," "),we(1),xt("ngForOf",t.onlineBots)}}let NU=(()=>{class n{constructor(t,r){this.cdRef=t,this.ngxChessBoardService=r,this.chess=new y2,this.scoreList=[],this.minScoreList=[],this.MAX_DEPTH=200,this.scoreMap=new Map,this.currentDepth=1,this.evaluationScore=0,this.castel=new b2(this.chess),this.material=new M2(this.chess),this.fen="",this.pgn="",this.allMoves=[],this.candidates=[],this.bestMove=new I0(this.chess.moves({verbose:!0})[0]),this.newMove="",this.isRandomGame=!1,this.isBotMode=!1,this.lichessApi=new A2,this.gameState="",this.SQUARES=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],this.cdRef.detach()}ngAfterViewInit(){this.cdRef.detectChanges(),this.createScoreList(),this.board.reset(),this.game(),this.startRandomGame()}createScoreList(){this.scoreList.push(new C2(this.chess)),this.scoreList.push(new E2(this.chess)),this.scoreList.push(new NT(this.chess)),this.scoreList.push(new LT(this.chess)),this.scoreList.push(new w2(this.chess)),this.scoreList.push(new x2(this.chess,this.material)),this.scoreList.push(new R2(this.chess,this.material,this.SQUARES)),this.scoreList.push(new O2(this.chess,this.material,this.SQUARES)),this.minScoreList.push(new NT(this.chess)),this.minScoreList.push(new LT(this.chess))}startRandomGame(){this.board.reset(),this.chess.reset(),setTimeout(()=>{this.randomGame()},3e3)}randomGame(){this.isRandomGame=!0,this.chess.isGameOver()||this.makeMove(this.bestMove)}game(t){var r=this;if(this.fen=this.chess.fen(),this.chess.isGameOver())return new I0(this.chess.moves({verbose:!0})[0]);this.allMoves=this.getAllMoves();let i=this.getInitialScore(),s=[];return this.currentDepth=1,this.evaluationScore=this.material.score(),this.allMoves.forEach(function(o){r.evaluate(o,t),"w"===r.chess.turn()&&o.score>i||"b"===r.chess.turn()&&o.score<i?(i=o.score,s=[],s.push(o)):o.score==i&&s.push(o)}),this.candidates=s,this.bestMove=s[Math.floor(Math.random()*s.length)],this.isBotMode||this.cdRef.detectChanges(),this.bestMove}getInitialScore(){return"w"===this.chess.turn()?-1e6:1e6}getAllMoves(){let t=[];return this.chess.moves({verbose:!0}).forEach(r=>{t.push(new I0(r))}),t}evaluate(t,r){let i=this.scoreForMyMove(t.move,this.evaluationScore,!0);this.chess.move(t.move),this.chess.isCheckmate()?"b"===this.chess.turn()?i+=1e3:i-=1e3:this.isGameDrawn()?i=0:(this.chess.isCheck()?(t.check=.1,"b"===this.chess.turn()?i+=.1:i-=.1):i+=.01*this.scoreAttackOnKingRing(),r&&r<15e3?this.minScoreList.forEach(s=>{let o=s.score();t.scoreList.set(s.description(),o),i+=o}):(this.material.refreshPeacesPosition(),this.scoreList.forEach(s=>{let o=s.score();t.scoreList.set(s.description(),o),i+=o}),i+=this.castel.evaluateCastel(t),i+=this.evaluateCapture(i,t.move))),t.score=Math.round(100*i)/100,this.chess.undo()}evaluateCapture(t,r){let i=t;return r.captured&&("b"===this.chess.turn()?i>=5?i+=.5:i>=2?"p"!=r.piece||this.material.whiteCount.pawns>2?i+=.5:i-=.5:i<=-2&&("p"==r.piece?i+=.5:i-=.5):i<=-5?i-=.5:i<=-2?"p"!=r.piece||this.material.blackCount.pawns>2?i-=.5:i+=.5:i>=2&&("p"==r.piece?i-=.5:i+=.5)),i}scoreForOponentMove(t,r){let i=r;if(t.captured&&("w"===this.chess.turn()?i+=this.material.evaluatePieceMaterial(t.captured):i-=this.material.evaluatePieceMaterial(t.captured)),t.promotion){let o=this.material.evaluatePieceMaterial(t.promotion)-1;"w"===this.chess.turn()?i+=o:i-=o}let s=i;return this.currentDepth<this.MAX_DEPTH&&(this.currentDepth++,this.chess.move(t),this.chess.moves({verbose:!0}).forEach(o=>{if(o.captured&&o.to===t.to){let l=this.scoreForMyMove(o,i,!1);(l>s&&"w"===this.chess.turn()||l<s&&"b"===this.chess.turn())&&(s=l)}}),this.chess.undo(),this.currentDepth--),this.scoreMap.set(this.chess.fen(),s),s}scoreForMyMove(t,r,i){let s=r;if(t.captured&&("w"===this.chess.turn()?s+=this.material.evaluatePieceMaterial(t.captured):s-=this.material.evaluatePieceMaterial(t.captured)),t.promotion){let l=this.material.evaluatePieceMaterial(t.promotion)-1;"w"===this.chess.turn()?s+=l:s-=l}let o=s;return this.chess.move(t),this.chess.moves({verbose:!0}).forEach(l=>{if(this.isOponentNextMoveCheckmate(l))o="b"===this.chess.turn()?-1e3:1e3;else if(l.promotion||l.captured&&(i||l.to===t.to)){let c=this.scoreForOponentMove(l,s);(c<o&&"b"===this.chess.turn()||c>o&&"w"===this.chess.turn())&&(o=c)}}),this.chess.undo(),this.scoreMap.set(this.chess.fen(),o),o}isOponentNextMoveCheckmate(t){return this.chess.move(t),this.chess.isCheckmate()?(this.chess.undo(),!0):(this.chess.undo(),!1)}makeMove(t){this.chess.move(t.move);let r=this.getBoardMove(t);this.board.move(r),this.refresh()}getBoardMove(t){let r=t.move.from+t.move.to;if(t.move.promotion)switch(t.move.promotion){case"q":r+="1";break;case"r":r+="2";break;case"b":r+="3";break;case"n":r+="4"}return r}moveBack(){this.chess.undo(),this.board.undo(),this.refresh()}refresh(){setTimeout(()=>{this.game(),this.pgn=this.chess.pgn(),this.isGameDrawn()&&(this.pgn+=" 1/2"),this.newMove="",this.isRandomGame&&this.randomGame()},500)}copyPgn(){document.addEventListener("copy",t=>{var r;null===(r=t.clipboardData)||void 0===r||r.setData("text/plain",this.pgn),t.preventDefault()}),document.execCommand("copy")}moveCallback(t){if(this.chess.turn()===t.color[0]){let r=this.getChessEngineMove(t.move);this.chess.move(r),this.refresh()}}getChessEngineMove(t){let r=t.substring(0,4);if(5===t.length)switch(t[4]){case"1":r+="q";break;case"2":r+="r";break;case"3":r+="b";break;case"4":r+="n"}return r}loadFEN(t){this.chess.load(t),this.board.setFEN(t)}startBot(){var t=this;return A0(function*(){t.isBotMode=!0,yield new T2(t.lichessApi,t.getReply,t.botMove.bind(t),t.updateGameState.bind(t)).start(),t.lichessApi.getOnlineBots().then(i=>{t.onlineBots=i.data.trim().split("\n").map(JSON.parse),t.onlineBots.sort((s,o)=>s.perfs.bullet.rating>o.perfs.bullet.rating?1:-1),t.cdRef.detectChanges()}),t.cdRef.detectChanges()})()}botMove(t,r){this.chess.reset(),t.forEach(s=>this.chess.move(s));let i=this.game(r);return i.move.from+i.move.to+("p"===i.move.flags?i.move.piece:"")}updateGameState(t){t&&(this.gameState=t,this.cdRef.detectChanges())}getReply(){return"hi"}stopRandomGame(){this.isRandomGame=!1}resumeRandomGame(){this.isRandomGame=!0,this.refresh()}isGameDrawn(){return this.chess.isDraw()||this.chess.isStalemate()||this.chess.isThreefoldRepetition()}challenge(t){this.lichessApi.challenge(t)}testBot(){new I2(this.chess.load.bind(this.chess),this.game.bind(this)).test()}scoreAttackOnKingRing(){let t=0,r=this.getKingRing(this.material.whiteKingPosition);return this.getKingRing(this.material.blackKingPosition).forEach(s=>{this.chess.isAttacked(s,"w")&&t++}),r.forEach(s=>{this.chess.isAttacked(s,"b")&&t--}),t}getKingRing(t){let r=[],i=t.x,s=t.y;for(let o=i-1;o<=i+1;o++)if(!(o<0||o>7))for(let l=s-1;l<=s+1;l++)l<0||l>7||r.push(this.SQUARES[8*l+o]);return r}}return n.\u0275fac=function(t){return new(t||n)(J(gc),J(K0))},n.\u0275cmp=Ds({type:n,selectors:[["app-engine"]],viewQuery:function(t,r){if(1&t&&Yh(IU,5),2&t){let i;zs(i=qs())&&(r.board=i.first)}},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["botMode",""],["type","button",1,"btn","btn-success",3,"click"],[1,"moves-list"],[4,"ngFor","ngForOf"],[3,"moveEvaluation","selectedMove"],["type","button",1,"btn","btn-success",3,"disabled","click"],[2,"width","400px","margin-left","auto","margin-right","auto","padding-bottom","100px","max-width","100%"],[3,"size","moveChange"],["board",""],[3,"user-bot",4,"ngFor","ngForOf"]],template:function(t,r){if(1&t&&(Zn(0,OU,34,7,"div",0),Zn(1,kU,6,2,"ng-template",null,1,qS)),2&t){const i=vm(2);xt("ngIf",!r.isBotMode)("ngIfElse",i)}},directives:[Qm,qm,IH,uM,G1,B_,PH],styles:[".move[_ngcontent-%COMP%]{min-width:30px;border:solid 1px;text-align:center;margin-right:2px}.move[_ngcontent-%COMP%]:hover{background-color:#7fffd4}.moves-list[_ngcontent-%COMP%]{display:flex}.user-bot[_ngcontent-%COMP%]{color:red}"],changeDetection:0}),n})(),LU=(()=>{class n{constructor(){this.title="my-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ds({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&ur(0,"app-engine")(1,"router-outlet")},directives:[NU,_0],styles:["",'[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']}),n})();class MM{}const ko="*";function IM(n,e=null){return{type:2,steps:n,options:e}}function xM(n){return{type:6,styles:n,offset:null}}function RM(n){Promise.resolve(null).then(n)}class xf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class OM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?RM(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Et=!1;function FM(n){return new ge(3e3,Et)}function vj(){return"undefined"!=typeof window&&void 0!==window.document}function gE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Oa(n){switch(n.length){case 0:return new xf;case 1:return n[0];default:return new OM(n)}}function kM(n,e,t,r,i={},s={}){const o=[],l=[];let c=-1,d=null;if(r.forEach(f=>{const g=f.offset,_=g==c,C=_&&d||{};Object.keys(f).forEach(w=>{let I=w,B=f[w];if("offset"!==w)switch(I=e.normalizePropertyName(I,o),B){case"!":B=i[w];break;case ko:B=s[w];break;default:B=e.normalizeStyleValue(w,I,B,o)}C[I]=B}),_||l.push(C),d=C,c=g}),o.length)throw function aj(n){return new ge(3502,Et)}();return l}function mE(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&_E(t,"start",n)));break;case"done":n.onDone(()=>r(t&&_E(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&_E(t,"destroy",n)))}}function _E(n,e,t){const r=t.totalTime,s=vE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function vE(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ci(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function NM(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let yE=(n,e)=>!1,LM=(n,e,t)=>[],BM=null;function bE(n){const e=n.parentNode||n.host;return e===BM?null:e}(gE()||"undefined"!=typeof Element)&&(vj()?(BM=(()=>document.documentElement)(),yE=(n,e)=>{for(;e;){if(e===n)return!0;e=bE(e)}return!1}):yE=(n,e)=>n.contains(e),LM=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Vl=null,VM=!1;function HM(n){Vl||(Vl=function bj(){return"undefined"!=typeof document?document.body:null}()||{},VM=!!Vl.style&&"WebkitAppearance"in Vl.style);let e=!0;return Vl.style&&!function yj(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vl.style,!e&&VM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Vl.style)),e}const UM=yE,jM=LM;let $M=(()=>{class n{validateStyleProperty(t){return HM(t)}matchesElement(t,r){return!1}containsElement(t,r){return UM(t,r)}getParentElement(t){return bE(t)}query(t,r,i){return jM(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,l=[],c){return new xf(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),CE=(()=>{class n{}return n.NOOP=new $M,n})();const EE="ng-enter",H_="ng-leave",U_="ng-trigger",j_=".ng-trigger",KM="ng-animating",wE=".ng-animating";function Hl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:DE(parseFloat(e[1]),e[2])}function DE(n,e){return"s"===e?1e3*n:n}function $_(n,e,t){return n.hasOwnProperty("duration")?n:function wj(n,e,t){let i,s=0,o="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(FM()),{duration:0,delay:0,easing:""};i=DE(parseFloat(l[1]),l[2]);const c=l[3];null!=c&&(s=DE(parseFloat(c),l[4]));const d=l[5];d&&(o=d)}else i=n;if(!t){let l=!1,c=e.length;i<0&&(e.push(function VU(){return new ge(3100,Et)}()),l=!0),s<0&&(e.push(function HU(){return new ge(3101,Et)}()),l=!0),l&&e.splice(c,0,FM())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Pc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Fa(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Pc(n,t);return t}function zM(n,e,t){return t?e+":"+t+";":""}function qM(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=zM(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=zM(0,Aj(t),n.style[t]));n.setAttribute("style",e)}function to(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=AE(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),gE()&&qM(n))}function Ul(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=AE(t);n.style[r]=""}),gE()&&qM(n))}function Rf(n){return Array.isArray(n)?1==n.length?n[0]:IM(n):n}const SE=new RegExp("{{\\s*(.+?)\\s*}}","g");function QM(n){let e=[];if("string"==typeof n){let t;for(;t=SE.exec(n);)e.push(t[1]);SE.lastIndex=0}return e}function W_(n,e,t){const r=n.toString(),i=r.replace(SE,(s,o)=>{let l=e[o];return e.hasOwnProperty(o)||(t.push(function jU(n){return new ge(3003,Et)}()),l=""),l.toString()});return i==r?n:i}function K_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Sj=/-+([a-z0-9])/g;function AE(n){return n.replace(Sj,(...e)=>e[1].toUpperCase())}function Aj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ei(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $U(n){return new ge(3004,Et)}()}}function ZM(n,e){return window.getComputedStyle(n)[e]}function Rj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Oj(n,e,t){if(":"==n[0]){const c=function Fj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function rj(n){return new ge(3016,Et)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function nj(n){return new ge(3015,Et)}()),e;const i=r[1],s=r[2],o=r[3];e.push(YM(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(YM(o,i))}(r,t,e)):t.push(n),t}const Q_=new Set(["true","1"]),Z_=new Set(["false","0"]);function YM(n,e){const t=Q_.has(n)||Z_.has(n),r=Q_.has(e)||Z_.has(e);return(i,s)=>{let o="*"==n||n==i,l="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Q_.has(n):Z_.has(n)),!l&&r&&"boolean"==typeof s&&(l=s?Q_.has(e):Z_.has(e)),o&&l}}const kj=new RegExp("s*:selfs*,?","g");function PE(n,e,t,r){return new Nj(n).build(e,t,r)}class Nj{constructor(e){this._driver=e}build(e,t,r){const i=new Vj(t);this._resetContextStyleTimingState(i);const s=Ei(this,Rf(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function KU(){return new ge(3006,Et)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const c=l,d=c.name;d.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,s.push(this.visitState(c,t))}),c.name=d}else if(1==l.type){const c=this.visitTransition(l,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function GU(){return new ge(3007,Et)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(l=>{if(Y_(l)){const c=l;Object.keys(c).forEach(d=>{QM(c[d]).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}}),s.size&&(K_(s.values()),t.errors.push(function zU(n,e){return new ge(3008,Et)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ei(this,Rf(e.animation),t);return{type:1,matchers:Rj(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:jl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ei(this,r,t)),options:jl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const l=Ei(this,o,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:3,steps:s,options:jl(e.options)}}visitAnimate(e,t){const r=function Uj(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return TE($_(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=TE(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||$_(r,e),TE(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:xM({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,l=!1;if(!o){l=!0;const d={};r.easing&&(d.easing=r.easing),o=xM(d)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=l,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==ko?r.push(o):t.errors.push(function qU(n){return new ge(3002,Et)}()):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Y_(o)){const l=o,c=l.easing;if(c&&(s=c,delete l.easing),!i)for(let d in l)if(l[d].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(l=>{if(!this._driver.validateStyleProperty(l))return delete o[l],void t.unsupportedCSSPropertiesFound.add(l);const c=t.collectedStyles[t.currentQuerySelector],d=c[l];let f=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(t.errors.push(function QU(n,e,t,r,i){return new ge(3010,Et)}()),f=!1),s=d.startTime),f&&(c[l]={startTime:s,endTime:i}),t.options&&function Dj(n,e,t){const r=e.params||{},i=QM(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function UU(n){return new ge(3001,Et)}())})}(o[l],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ZU(){return new ge(3011,Et)}()),r;let s=0;const o=[];let l=!1,c=!1,d=0;const f=e.steps.map(G=>{const H=this._makeStyleAst(G,t);let Y=null!=H.offset?H.offset:function Hj(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Y_(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Y_(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(H.styles),he=0;return null!=Y&&(s++,he=H.offset=Y),c=c||he<0||he>1,l=l||he<d,d=he,o.push(he),H});c&&t.errors.push(function YU(){return new ge(3012,Et)}()),l&&t.errors.push(function XU(){return new ge(3200,Et)}());const g=e.steps.length;let _=0;s>0&&s<g?t.errors.push(function JU(){return new ge(3202,Et)}()):0==s&&(_=1/(g-1));const C=g-1,w=t.currentTime,I=t.currentAnimateTimings,B=I.duration;return f.forEach((G,H)=>{const Y=_>0?H==C?1:_*H:o[H],he=Y*B;t.currentTime=w+I.delay+he,I.duration=he,this._validateStyleAst(G,t),G.offset=Y,r.styles.push(G)}),r}visitReference(e,t){return{type:8,animation:Ei(this,Rf(e.animation),t),options:jl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Lj(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(kj,"")),n=n.replace(/@\*/g,j_).replace(/@\w+/g,t=>j_+"-"+t.substr(1)).replace(/:animating/g,wE),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ci(t.collectedStyles,t.currentQuerySelector,{});const l=Ei(this,Rf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:l,originalSelector:e.selector,options:jl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ej(){return new ge(3013,Et)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:$_(e.timings,t.errors,!0);return{type:12,animation:Ei(this,Rf(e.animation),t),timings:r,options:null}}}class Vj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Y_(n){return!Array.isArray(n)&&"object"==typeof n}function jl(n){return n?(n=Pc(n)).params&&(n.params=function Bj(n){return n?Pc(n):null}(n.params)):n={},n}function TE(n,e,t){return{duration:n,delay:e,easing:t}}function ME(n,e,t,r,i,s,o=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:l}}class X_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Wj=new RegExp(":enter","g"),Gj=new RegExp(":leave","g");function IE(n,e,t,r,i,s={},o={},l,c,d=[]){return(new zj).buildKeyframes(n,e,t,r,i,s,o,l,c,d)}class zj{buildKeyframes(e,t,r,i,s,o,l,c,d,f=[]){d=d||new X_;const g=new xE(e,t,d,i,s,f,[]);g.options=c,g.currentTimeline.setStyles([o],null,g.errors,c),Ei(this,r,g);const _=g.timelines.filter(C=>C.containsAnimation());if(Object.keys(l).length){let C;for(let w=_.length-1;w>=0;w--){const I=_[w];if(I.element===t){C=I;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([l],null,g.errors,c)}return _.length?_.map(C=>C.buildKeyframes()):[ME(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Hl(r.duration):null,l=null!=r.delay?Hl(r.delay):null;return 0!==o&&e.forEach(c=>{const d=t.appendInstructionToTimeline(c,o,l);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ei(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=J_);const o=Hl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ei(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Hl(e.options.delay):0;e.steps.forEach(o=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),Ei(this,o,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return $_(t.params?W_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,l=t.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(c=>{l.forwardTime((c.offset||0)*s),l.setStyles(c.styles,c.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Hl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=J_);let o=r;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let c=null;l.forEach((d,f)=>{t.currentQueryIndex=f;const g=t.createSubContext(e.options,d);s&&g.delayNextStep(s),d===t.element&&(c=g.currentTimeline),Ei(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=l-c;break;case"full":c=r.currentStaggerTime}const f=t.currentTimeline;c&&f.delayNextStep(c);const g=f.currentTime;Ei(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const J_={};class xE{constructor(e,t,r,i,s,o,l,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=J_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new ev(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Hl(r.duration)),null!=r.delay&&(i.delay=Hl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=W_(s[l],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new xE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=J_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new qj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let l=[];if(i&&l.push(this.element),e.length>0){e=(e=e.replace(Wj,"."+this._enterClassName)).replace(Gj,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=r);0!==r&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),l.push(...d)}return!s&&0==l.length&&o.push(function tj(n){return new ge(3014,Et)}()),l}}class ev{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ev(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ko,this._currentKeyframe[t]=ko}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function Qj(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=ko})):Fa(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(l=>{const c=W_(o[l],s,r);this._pendingStyles[l]=c,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:ko),this._updateStyle(l,c)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,c)=>{const d=Fa(l,!0);Object.keys(d).forEach(f=>{const g=d[f];"!"==g?e.add(f):g==ko&&t.add(f)}),r||(d.offset=c/this.duration),i.push(d)});const s=e.size?K_(e.values()):[],o=t.size?K_(t.values()):[];if(r){const l=i[0],c=Pc(l);l.offset=0,c.offset=1,i=[l,c]}return ME(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class qj extends ev{constructor(e,t,r,i,s,o,l=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,l=t/o,c=Fa(e[0],!1);c.offset=0,s.push(c);const d=Fa(e[0],!1);d.offset=eI(l),s.push(d);const f=e.length-1;for(let g=1;g<=f;g++){let _=Fa(e[g],!1);_.offset=eI((t+_.offset*r)/o),s.push(_)}r=o,t=0,i="",e=s}return ME(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function eI(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class RE{}class Zj extends RE{normalizePropertyName(e,t){return AE(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Yj[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function WU(n,e){return new ge(3005,Et)}())}return o+s}}const Yj=(()=>function Xj(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function tI(n,e,t,r,i,s,o,l,c,d,f,g,_){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:l,queriedElements:c,preStyleProps:d,postStyleProps:f,totalTime:g,errors:_}}const OE={};class nI{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Jj(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,l,c,d,f){const g=[],_=this.ast.options&&this.ast.options.params||OE,w=this.buildStyles(r,l&&l.params||OE,g),I=c&&c.params||OE,B=this.buildStyles(i,I,g),G=new Set,H=new Map,Y=new Map,he="void"===i,$e={params:Object.assign(Object.assign({},_),I)},zt=f?[]:IE(e,t,this.ast.animation,s,o,w,B,$e,d,g);let tn=0;if(zt.forEach(Dr=>{tn=Math.max(Dr.duration+Dr.delay,tn)}),g.length)return tI(t,this._triggerName,r,i,he,w,B,[],[],H,Y,tn,g);zt.forEach(Dr=>{const wi=Dr.element,Mc=Ci(H,wi,{});Dr.preStyleProps.forEach(Es=>Mc[Es]=!0);const No=Ci(Y,wi,{});Dr.postStyleProps.forEach(Es=>No[Es]=!0),wi!==t&&G.add(wi)});const Jn=K_(G.values());return tI(t,this._triggerName,r,i,he,w,B,zt,Jn,H,Y,tn)}}class e8{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Pc(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(l=>{let c=o[l];c.length>1&&(c=W_(c,i,t));const d=this.normalizer.normalizePropertyName(l,t);c=this.normalizer.normalizeStyleValue(l,d,c,t),r[d]=c})}}),r}}class n8{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new e8(i.style,i.options&&i.options.params||{},r)}),rI(this.states,"true","1"),rI(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new nI(e,i,this.states))}),this.fallbackTransition=function r8(n,e,t){return new nI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function rI(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const i8=new X_;class s8{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=PE(this._driver,t,r,[]);if(r.length)throw function lj(n){return new ge(3503,Et)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=kM(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const l=new Map;if(s?(o=IE(this._driver,t,s,EE,H_,{},{},r,i8,i),o.forEach(f=>{const g=Ci(l,f.element,{});f.postStyleProps.forEach(_=>g[_]=null)})):(i.push(function uj(){return new ge(3300,Et)}()),o=[]),i.length)throw function cj(n){return new ge(3504,Et)}();l.forEach((f,g)=>{Object.keys(f).forEach(_=>{f[_]=this._driver.computeStyle(g,_,ko)})});const d=Oa(o.map(f=>{const g=l.get(f.element);return this._buildPlayer(f,{},g)}));return this._playersById[e]=d,d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function dj(n){return new ge(3301,Et)}();return t}listen(e,t,r,i){const s=vE(t,"","","");return mE(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const iI="ng-animate-queued",FE="ng-animate-disabled",c8=[],sI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},d8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yi="__ng_removed";class kE{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function g8(n){return null!=n?n:null}(r?e.value:e),r){const s=Pc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Of="void",NE=new kE(Of);class h8{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xi(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function hj(n,e){return new ge(3302,Et)}();if(null==r||0==r.length)throw function fj(n){return new ge(3303,Et)}();if(!function m8(n){return"start"==n||"done"==n}(r))throw function pj(n,e){return new ge(3400,Et)}();const s=Ci(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const l=Ci(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(Xi(e,U_),Xi(e,U_+"-"+t),l[t]=NE),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function gj(n){return new ge(3401,Et)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new LE(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(Xi(e,U_),Xi(e,U_+"-"+t),this._engine.statesByElement.set(e,l={}));let c=l[t];const d=new kE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),l[t]=d,c||(c=NE),d.value!==Of&&c.value===d.value){if(!function y8(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,d.params)){const I=[],B=s.matchStyles(c.value,c.params,I),G=s.matchStyles(d.value,d.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{Ul(e,B),to(e,G)})}return}const _=Ci(this._engine.playersByElement,e,[]);_.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let C=s.matchTransition(c.value,d.value,e,d.params),w=!1;if(!C){if(!i)return;C=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:c,toState:d,player:o,isFallbackTransition:w}),w||(Xi(e,iI),o.onStart(()=>{Tc(e,iI)})),o.onDone(()=>{let I=this.players.indexOf(o);I>=0&&this.players.splice(I,1);const B=this._engine.playersByElement.get(e);if(B){let G=B.indexOf(o);G>=0&&B.splice(G,1)}}),this.players.push(o),_.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,j_,!0);r.forEach(i=>{if(i[Yi])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const l=[];if(Object.keys(s).forEach(c=>{if(o.set(c,s[c].value),this._triggers[c]){const d=this.trigger(e,c,Of,i);d&&l.push(d)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Oa(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers[o].fallbackTransition,d=r[o]||NE,f=new kE(Of),g=new LE(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:d,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Yi];(!s||s===sI)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Xi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==r.triggerName){const c=vE(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,mE(r.player,l.phase,c,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class f8{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new h8(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let l=this.driver.getParentElement(t);for(;l;){const c=i.get(l);if(c){const d=r.indexOf(c);r.splice(d+1,0,e),o=!0;break}l=this.driver.getParentElement(l)}}else for(let l=s;l>=0;l--)if(this.driver.containsElement(r[l].hostElement,t)){r.splice(l+1,0,e),o=!0;break}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const l=this._fetchNamespace(o);l&&t.add(l)}}}return t}trigger(e,t,r,i){if(tv(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!tv(t))return;const s=t[Yi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xi(e,FE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Tc(e,FE))}removeNode(e,t,r,i){if(tv(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Yi]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return tv(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,j_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wE,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Oa(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Yi];if(r&&r.setForRemoval){if(e[Yi]=sI,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(FE))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Xi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Oa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function mj(n){return new ge(3402,Et)}()}_flushAnimations(e,t){const r=new X_,i=[],s=new Map,o=[],l=new Map,c=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(ye=>{f.add(ye);const Fe=this.driver.query(ye,".ng-animate-queued",!0);for(let We=0;We<Fe.length;We++)f.add(Fe[We])});const g=this.bodyNode,_=Array.from(this.statesByElement.keys()),C=lI(_,this.collectedEnterElements),w=new Map;let I=0;C.forEach((ye,Fe)=>{const We=EE+I++;w.set(Fe,We),ye.forEach(It=>Xi(It,We))});const B=[],G=new Set,H=new Set;for(let ye=0;ye<this.collectedLeaveElements.length;ye++){const Fe=this.collectedLeaveElements[ye],We=Fe[Yi];We&&We.setForRemoval&&(B.push(Fe),G.add(Fe),We.hasAnimation?this.driver.query(Fe,".ng-star-inserted",!0).forEach(It=>G.add(It)):H.add(Fe))}const Y=new Map,he=lI(_,Array.from(G));he.forEach((ye,Fe)=>{const We=H_+I++;Y.set(Fe,We),ye.forEach(It=>Xi(It,We))}),e.push(()=>{C.forEach((ye,Fe)=>{const We=w.get(Fe);ye.forEach(It=>Tc(It,We))}),he.forEach((ye,Fe)=>{const We=Y.get(Fe);ye.forEach(It=>Tc(It,We))}),B.forEach(ye=>{this.processLeaveNode(ye)})});const $e=[],zt=[];for(let ye=this._namespaceList.length-1;ye>=0;ye--)this._namespaceList[ye].drainQueuedTransitions(t).forEach(We=>{const It=We.player,er=We.element;if($e.push(It),this.collectedEnterElements.length){const Br=er[Yi];if(Br&&Br.setForMove){if(Br.previousTriggersValues&&Br.previousTriggersValues.has(We.triggerName)){const $l=Br.previousTriggersValues.get(We.triggerName),Na=this.statesByElement.get(We.element);Na&&Na[We.triggerName]&&(Na[We.triggerName].value=$l)}return void It.destroy()}}const no=!g||!this.driver.containsElement(g,er),Di=Y.get(er),ka=w.get(er),pn=this._buildInstruction(We,r,ka,Di,no);if(pn.errors&&pn.errors.length)return void zt.push(pn);if(no)return It.onStart(()=>Ul(er,pn.fromStyles)),It.onDestroy(()=>to(er,pn.toStyles)),void i.push(It);if(We.isFallbackTransition)return It.onStart(()=>Ul(er,pn.fromStyles)),It.onDestroy(()=>to(er,pn.toStyles)),void i.push(It);const vI=[];pn.timelines.forEach(Br=>{Br.stretchStartingKeyframe=!0,this.disabledNodes.has(Br.element)||vI.push(Br)}),pn.timelines=vI,r.append(er,pn.timelines),o.push({instruction:pn,player:It,element:er}),pn.queriedElements.forEach(Br=>Ci(l,Br,[]).push(It)),pn.preStyleProps.forEach((Br,$l)=>{const Na=Object.keys(Br);if(Na.length){let Wl=c.get($l);Wl||c.set($l,Wl=new Set),Na.forEach(VE=>Wl.add(VE))}}),pn.postStyleProps.forEach((Br,$l)=>{const Na=Object.keys(Br);let Wl=d.get($l);Wl||d.set($l,Wl=new Set),Na.forEach(VE=>Wl.add(VE))})});if(zt.length){const ye=[];zt.forEach(Fe=>{ye.push(function _j(n,e){return new ge(3505,Et)}())}),$e.forEach(Fe=>Fe.destroy()),this.reportError(ye)}const tn=new Map,Jn=new Map;o.forEach(ye=>{const Fe=ye.element;r.has(Fe)&&(Jn.set(Fe,Fe),this._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,tn))}),i.forEach(ye=>{const Fe=ye.element;this._getPreviousPlayers(Fe,!1,ye.namespaceId,ye.triggerName,null).forEach(It=>{Ci(tn,Fe,[]).push(It),It.destroy()})});const Dr=B.filter(ye=>cI(ye,c,d)),wi=new Map;aI(wi,this.driver,H,d,ko).forEach(ye=>{cI(ye,c,d)&&Dr.push(ye)});const No=new Map;C.forEach((ye,Fe)=>{aI(No,this.driver,new Set(ye),c,"!")}),Dr.forEach(ye=>{const Fe=wi.get(ye),We=No.get(ye);wi.set(ye,Object.assign(Object.assign({},Fe),We))});const Es=[],Ic=[],xc={};o.forEach(ye=>{const{element:Fe,player:We,instruction:It}=ye;if(r.has(Fe)){if(f.has(Fe))return We.onDestroy(()=>to(Fe,It.toStyles)),We.disabled=!0,We.overrideTotalTime(It.totalTime),void i.push(We);let er=xc;if(Jn.size>1){let Di=Fe;const ka=[];for(;Di=Di.parentNode;){const pn=Jn.get(Di);if(pn){er=pn;break}ka.push(Di)}ka.forEach(pn=>Jn.set(pn,er))}const no=this._buildAnimation(We.namespaceId,It,tn,s,No,wi);if(We.setRealPlayer(no),er===xc)Es.push(We);else{const Di=this.playersByElement.get(er);Di&&Di.length&&(We.parentPlayer=Oa(Di)),i.push(We)}}else Ul(Fe,It.fromStyles),We.onDestroy(()=>to(Fe,It.toStyles)),Ic.push(We),f.has(Fe)&&i.push(We)}),Ic.forEach(ye=>{const Fe=s.get(ye.element);if(Fe&&Fe.length){const We=Oa(Fe);ye.setRealPlayer(We)}}),i.forEach(ye=>{ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(let ye=0;ye<B.length;ye++){const Fe=B[ye],We=Fe[Yi];if(Tc(Fe,H_),We&&We.hasAnimation)continue;let It=[];if(l.size){let no=l.get(Fe);no&&no.length&&It.push(...no);let Di=this.driver.query(Fe,wE,!0);for(let ka=0;ka<Di.length;ka++){let pn=l.get(Di[ka]);pn&&pn.length&&It.push(...pn)}}const er=It.filter(no=>!no.destroyed);er.length?_8(this,Fe,er):this.processLeaveNode(Fe)}return B.length=0,Es.forEach(ye=>{this.players.push(ye),ye.onDone(()=>{ye.destroy();const Fe=this.players.indexOf(ye);this.players.splice(Fe,1)}),ye.play()}),Es}elementContainsData(e,t){let r=!1;const i=t[Yi];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(o=l)}else{const l=this.playersByElement.get(e);if(l){const c=!s||s==Of;l.forEach(d=>{d.queued||!c&&d.triggerName!=i||o.push(d)})}}return(r||i)&&(o=o.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const d=c.element,f=d!==s,g=Ci(r,d,[]);this._getPreviousPlayers(d,f,o,l,t.toState).forEach(C=>{const w=C.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),C.destroy(),g.push(C)})}Ul(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const l=t.triggerName,c=t.element,d=[],f=new Set,g=new Set,_=t.timelines.map(w=>{const I=w.element;f.add(I);const B=I[Yi];if(B&&B.removedBeforeQueried)return new xf(w.duration,w.delay);const G=I!==c,H=function v8(n){const e=[];return uI(n,e),e}((r.get(I)||c8).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===I),Y=s.get(I),he=o.get(I),$e=kM(0,this._normalizer,0,w.keyframes,Y,he),zt=this._buildPlayer(w,$e,H);if(w.subTimeline&&i&&g.add(I),G){const tn=new LE(e,l,I);tn.setRealPlayer(zt),d.push(tn)}return zt});d.forEach(w=>{Ci(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function p8(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,w.element,w))}),f.forEach(w=>Xi(w,KM));const C=Oa(_);return C.onDestroy(()=>{f.forEach(w=>Tc(w,KM)),to(c,t.toStyles)}),g.forEach(w=>{Ci(i,w,[]).push(C)}),C}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new xf(e.duration,e.delay)}}class LE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new xf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>mE(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ci(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function tv(n){return n&&1===n.nodeType}function oI(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function aI(n,e,t,r,i){const s=[];t.forEach(c=>s.push(oI(c)));const o=[];r.forEach((c,d)=>{const f={};c.forEach(g=>{const _=f[g]=e.computeStyle(d,g,i);(!_||0==_.length)&&(d[Yi]=d8,o.push(d))}),n.set(d,f)});let l=0;return t.forEach(c=>oI(c,s[l++])),o}function lI(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(l){if(!l)return 1;let c=s.get(l);if(c)return c;const d=l.parentNode;return c=t.has(d)?d:i.has(d)?1:o(d),s.set(l,c),c}return e.forEach(l=>{const c=o(l);1!==c&&t.get(c).push(l)}),t}function Xi(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Tc(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function _8(n,e,t){Oa(t).onDone(()=>n.processLeaveNode(e))}function uI(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof OM?uI(r.players,e):e.push(r)}}function cI(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class nv{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new f8(e,t,r),this._timelineEngine=new s8(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let l=this._triggerCache[o];if(!l){const c=[],f=PE(this._driver,s,c,[]);if(c.length)throw function oj(n,e){return new ge(3404,Et)}();l=function t8(n,e,t){return new n8(n,e,t)}(i,f,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,i,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=NM(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,l]=NM(r);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let C8=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&to(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(to(this._element,this._initialStyles),this._endStyles&&(to(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ul(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ul(this._element,this._endStyles),this._endStyles=null),to(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function BE(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];E8(i)&&(e=e||{},e[i]=n[i])}return e}function E8(n){return"display"===n||"position"===n}class dI{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:ZM(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class w8{validateStyleProperty(e){return HM(e)}matchesElement(e,t){return!1}containsElement(e,t){return UM(e,t)}getParentElement(e){return bE(e)}query(e,t,r){return jM(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const d={},f=o.filter(_=>_ instanceof dI);(function Pj(n,e){return 0===n||0===e})(r,i)&&f.forEach(_=>{let C=_.currentSnapshot;Object.keys(C).forEach(w=>d[w]=C[w])}),t=function Tj(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(l=>{s.hasOwnProperty(l)||o.push(l),s[l]=t[l]}),o.length)for(var i=1;i<e.length;i++){let l=e[i];o.forEach(function(c){l[c]=ZM(n,c)})}}return e}(e,t=t.map(_=>Fa(_,!1)),d);const g=function b8(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=BE(e[0]),e.length>1&&(r=BE(e[e.length-1]))):e&&(t=BE(e)),t||r?new C8(n,t,r):null}(e,t);return new dI(e,t,c,g)}}let D8=(()=>{class n extends MM{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:jr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?IM(t):t;return hI(this._renderer,null,r,"register",[i]),new S8(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(me(Gh),me(Hn))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();class S8 extends class BU{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new A8(this._id,e,t||{},this._renderer)}}class A8{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hI(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function hI(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const fI="@.disabled";let P8=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const l=null==o?void 0:o.parentNode(s);l&&o.removeChild(l,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new pI("",s,this.engine),this._rendererCache.set(s,f)),f}const o=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const c=f=>{Array.isArray(f)?f.forEach(c):this.engine.registerTrigger(o,l,t,f.name,f)};return r.data.animation.forEach(c),new T8(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(me(Gh),me(nv),me(hn))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();class pI{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==fI?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class T8 extends pI{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fI?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function M8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function I8(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(e,t,r)}}let x8=(()=>{class n extends nv{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(me(Hn),me(CE),me(RE))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})();const gI=new xe("AnimationModuleType"),mI=[{provide:MM,useClass:D8},{provide:RE,useFactory:function R8(){return new Zj}},{provide:nv,useClass:x8},{provide:Gh,useFactory:function O8(n,e,t){return new P8(n,e,t)},deps:[e_,nv,hn]}],_I=[{provide:CE,useFactory:()=>new w8},{provide:gI,useValue:"BrowserAnimations"},...mI],F8=[{provide:CE,useClass:$M},{provide:gI,useValue:"NoopAnimations"},...mI];let k8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?F8:_I}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n}),n.\u0275inj=rr({providers:_I,imports:[_P]}),n})(),N8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ir({type:n,bootstrap:[LU]}),n.\u0275inj=rr({providers:[],imports:[[_P,n2,MU,TH.forRoot(),k8]]}),n})();(function hF(){AA=!1})(),DN().bootstrapModule(N8).catch(n=>console.error(n))},489:function(fe,Ce,M){var E;fe=M.nmd(fe),function(){var v,V="Expected a function",K="__lodash_hash_undefined__",P="__lodash_placeholder__",Ae=1/0,pt=9007199254740991,Pe=4294967295,Lo=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ve="[object Arguments]",st="[object Array]",ct="[object Boolean]",dr="[object Date]",Ji="[object Error]",Bo="[object Function]",Rc="[object GeneratorFunction]",_t="[object Map]",Vo="[object Number]",Ai="[object Object]",Rt="[object Promise]",Sr="[object RegExp]",tr="[object Set]",Gl="[object String]",Oc="[object Symbol]",ii="[object WeakMap]",zl="[object ArrayBuffer]",Ho="[object DataView]",Ff="[object Float32Array]",Fc="[object Float64Array]",kf="[object Int8Array]",Nf="[object Int16Array]",Lf="[object Int32Array]",Bf="[object Uint8Array]",ql="[object Uint8ClampedArray]",Ql="[object Uint16Array]",Zl="[object Uint32Array]",Vf=/\b__p \+= '';/g,Hf=/\b(__p \+=) '' \+/g,sv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kc=/&(?:amp|lt|gt|quot|#39);/g,Nc=/[&<>"']/g,Uf=RegExp(kc.source),jf=RegExp(Nc.source),Vr=/<%-([\s\S]+?)%>/g,ov=/<%([\s\S]+?)%>/g,$f=/<%=([\s\S]+?)%>/g,av=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lv=/^\w*$/,Wf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lc=/[\\^$.*+?()[\]{}|]/g,uv=RegExp(Lc.source),si=/^\s+/,cv=/\s/,En=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Va=/\{\n\/\* \[wrapped with (.+)\] \*/,es=/,? & /,UE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dv=/[()=,{}\[\]\/\s]/,Kf=/\\(\\)?/g,Bc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vc=/\w*$/,Ha=/^[-+]0x[0-9a-f]+$/i,hv=/^0b[01]+$/i,Gf=/^\[object .+?Constructor\]$/,zf=/^0o[0-7]+$/i,fv=/^(?:0|[1-9]\d*)$/,pv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yl=/($^)/,gv=/['\n\r\u2028\u2029\\]/g,Ua="\\ud800-\\udfff",Xl="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",io="\\u2700-\\u27bf",qf="a-z\\xdf-\\xf6\\xf8-\\xff",Jl="A-Z\\xc0-\\xd6\\xd8-\\xde",Qf="\\ufe0e\\ufe0f",Ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zf="["+Ua+"]",vv="["+Ht+"]",ge="["+Xl+"]",eu="\\d+",Ge="["+io+"]",jn="["+qf+"]",Yf="[^"+Ua+Ht+eu+io+qf+Jl+"]",Xf="\\ud83c[\\udffb-\\udfff]",ja="[^"+Ua+"]",nr="(?:\\ud83c[\\udde6-\\uddff]){2}",Jf="[\\ud800-\\udbff][\\udc00-\\udfff]",Uo="["+Jl+"]",Pi="(?:"+jn+"|"+Yf+")",$E="(?:"+Uo+"|"+Yf+")",bv="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Cv="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ev="(?:"+ge+"|"+Xf+")?",ep="["+Qf+"]?",hr=ep+Ev+"(?:\\u200d(?:"+[ja,nr,Jf].join("|")+")"+ep+Ev+")*",qt="(?:"+[Ge,nr,Jf].join("|")+")"+hr,GE="(?:"+[ja+ge+"?",ge,nr,Jf,Zf].join("|")+")",zE=RegExp("['\u2019]","g"),qE=RegExp(ge,"g"),He=RegExp(Xf+"(?="+Xf+")|"+GE+hr,"g"),QE=RegExp([Uo+"?"+jn+"+"+bv+"(?="+[vv,Uo,"$"].join("|")+")",$E+"+"+Cv+"(?="+[vv,Uo+Pi,"$"].join("|")+")",Uo+"?"+Pi+"+"+bv,Uo+"+"+Cv,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",eu,qt].join("|"),"g"),rr=RegExp("[\\u200d"+Ua+Xl+Qf+"]"),jc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dv=-1,Qt={};Qt[Ff]=Qt[Fc]=Qt[kf]=Qt[Nf]=Qt[Lf]=Qt[Bf]=Qt[ql]=Qt[Ql]=Qt[Zl]=!0,Qt[ve]=Qt[st]=Qt[zl]=Qt[ct]=Qt[Ho]=Qt[dr]=Qt[Ji]=Qt[Bo]=Qt[_t]=Qt[Vo]=Qt[Ai]=Qt[Sr]=Qt[tr]=Qt[Gl]=Qt[ii]=!1;var Ut={};Ut[ve]=Ut[st]=Ut[zl]=Ut[Ho]=Ut[ct]=Ut[dr]=Ut[Ff]=Ut[Fc]=Ut[kf]=Ut[Nf]=Ut[Lf]=Ut[_t]=Ut[Vo]=Ut[Ai]=Ut[Sr]=Ut[tr]=Ut[Gl]=Ut[Oc]=Ut[Bf]=Ut[ql]=Ut[Ql]=Ut[Zl]=!0,Ut[Ji]=Ut[Bo]=Ut[ii]=!1;var Sv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ke=parseFloat,Wc=parseInt,rp="object"==typeof global&&global&&global.Object===Object&&global,ws="object"==typeof self&&self&&self.Object===Object&&self,Dn=rp||ws||Function("return this")(),Av=Ce&&!Ce.nodeType&&Ce,Hr=Av&&fe&&!fe.nodeType&&fe,Ur=Hr&&Hr.exports===Av,ip=Ur&&rp.process,oi=function(){try{return Hr&&Hr.require&&Hr.require("util").types||ip&&ip.binding&&ip.binding("util")}catch($){}}(),jr=oi&&oi.isArrayBuffer,sp=oi&&oi.isDate,op=oi&&oi.isMap,ap=oi&&oi.isRegExp,Pv=oi&&oi.isSet,Ft=oi&&oi.isTypedArray;function $r(x,$,j){switch(j.length){case 0:return x.call($);case 1:return x.call($,j[0]);case 2:return x.call($,j[0],j[1]);case 3:return x.call($,j[0],j[1],j[2])}return x.apply($,j)}function ZE(x,$,j,_e){for(var ze=-1,Pt=null==x?0:x.length;++ze<Pt;){var An=x[ze];$(_e,An,j(An),x)}return _e}function Fn(x,$){for(var j=-1,_e=null==x?0:x.length;++j<_e&&!1!==$(x[j],j,x););return x}function jt(x,$){for(var j=null==x?0:x.length;j--&&!1!==$(x[j],j,x););return x}function $a(x,$){for(var j=-1,_e=null==x?0:x.length;++j<_e;)if(!$(x[j],j,x))return!1;return!0}function Ti(x,$){for(var j=-1,_e=null==x?0:x.length,ze=0,Pt=[];++j<_e;){var An=x[j];$(An,j,x)&&(Pt[ze++]=An)}return Pt}function jo(x,$){return!(null==x||!x.length)&&so(x,$,0)>-1}function nu(x,$,j){for(var _e=-1,ze=null==x?0:x.length;++_e<ze;)if(j($,x[_e]))return!0;return!1}function Dt(x,$){for(var j=-1,_e=null==x?0:x.length,ze=Array(_e);++j<_e;)ze[j]=$(x[j],j,x);return ze}function Wr(x,$){for(var j=-1,_e=$.length,ze=x.length;++j<_e;)x[ze+j]=$[j];return x}function Kc(x,$,j,_e){var ze=-1,Pt=null==x?0:x.length;for(_e&&Pt&&(j=x[++ze]);++ze<Pt;)j=$(j,x[ze],ze,x);return j}function Ds(x,$,j,_e){var ze=null==x?0:x.length;for(_e&&ze&&(j=x[--ze]);ze--;)j=$(j,x[ze],ze,x);return j}function Gc(x,$){for(var j=-1,_e=null==x?0:x.length;++j<_e;)if($(x[j],j,x))return!0;return!1}var lp=Mi("length");function ir(x,$,j){var _e;return j(x,function(ze,Pt,An){if($(ze,Pt,An))return _e=Pt,!1}),_e}function ru(x,$,j,_e){for(var ze=x.length,Pt=j+(_e?1:-1);_e?Pt--:++Pt<ze;)if($(x[Pt],Pt,x))return Pt;return-1}function so(x,$,j){return $==$?function fr(x,$,j){for(var _e=j-1,ze=x.length;++_e<ze;)if(x[_e]===$)return _e;return-1}(x,$,j):ru(x,sr,j)}function ke(x,$,j,_e){for(var ze=j-1,Pt=x.length;++ze<Pt;)if(_e(x[ze],$))return ze;return-1}function sr(x){return x!=x}function kn(x,$){var j=null==x?0:x.length;return j?Wa(x,$)/j:NaN}function Mi(x){return function($){return null==$?v:$[x]}}function ts(x){return function($){return null==x?v:x[$]}}function Ar(x,$,j,_e,ze){return ze(x,function(Pt,An,Gt){j=_e?(_e=!1,Pt):$(j,Pt,An,Gt)}),j}function Wa(x,$){for(var j,_e=-1,ze=x.length;++_e<ze;){var Pt=$(x[_e]);Pt!==v&&(j=j===v?Pt:j+Pt)}return j}function oo(x,$){for(var j=-1,_e=Array(x);++j<x;)_e[j]=$(j);return _e}function Ss(x){return x&&x.slice(0,$t(x)+1).replace(si,"")}function Nt(x){return function($){return x($)}}function zc(x,$){return Dt($,function(j){return x[j]})}function $n(x,$){return x.has($)}function de(x,$){for(var j=-1,_e=x.length;++j<_e&&so($,x[j],0)>-1;);return j}function ot(x,$){for(var j=x.length;j--&&so($,x[j],0)>-1;);return j}function Xt(x,$){for(var j=x.length,_e=0;j--;)x[j]===$&&++_e;return _e}var Pr=ts({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),ao=ts({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(x){return"\\"+Sv[x]}function Kt(x){return rr.test(x)}function Xe(x){var $=-1,j=Array(x.size);return x.forEach(function(_e,ze){j[++$]=[ze,_e]}),j}function Ga(x,$){return function(j){return x($(j))}}function Tr(x,$){for(var j=-1,_e=x.length,ze=0,Pt=[];++j<_e;){var An=x[j];(An===$||An===P)&&(x[j]=P,Pt[ze++]=j)}return Pt}function Wo(x){var $=-1,j=Array(x.size);return x.forEach(function(_e){j[++$]=_e}),j}function ai(x){return Kt(x)?function Mv(x){for(var $=He.lastIndex=0;He.test(x);)++$;return $}(x):lp(x)}function ln(x){return Kt(x)?function Ii(x){return x.match(He)||[]}(x):function up(x){return x.split("")}(x)}function $t(x){for(var $=x.length;$--&&cv.test(x.charAt($)););return $}var Tv=ts({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),uo=function x($){var a,j=($=null==$?Dn:uo.defaults(Dn.Object(),$,uo.pick(Dn,tp))).Array,_e=$.Date,ze=$.Error,Pt=$.Function,An=$.Math,Gt=$.Object,dp=$.RegExp,YE=$.String,ui=$.TypeError,Qc=j.prototype,qa=Gt.prototype,Zc=$["__core-js_shared__"],Yc=Pt.prototype.toString,Lt=qa.hasOwnProperty,JE=0,Iv=(a=/[^.]+$/.exec(Zc&&Zc.keys&&Zc.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",Xc=qa.toString,hp=Yc.call(Gt),Jc=Dn._,ew=dp("^"+Yc.call(Lt).replace(Lc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ed=Ur?$.Buffer:v,co=$.Symbol,xi=$.Uint8Array,fp=ed?ed.allocUnsafe:v,Nn=Ga(Gt.getPrototypeOf,Gt),td=Gt.create,pp=qa.propertyIsEnumerable,ou=Qc.splice,nd=co?co.isConcatSpreadable:v,Go=co?co.iterator:v,ho=co?co.toStringTag:v,zo=function(){try{var a=Ns(Gt,"defineProperty");return a({},"",{}),a}catch(u){}}(),xv=$.clearTimeout!==Dn.clearTimeout&&$.clearTimeout,Kr=_e&&_e.now!==Dn.Date.now&&_e.now,rd=$.setTimeout!==Dn.setTimeout&&$.setTimeout,au=An.ceil,qo=An.floor,id=Gt.getOwnPropertySymbols,Rv=ed?ed.isBuffer:v,lu=$.isFinite,Ov=Qc.join,sd=Ga(Gt.keys,Gt),Pn=An.max,dt=An.min,gp=_e.now,Fv=$.parseInt,un=An.random,kv=Qc.reverse,mp=Ns($,"DataView"),As=Ns($,"Map"),pr=Ns($,"Promise"),Qo=Ns($,"Set"),fo=Ns($,"WeakMap"),Ri=Ns(Gt,"create"),Wn=fo&&new fo,po={},od=Bs(mp),Nv=Bs(As),Ps=Bs(pr),_p=Bs(Qo),ad=Bs(fo),Ne=co?co.prototype:v,uu=Ne?Ne.valueOf:v,vp=Ne?Ne.toString:v;function y(a){if(sn(a)&&!Je(a)&&!(a instanceof gt)){if(a instanceof Gr)return a;if(Lt.call(a,"__wrapped__"))return da(a)}return new Gr(a)}var Zo=function(){function a(){}return function(u){if(!we(u))return{};if(td)return td(u);a.prototype=u;var h=new a;return a.prototype=v,h}}();function Qa(){}function Gr(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=v}function gt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pe,this.__views__=[]}function Zt(a){var u=-1,h=null==a?0:a.length;for(this.clear();++u<h;){var p=a[u];this.set(p[0],p[1])}}function Ts(a){var u=-1,h=null==a?0:a.length;for(this.clear();++u<h;){var p=a[u];this.set(p[0],p[1])}}function Fi(a){var u=-1,h=null==a?0:a.length;for(this.clear();++u<h;){var p=a[u];this.set(p[0],p[1])}}function go(a){var u=-1,h=null==a?0:a.length;for(this.__data__=new Fi;++u<h;)this.add(a[u])}function zr(a){var u=this.__data__=new Ts(a);this.size=u.size}function fd(a,u){var h=Je(a),p=!h&&Hs(a),m=!h&&!p&&Us(a),b=!h&&!p&&!m&&ds(a),S=h||p||m||b,T=S?oo(a.length,YE):[],O=T.length;for(var Q in a)(u||Lt.call(a,Q))&&(!S||!("length"==Q||m&&("offset"==Q||"parent"==Q)||b&&("buffer"==Q||"byteLength"==Q||"byteOffset"==Q)||fi(Q,O)))&&T.push(Q);return T}function pd(a){var u=a.length;return u?a[vo(0,u-1)]:v}function wp(a,u){return kd(_r(a),mo(u,0,a.length))}function fu(a){return kd(_r(a))}function gd(a,u,h){(h!==v&&!xr(a[u],h)||h===v&&!(u in a))&&is(a,u,h)}function Ya(a,u,h){var p=a[u];(!Lt.call(a,u)||!xr(p,h)||h===v&&!(u in a))&&is(a,u,h)}function Tn(a,u){for(var h=a.length;h--;)if(xr(a[h][0],u))return h;return-1}function Ms(a,u,h,p){return ki(a,function(m,b,S){u(p,m,h(m),S)}),p}function rn(a,u){return a&&Vi(u,yn(u),a)}function is(a,u,h){"__proto__"==u&&zo?zo(a,u,{configurable:!0,enumerable:!0,value:h,writable:!0}):a[u]=h}function pu(a,u){for(var h=-1,p=u.length,m=j(p),b=null==a;++h<p;)m[h]=b?v:qu(a,u[h]);return m}function mo(a,u,h){return a==a&&(h!==v&&(a=a<=h?a:h),u!==v&&(a=a>=u?a:u)),a}function qr(a,u,h,p,m,b){var S,T=1&u,O=2&u,Q=4&u;if(h&&(S=m?h(a,p,m,b):h(a)),S!==v)return S;if(!we(a))return a;var X=Je(a);if(X){if(S=function ca(a){var u=a.length,h=new a.constructor(u);return u&&"string"==typeof a[0]&&Lt.call(a,"index")&&(h.index=a.index,h.input=a.input),h}(a),!T)return _r(a,S)}else{var re=Gn(a),ce=re==Bo||re==Rc;if(Us(a))return Lp(a,T);if(re==Ai||re==ve||ce&&!m){if(S=O||ce?{}:qp(a),!T)return O?function Yv(a,u){return Vi(a,zp(a),u)}(a,function Xa(a,u){return a&&Vi(u,yr(u),a)}(S,a)):function Zv(a,u){return Vi(a,Gp(a),u)}(a,rn(S,a))}else{if(!Ut[re])return m?a:{};S=function ry(a,u,h){var p=a.constructor;switch(u){case zl:return Md(a);case ct:case dr:return new p(+a);case Ho:return function rw(a,u){var h=u?Md(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.byteLength)}(a,h);case Ff:case Fc:case kf:case Nf:case Lf:case Bf:case ql:case Ql:case Zl:return mr(a,h);case _t:return new p;case Vo:case Gl:return new p(a);case Sr:return function iw(a){var u=new a.constructor(a.source,Vc.exec(a));return u.lastIndex=a.lastIndex,u}(a);case tr:return new p;case Oc:return function Bp(a){return uu?Gt(uu.call(a)):{}}(a)}}(a,re,T)}}b||(b=new zr);var De=b.get(a);if(De)return De;b.set(a,S),uh(a)?a.forEach(function(Oe){S.add(qr(Oe,u,h,Oe,a,b))}):ah(a)&&a.forEach(function(Oe,ht){S.set(ht,qr(Oe,u,h,ht,a,b))});var at=X?v:(Q?O?xu:ua:O?yr:yn)(a);return Fn(at||a,function(Oe,ht){at&&(Oe=a[ht=Oe]),Ya(S,ht,qr(Oe,u,h,ht,a,b))}),S}function Ja(a,u,h){var p=h.length;if(null==a)return!p;for(a=Gt(a);p--;){var m=h[p],S=a[m];if(S===v&&!(m in a)||!(0,u[m])(S))return!1}return!0}function el(a,u,h){if("function"!=typeof a)throw new ui(V);return dl(function(){a.apply(v,h)},u)}function Is(a,u,h,p){var m=-1,b=jo,S=!0,T=a.length,O=[],Q=u.length;if(!T)return O;h&&(u=Dt(u,Nt(h))),p?(b=nu,S=!1):u.length>=200&&(b=$n,S=!1,u=new go(u));e:for(;++m<T;){var X=a[m],re=null==h?X:h(X);if(X=p||0!==X?X:0,S&&re==re){for(var ce=Q;ce--;)if(u[ce]===re)continue e;O.push(X)}else b(u,re,p)||O.push(X)}return O}y.templateSettings={escape:Vr,evaluate:ov,interpolate:$f,variable:"",imports:{_:y}},(y.prototype=Qa.prototype).constructor=y,(Gr.prototype=Zo(Qa.prototype)).constructor=Gr,(gt.prototype=Zo(Qa.prototype)).constructor=gt,Zt.prototype.clear=function yp(){this.__data__=Ri?Ri(null):{},this.size=0},Zt.prototype.delete=function Za(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u},Zt.prototype.get=function Oi(a){var u=this.__data__;if(Ri){var h=u[a];return h===K?v:h}return Lt.call(u,a)?u[a]:v},Zt.prototype.has=function ld(a){var u=this.__data__;return Ri?u[a]!==v:Lt.call(u,a)},Zt.prototype.set=function ud(a,u){var h=this.__data__;return this.size+=this.has(a)?0:1,h[a]=Ri&&u===v?K:u,this},Ts.prototype.clear=function Lv(){this.__data__=[],this.size=0},Ts.prototype.delete=function cu(a){var u=this.__data__,h=Tn(u,a);return!(h<0||(h==u.length-1?u.pop():ou.call(u,h,1),--this.size,0))},Ts.prototype.get=function du(a){var u=this.__data__,h=Tn(u,a);return h<0?v:u[h][1]},Ts.prototype.has=function or(a){return Tn(this.__data__,a)>-1},Ts.prototype.set=function ns(a,u){var h=this.__data__,p=Tn(h,a);return p<0?(++this.size,h.push([a,u])):h[p][1]=u,this},Fi.prototype.clear=function Yo(){this.size=0,this.__data__={hash:new Zt,map:new(As||Ts),string:new Zt}},Fi.prototype.delete=function rs(a){var u=Ou(this,a).delete(a);return this.size-=u?1:0,u},Fi.prototype.get=function Bv(a){return Ou(this,a).get(a)},Fi.prototype.has=function bp(a){return Ou(this,a).has(a)},Fi.prototype.set=function Vv(a,u){var h=Ou(this,a),p=h.size;return h.set(a,u),this.size+=h.size==p?0:1,this},go.prototype.add=go.prototype.push=function cd(a){return this.__data__.set(a,K),this},go.prototype.has=function dd(a){return this.__data__.has(a)},zr.prototype.clear=function hd(){this.__data__=new Ts,this.size=0},zr.prototype.delete=function Hv(a){var u=this.__data__,h=u.delete(a);return this.size=u.size,h},zr.prototype.get=function Cp(a){return this.__data__.get(a)},zr.prototype.has=function hu(a){return this.__data__.has(a)},zr.prototype.set=function Ep(a,u){var h=this.__data__;if(h instanceof Ts){var p=h.__data__;if(!As||p.length<199)return p.push([a,u]),this.size=++h.size,this;h=this.__data__=new Fi(p)}return h.set(a,u),this.size=h.size,this};var ki=Pu(Ni),md=Pu(_d,!0);function jv(a,u){var h=!0;return ki(a,function(p,m,b){return h=!!u(p,m,b)}),h}function ci(a,u,h){for(var p=-1,m=a.length;++p<m;){var b=a[p],S=u(b);if(null!=S&&(T===v?S==S&&!Qn(S):h(S,T)))var T=S,O=b}return O}function Dp(a,u){var h=[];return ki(a,function(p,m,b){u(p,m,b)&&h.push(p)}),h}function Ln(a,u,h,p,m){var b=-1,S=a.length;for(h||(h=Nu),m||(m=[]);++b<S;){var T=a[b];u>0&&h(T)?u>1?Ln(T,u-1,h,p,m):Wr(m,T):p||(m[m.length]=T)}return m}var _o=sl(),gu=sl(!0);function Ni(a,u){return a&&_o(a,u,yn)}function _d(a,u){return a&&gu(a,u,yn)}function vd(a,u){return Ti(u,function(h){return us(a[h])})}function Xo(a,u){for(var h=0,p=(u=ss(u,a)).length;null!=a&&h<p;)a=a[Mr(u[h++])];return h&&h==p?a:v}function nl(a,u,h){var p=u(a);return Je(a)?p:Wr(p,h(a))}function Kn(a){return null==a?a===v?"[object Undefined]":"[object Null]":ho&&ho in Gt(a)?function ty(a){var u=Lt.call(a,ho),h=a[ho];try{a[ho]=v;var p=!0}catch(b){}var m=Xc.call(a);return p&&(u?a[ho]=h:delete a[ho]),m}(a):function aw(a){return Xc.call(a)}(a)}function rl(a,u){return a>u}function mu(a,u){return null!=a&&Lt.call(a,u)}function Sp(a,u){return null!=a&&u in Gt(a)}function xs(a,u,h){for(var p=h?nu:jo,m=a[0].length,b=a.length,S=b,T=j(b),O=1/0,Q=[];S--;){var X=a[S];S&&u&&(X=Dt(X,Nt(u))),O=dt(X.length,O),T[S]=!h&&(u||m>=120&&X.length>=120)?new go(S&&X):v}X=a[0];var re=-1,ce=T[0];e:for(;++re<m&&Q.length<O;){var De=X[re],Re=u?u(De):De;if(De=h||0!==De?De:0,!(ce?$n(ce,Re):p(Q,Re,h))){for(S=b;--S;){var at=T[S];if(!(at?$n(at,Re):p(a[S],Re,h)))continue e}ce&&ce.push(Re),Q.push(De)}}return Q}function Li(a,u,h){var p=null==(a=ly(a,u=ss(u,a)))?a:a[Mr(In(u))];return null==p?v:$r(p,a,h)}function _u(a){return sn(a)&&Kn(a)==ve}function Jo(a,u,h,p,m){return a===u||(null==a||null==u||!sn(a)&&!sn(u)?a!=a&&u!=u:function Pp(a,u,h,p,m,b){var S=Je(a),T=Je(u),O=S?st:Gn(a),Q=T?st:Gn(u),X=(O=O==ve?Ai:O)==Ai,re=(Q=Q==ve?Ai:Q)==Ai,ce=O==Q;if(ce&&Us(a)){if(!Us(u))return!1;S=!0,X=!1}if(ce&&!X)return b||(b=new zr),S||ds(a)?la(a,u,h,p,m,b):function ey(a,u,h,p,m,b,S){switch(h){case Ho:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case zl:return!(a.byteLength!=u.byteLength||!b(new xi(a),new xi(u)));case ct:case dr:case Vo:return xr(+a,+u);case Ji:return a.name==u.name&&a.message==u.message;case Sr:case Gl:return a==u+"";case _t:var T=Xe;case tr:if(T||(T=Wo),a.size!=u.size&&!(1&p))return!1;var Q=S.get(a);if(Q)return Q==u;p|=2,S.set(a,u);var X=la(T(a),T(u),p,m,b,S);return S.delete(a),X;case Oc:if(uu)return uu.call(a)==uu.call(u)}return!1}(a,u,O,h,p,m,b);if(!(1&h)){var De=X&&Lt.call(a,"__wrapped__"),Re=re&&Lt.call(u,"__wrapped__");if(De||Re){var at=De?a.value():a,Oe=Re?u.value():u;return b||(b=new zr),m(at,Oe,h,p,b)}}return!!ce&&(b||(b=new zr),function Wp(a,u,h,p,m,b){var S=1&h,T=ua(a),O=T.length;if(O!=ua(u).length&&!S)return!1;for(var re=O;re--;){var ce=T[re];if(!(S?ce in u:Lt.call(u,ce)))return!1}var De=b.get(a),Re=b.get(u);if(De&&Re)return De==u&&Re==a;var at=!0;b.set(a,u),b.set(u,a);for(var Oe=S;++re<O;){var ht=a[ce=T[re]],vt=u[ce];if(p)var ei=S?p(vt,ht,ce,u,a,b):p(ht,vt,ce,a,u,b);if(!(ei===v?ht===vt||m(ht,vt,h,p,b):ei)){at=!1;break}Oe||(Oe="constructor"==ce)}if(at&&!Oe){var br=a.constructor,lr=u.constructor;br!=lr&&"constructor"in a&&"constructor"in u&&!("function"==typeof br&&br instanceof br&&"function"==typeof lr&&lr instanceof lr)&&(at=!1)}return b.delete(a),b.delete(u),at}(a,u,h,p,m,b))}(a,u,h,p,Jo,m))}function yd(a,u,h,p){var m=h.length,b=m,S=!p;if(null==a)return!b;for(a=Gt(a);m--;){var T=h[m];if(S&&T[2]?T[1]!==a[T[0]]:!(T[0]in a))return!1}for(;++m<b;){var O=(T=h[m])[0],Q=a[O],X=T[1];if(S&&T[2]){if(Q===v&&!(O in a))return!1}else{var re=new zr;if(p)var ce=p(Q,X,O,a,u,re);if(!(ce===v?Jo(X,Q,3,p,re):ce))return!1}}return!0}function ea(a){return!(!we(a)||function iy(a){return!!Iv&&Iv in a}(a))&&(us(a)?ew:Gf).test(Bs(a))}function il(a){return"function"==typeof a?a:null==a?Bn:"object"==typeof a?Je(a)?Mp(a[0],a[1]):Dd(a):xh(a)}function Ed(a){if(!ul(a))return sd(a);var u=[];for(var h in Gt(a))Lt.call(a,h)&&"constructor"!=h&&u.push(h);return u}function bu(a,u){return a<u}function wd(a,u){var h=-1,p=vr(a)?j(a.length):[];return ki(a,function(m,b,S){p[++h]=u(m,b,S)}),p}function Dd(a){var u=Kp(a);return 1==u.length&&u[0][2]?Yp(u[0][0],u[0][1]):function(h){return h===a||yd(h,a,u)}}function Mp(a,u){return Lu(a)&&Zp(u)?Yp(Mr(a),u):function(h){var p=qu(h,a);return p===v&&p===u?Qu(h,a):Jo(u,p,3)}}function Cu(a,u,h,p,m){a!==u&&_o(u,function(b,S){if(m||(m=new zr),we(b))!function Eu(a,u,h,p,m,b,S){var T=Xp(a,h),O=Xp(u,h),Q=S.get(O);if(Q)gd(a,h,Q);else{var X=b?b(T,O,h+"",a,u,S):v,re=X===v;if(re){var ce=Je(O),De=!ce&&Us(O),Re=!ce&&!De&&ds(O);X=O,ce||De||Re?Je(T)?X=T:cn(T)?X=_r(T):De?(re=!1,X=Lp(O,!0)):Re?(re=!1,X=mr(O,!0)):X=[]:pa(O)||Hs(O)?(X=T,Hs(T)?X=Vg(T):(!we(T)||us(T))&&(X=qp(O))):re=!1}re&&(S.set(O,X),m(X,O,p,b,S),S.delete(O)),gd(a,h,X)}}(a,u,S,h,Cu,p,m);else{var T=p?p(Xp(a,S),b,S+"",a,u,m):v;T===v&&(T=b),gd(a,S,T)}},yr)}function ta(a,u){var h=a.length;if(h)return fi(u+=u<0?h:0,h)?a[u]:v}function Ip(a,u,h){u=u.length?Dt(u,function(b){return Je(b)?function(S){return Xo(S,1===b.length?b[0]:b)}:b}):[Bn];var p=-1;return u=Dt(u,Nt(Ie())),function iu(x,$){var j=x.length;for(x.sort($);j--;)x[j]=x[j].value;return x}(wd(a,function(b,S,T){return{criteria:Dt(u,function(Q){return Q(b)}),index:++p,value:b}}),function(b,S){return function oa(a,u,h){for(var p=-1,m=a.criteria,b=u.criteria,S=m.length,T=h.length;++p<S;){var O=Su(m[p],b[p]);if(O)return p>=T?O:O*("desc"==h[p]?-1:1)}return a.index-u.index}(b,S,h)})}function Sd(a,u,h){for(var p=-1,m=u.length,b={};++p<m;){var S=u[p],T=Xo(a,S);h(T,S)&&Bi(b,ss(S,a),T)}return b}function Mn(a,u,h,p){var m=p?ke:so,b=-1,S=u.length,T=a;for(a===u&&(u=_r(u)),h&&(T=Dt(a,Nt(h)));++b<S;)for(var O=0,Q=u[b],X=h?h(Q):Q;(O=m(T,X,O,p))>-1;)T!==a&&ou.call(T,O,1),ou.call(a,O,1);return a}function wu(a,u){for(var h=a?u.length:0,p=h-1;h--;){var m=u[h];if(h==p||m!==b){var b=m;fi(m)?ou.call(a,m,1):Fp(a,m)}}return a}function vo(a,u){return a+qo(un()*(u-a+1))}function Rs(a,u){var h="";if(!a||u<1||u>pt)return h;do{u%2&&(h+=a),(u=qo(u/2))&&(a+=a)}while(u);return h}function qe(a,u){return Fd(ay(a,u,Bn),a+"")}function Rp(a){return pd(fs(a))}function Ad(a,u){var h=fs(a);return kd(h,mo(u,0,h.length))}function Bi(a,u,h,p){if(!we(a))return a;for(var m=-1,b=(u=ss(u,a)).length,S=b-1,T=a;null!=T&&++m<b;){var O=Mr(u[m]),Q=h;if("__proto__"===O||"constructor"===O||"prototype"===O)return a;if(m!=S){var X=T[O];(Q=p?p(X,O,T):v)===v&&(Q=we(X)?X:fi(u[m+1])?[]:{})}Ya(T,O,Q),T=T[O]}return a}var Kv=Wn?function(a,u){return Wn.set(a,u),a}:Bn,Gv=zo?function(a,u){return zo(a,"toString",{configurable:!0,enumerable:!1,value:Ah(u),writable:!0})}:Bn;function xe(a){return kd(fs(a))}function Qr(a,u,h){var p=-1,m=a.length;u<0&&(u=-u>m?0:m+u),(h=h>m?m:h)<0&&(h+=m),m=u>h?0:h-u>>>0,u>>>=0;for(var b=j(m);++p<m;)b[p]=a[p+u];return b}function nw(a,u){var h;return ki(a,function(p,m,b){return!(h=u(p,m,b))}),!!h}function Pd(a,u,h){var p=0,m=null==a?p:a.length;if("number"==typeof u&&u==u&&m<=2147483647){for(;p<m;){var b=p+m>>>1,S=a[b];null!==S&&!Qn(S)&&(h?S<=u:S<u)?p=b+1:m=b}return m}return Op(a,u,Bn,h)}function Op(a,u,h,p){var m=0,b=null==a?0:a.length;if(0===b)return 0;for(var S=(u=h(u))!=u,T=null===u,O=Qn(u),Q=u===v;m<b;){var X=qo((m+b)/2),re=h(a[X]),ce=re!==v,De=null===re,Re=re==re,at=Qn(re);if(S)var Oe=p||Re;else Oe=Q?Re&&(p||ce):T?Re&&ce&&(p||!De):O?Re&&ce&&!De&&(p||!at):!De&&!at&&(p?re<=u:re<u);Oe?m=X+1:b=X}return dt(b,4294967294)}function zv(a,u){for(var h=-1,p=a.length,m=0,b=[];++h<p;){var S=a[h],T=u?u(S):S;if(!h||!xr(T,O)){var O=T;b[m++]=0===S?0:S}}return b}function qv(a){return"number"==typeof a?a:Qn(a)?NaN:+a}function Zr(a){if("string"==typeof a)return a;if(Je(a))return Dt(a,Zr)+"";if(Qn(a))return vp?vp.call(a):"";var u=a+"";return"0"==u&&1/a==-Ae?"-0":u}function Yr(a,u,h){var p=-1,m=jo,b=a.length,S=!0,T=[],O=T;if(h)S=!1,m=nu;else if(b>=200){var Q=u?null:Jv(a);if(Q)return Wo(Q);S=!1,m=$n,O=new go}else O=u?[]:T;e:for(;++p<b;){var X=a[p],re=u?u(X):X;if(X=h||0!==X?X:0,S&&re==re){for(var ce=O.length;ce--;)if(O[ce]===re)continue e;u&&O.push(re),T.push(X)}else m(O,re,h)||(O!==T&&O.push(re),T.push(X))}return T}function Fp(a,u){return null==(a=ly(a,u=ss(u,a)))||delete a[Mr(In(u))]}function gn(a,u,h,p){return Bi(a,u,h(Xo(a,u)),p)}function ia(a,u,h,p){for(var m=a.length,b=p?m:-1;(p?b--:++b<m)&&u(a[b],b,a););return h?Qr(a,p?0:b,p?b+1:m):Qr(a,p?b+1:0,p?m:b)}function sa(a,u){var h=a;return h instanceof gt&&(h=h.value()),Kc(u,function(p,m){return m.func.apply(m.thisArg,Wr([p],m.args))},h)}function kp(a,u,h){var p=a.length;if(p<2)return p?Yr(a[0]):[];for(var m=-1,b=j(p);++m<p;)for(var S=a[m],T=-1;++T<p;)T!=m&&(b[m]=Is(b[m]||S,a[T],u,h));return Yr(Ln(b,1),u,h)}function Np(a,u,h){for(var p=-1,m=a.length,b=u.length,S={};++p<m;)h(S,a[p],p<b?u[p]:v);return S}function gr(a){return cn(a)?a:[]}function Xr(a){return"function"==typeof a?a:Bn}function ss(a,u){return Je(a)?a:Lu(a,u)?[a]:tg(Tt(a))}var Du=qe;function Jr(a,u,h){var p=a.length;return h=h===v?p:h,!u&&h>=p?a:Qr(a,u,h)}var Td=xv||function(a){return Dn.clearTimeout(a)};function Lp(a,u){if(u)return a.slice();var h=a.length,p=fp?fp(h):new a.constructor(h);return a.copy(p),p}function Md(a){var u=new a.constructor(a.byteLength);return new xi(u).set(new xi(a)),u}function mr(a,u){var h=u?Md(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.length)}function Su(a,u){if(a!==u){var h=a!==v,p=null===a,m=a==a,b=Qn(a),S=u!==v,T=null===u,O=u==u,Q=Qn(u);if(!T&&!Q&&!b&&a>u||b&&S&&O&&!T&&!Q||p&&S&&O||!h&&O||!m)return 1;if(!p&&!b&&!Q&&a<u||Q&&h&&m&&!p&&!b||T&&h&&m||!S&&m||!O)return-1}return 0}function Qv(a,u,h,p){for(var m=-1,b=a.length,S=h.length,T=-1,O=u.length,Q=Pn(b-S,0),X=j(O+Q),re=!p;++T<O;)X[T]=u[T];for(;++m<S;)(re||m<b)&&(X[h[m]]=a[m]);for(;Q--;)X[T++]=a[m++];return X}function Id(a,u,h,p){for(var m=-1,b=a.length,S=-1,T=h.length,O=-1,Q=u.length,X=Pn(b-T,0),re=j(X+Q),ce=!p;++m<X;)re[m]=a[m];for(var De=m;++O<Q;)re[De+O]=u[O];for(;++S<T;)(ce||m<b)&&(re[De+h[S]]=a[m++]);return re}function _r(a,u){var h=-1,p=a.length;for(u||(u=j(p));++h<p;)u[h]=a[h];return u}function Vi(a,u,h,p){var m=!h;h||(h={});for(var b=-1,S=u.length;++b<S;){var T=u[b],O=p?p(h[T],a[T],T,h,a):v;O===v&&(O=a[T]),m?is(h,T,O):Ya(h,T,O)}return h}function Au(a,u){return function(h,p){var m=Je(h)?ZE:Ms,b=u?u():{};return m(h,a,Ie(p,2),b)}}function yo(a){return qe(function(u,h){var p=-1,m=h.length,b=m>1?h[m-1]:v,S=m>2?h[2]:v;for(b=a.length>3&&"function"==typeof b?(m--,b):v,S&&zn(h[0],h[1],S)&&(b=m<3?v:b,m=1),u=Gt(u);++p<m;){var T=h[p];T&&a(u,T,p,b)}return u})}function Pu(a,u){return function(h,p){if(null==h)return h;if(!vr(h))return a(h,p);for(var m=h.length,b=u?m:-1,S=Gt(h);(u?b--:++b<m)&&!1!==p(S[b],b,S););return h}}function sl(a){return function(u,h,p){for(var m=-1,b=Gt(u),S=p(u),T=S.length;T--;){var O=S[a?T:++m];if(!1===h(b[O],O,b))break}return u}}function aa(a){return function(u){var h=Kt(u=Tt(u))?ln(u):v,p=h?h[0]:u.charAt(0),m=h?Jr(h,1).join(""):u.slice(1);return p[a]()+m}}function Os(a){return function(u){return Kc(rm(Eh(u).replace(zE,"")),a,"")}}function Fs(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var h=Zo(a.prototype),p=a.apply(h,u);return we(p)?p:h}}function Vp(a){return function(u,h,p){var m=Gt(u);if(!vr(u)){var b=Ie(h,3);u=yn(u),h=function(T){return b(m[T],T,m)}}var S=a(u,h,p);return S>-1?m[b?u[S]:S]:v}}function Hp(a){return di(function(u){var h=u.length,p=h,m=Gr.prototype.thru;for(a&&u.reverse();p--;){var b=u[p];if("function"!=typeof b)throw new ui(V);if(m&&!S&&"wrapper"==Ru(b))var S=new Gr([],!0)}for(p=S?p:h;++p<h;){var T=Ru(b=u[p]),O="wrapper"==T?Rd(b):v;S=O&&Bu(O[0])&&424==O[1]&&!O[4].length&&1==O[9]?S[Ru(O[0])].apply(S,O[3]):1==b.length&&Bu(b)?S[T]():S.thru(b)}return function(){var Q=arguments,X=Q[0];if(S&&1==Q.length&&Je(X))return S.plant(X).value();for(var re=0,ce=h?u[re].apply(this,Q):X;++re<h;)ce=u[re].call(this,ce);return ce}})}function ol(a,u,h,p,m,b,S,T,O,Q){var X=128&u,re=1&u,ce=2&u,De=24&u,Re=512&u,at=ce?v:Fs(a);return function Oe(){for(var ht=arguments.length,vt=j(ht),ei=ht;ei--;)vt[ei]=arguments[ei];if(De)var br=hi(Oe),lr=Xt(vt,br);if(p&&(vt=Qv(vt,p,m,De)),b&&(vt=Id(vt,b,S,De)),ht-=lr,De&&ht<Q){var dn=Tr(vt,br);return Iu(a,u,ol,Oe.placeholder,h,vt,dn,T,O,Q-ht)}var ti=re?h:this,$i=ce?ti[a]:a;return ht=vt.length,T?vt=lw(vt,T):Re&&ht>1&&vt.reverse(),X&&O<ht&&(vt.length=O),this&&this!==Dn&&this instanceof Oe&&($i=at||Fs($i)),$i.apply(ti,vt)}}function Up(a,u){return function(h,p){return function $v(a,u,h,p){return Ni(a,function(m,b,S){u(p,h(m),b,S)}),p}(h,a,u(p),{})}}function ks(a,u){return function(h,p){var m;if(h===v&&p===v)return u;if(h!==v&&(m=h),p!==v){if(m===v)return p;"string"==typeof h||"string"==typeof p?(h=Zr(h),p=Zr(p)):(h=qv(h),p=qv(p)),m=a(h,p)}return m}}function Tu(a){return di(function(u){return u=Dt(u,Nt(Ie())),qe(function(h){var p=this;return a(u,function(m){return $r(m,p,h)})})})}function Mu(a,u){var h=(u=u===v?" ":Zr(u)).length;if(h<2)return h?Rs(u,a):u;var p=Rs(u,au(a/ai(u)));return Kt(u)?Jr(ln(p),0,a).join(""):p.slice(0,a)}function xd(a){return function(u,h,p){return p&&"number"!=typeof p&&zn(u,h,p)&&(h=p=v),u=hs(u),h===v?(h=u,u=0):h=hs(h),function ra(a,u,h,p){for(var m=-1,b=Pn(au((u-a)/(h||1)),0),S=j(b);b--;)S[p?b:++m]=a,a+=h;return S}(u,h,p=p===v?u<h?1:-1:hs(p),a)}}function al(a){return function(u,h){return"string"==typeof u&&"string"==typeof h||(u=mi(u),h=mi(h)),a(u,h)}}function Iu(a,u,h,p,m,b,S,T,O,Q){var X=8&u;u|=X?32:64,4&(u&=~(X?64:32))||(u&=-4);var at=[a,u,m,X?b:v,X?S:v,X?v:b,X?v:S,T,O,Q],Oe=h.apply(v,at);return Bu(a)&&Od(Oe,at),Oe.placeholder=p,Jp(Oe,a,u)}function bo(a){var u=An[a];return function(h,p){if(h=mi(h),(p=null==p?0:dt(rt(p),292))&&lu(h)){var m=(Tt(h)+"e").split("e");return+((m=(Tt(u(m[0]+"e"+(+m[1]+p)))+"e").split("e"))[0]+"e"+(+m[1]-p))}return u(h)}}var Jv=Qo&&1/Wo(new Qo([,-0]))[1]==Ae?function(a){return new Qo(a)}:wl;function jp(a){return function(u){var h=Gn(u);return h==_t?Xe(u):h==tr?function Ko(x){var $=-1,j=Array(x.size);return x.forEach(function(_e){j[++$]=[_e,_e]}),j}(u):function su(x,$){return Dt($,function(j){return[j,x[j]]})}(u,a(u))}}function os(a,u,h,p,m,b,S,T){var O=2&u;if(!O&&"function"!=typeof a)throw new ui(V);var Q=p?p.length:0;if(Q||(u&=-97,p=m=v),S=S===v?S:Pn(rt(S),0),T=T===v?T:rt(T),Q-=m?m.length:0,64&u){var X=p,re=m;p=m=v}var ce=O?v:Rd(a),De=[a,u,h,p,m,X,re,b,S,T];if(ce&&function cl(a,u){var h=a[1],p=u[1],m=h|p;if(!(m<131||(128==p&&8==h||128==p&&256==h&&a[7].length<=u[8]||384==p&&u[7].length<=u[8]&&8==h)))return a;1&p&&(a[2]=u[2],m|=1&h?0:4);var T=u[3];if(T){var O=a[3];a[3]=O?Qv(O,T,u[4]):T,a[4]=O?Tr(a[3],P):u[4]}(T=u[5])&&(a[5]=(O=a[5])?Id(O,T,u[6]):T,a[6]=O?Tr(a[5],P):u[6]),(T=u[7])&&(a[7]=T),128&p&&(a[8]=null==a[8]?u[8]:dt(a[8],u[8])),null==a[9]&&(a[9]=u[9]),a[0]=u[0],a[1]=m}(De,ce),a=De[0],u=De[1],h=De[2],p=De[3],m=De[4],!(T=De[9]=De[9]===v?O?0:a.length:Pn(De[9]-Q,0))&&24&u&&(u&=-25),u&&1!=u)Re=8==u||16==u?function Xv(a,u,h){var p=Fs(a);return function m(){for(var b=arguments.length,S=j(b),T=b,O=hi(m);T--;)S[T]=arguments[T];var Q=b<3&&S[0]!==O&&S[b-1]!==O?[]:Tr(S,O);return(b-=Q.length)<h?Iu(a,u,ol,m.placeholder,v,S,Q,v,v,h-b):$r(this&&this!==Dn&&this instanceof m?p:a,this,S)}}(a,u,T):32!=u&&33!=u||m.length?ol.apply(v,De):function me(a,u,h,p){var m=1&u,b=Fs(a);return function S(){for(var T=-1,O=arguments.length,Q=-1,X=p.length,re=j(X+O),ce=this&&this!==Dn&&this instanceof S?b:a;++Q<X;)re[Q]=p[Q];for(;O--;)re[Q++]=arguments[++T];return $r(ce,m?h:this,re)}}(a,u,h,p);else var Re=function sw(a,u,h){var p=1&u,m=Fs(a);return function b(){return(this&&this!==Dn&&this instanceof b?m:a).apply(p?h:this,arguments)}}(a,u,h);return Jp((ce?Kv:Od)(Re,De),a,u)}function ll(a,u,h,p){return a===v||xr(a,qa[h])&&!Lt.call(p,h)?u:a}function as(a,u,h,p,m,b){return we(a)&&we(u)&&(b.set(u,a),Cu(a,u,v,as,b),b.delete(u)),a}function $p(a){return pa(a)?v:a}function la(a,u,h,p,m,b){var S=1&h,T=a.length,O=u.length;if(T!=O&&!(S&&O>T))return!1;var Q=b.get(a),X=b.get(u);if(Q&&X)return Q==u&&X==a;var re=-1,ce=!0,De=2&h?new go:v;for(b.set(a,u),b.set(u,a);++re<T;){var Re=a[re],at=u[re];if(p)var Oe=S?p(at,Re,re,u,a,b):p(Re,at,re,a,u,b);if(Oe!==v){if(Oe)continue;ce=!1;break}if(De){if(!Gc(u,function(ht,vt){if(!$n(De,vt)&&(Re===ht||m(Re,ht,h,p,b)))return De.push(vt)})){ce=!1;break}}else if(Re!==at&&!m(Re,at,h,p,b)){ce=!1;break}}return b.delete(a),b.delete(u),ce}function di(a){return Fd(ay(a,v,og),a+"")}function ua(a){return nl(a,yn,Gp)}function xu(a){return nl(a,yr,zp)}var Rd=Wn?function(a){return Wn.get(a)}:wl;function Ru(a){for(var u=a.name+"",h=po[u],p=Lt.call(po,u)?h.length:0;p--;){var m=h[p],b=m.func;if(null==b||b==a)return m.name}return u}function hi(a){return(Lt.call(y,"placeholder")?y:a).placeholder}function Ie(){var a=y.iteratee||El;return a=a===El?il:a,arguments.length?a(arguments[0],arguments[1]):a}function Ou(a,u){var h=a.__data__;return function Qp(a){var u=typeof a;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==a:null===a}(u)?h["string"==typeof u?"string":"hash"]:h.map}function Kp(a){for(var u=yn(a),h=u.length;h--;){var p=u[h],m=a[p];u[h]=[p,m,Zp(m)]}return u}function Ns(a,u){var h=function lo(x,$){return null==x?v:x[$]}(a,u);return ea(h)?h:v}var Gp=id?function(a){return null==a?[]:(a=Gt(a),Ti(id(a),function(u){return pp.call(a,u)}))}:ya,zp=id?function(a){for(var u=[];a;)Wr(u,Gp(a)),a=Nn(a);return u}:ya,Gn=Kn;function ku(a,u,h){for(var p=-1,m=(u=ss(u,a)).length,b=!1;++p<m;){var S=Mr(u[p]);if(!(b=null!=a&&h(a,S)))break;a=a[S]}return b||++p!=m?b:!!(m=null==a?0:a.length)&&Ue(m)&&fi(S,m)&&(Je(a)||Hs(a))}function qp(a){return"function"!=typeof a.constructor||ul(a)?{}:Zo(Nn(a))}function Nu(a){return Je(a)||Hs(a)||!!(nd&&a&&a[nd])}function fi(a,u){var h=typeof a;return!!(u=null==u?pt:u)&&("number"==h||"symbol"!=h&&fv.test(a))&&a>-1&&a%1==0&&a<u}function zn(a,u,h){if(!we(h))return!1;var p=typeof u;return!!("number"==p?vr(h)&&fi(u,h.length):"string"==p&&u in h)&&xr(h[u],a)}function Lu(a,u){if(Je(a))return!1;var h=typeof a;return!("number"!=h&&"symbol"!=h&&"boolean"!=h&&null!=a&&!Qn(a))||lv.test(a)||!av.test(a)||null!=u&&a in Gt(u)}function Bu(a){var u=Ru(a),h=y[u];if("function"!=typeof h||!(u in gt.prototype))return!1;if(a===h)return!0;var p=Rd(h);return!!p&&a===p[0]}(mp&&Gn(new mp(new ArrayBuffer(1)))!=Ho||As&&Gn(new As)!=_t||pr&&Gn(pr.resolve())!=Rt||Qo&&Gn(new Qo)!=tr||fo&&Gn(new fo)!=ii)&&(Gn=function(a){var u=Kn(a),h=u==Ai?a.constructor:v,p=h?Bs(h):"";if(p)switch(p){case od:return Ho;case Nv:return _t;case Ps:return Rt;case _p:return tr;case ad:return ii}return u});var sy=Zc?us:Rh;function ul(a){var u=a&&a.constructor;return a===("function"==typeof u&&u.prototype||qa)}function Zp(a){return a==a&&!we(a)}function Yp(a,u){return function(h){return null!=h&&h[a]===u&&(u!==v||a in Gt(h))}}function ay(a,u,h){return u=Pn(u===v?a.length-1:u,0),function(){for(var p=arguments,m=-1,b=Pn(p.length-u,0),S=j(b);++m<b;)S[m]=p[u+m];m=-1;for(var T=j(u+1);++m<u;)T[m]=p[m];return T[u]=h(S),$r(a,this,T)}}function ly(a,u){return u.length<2?a:Xo(a,Qr(u,0,-1))}function lw(a,u){for(var h=a.length,p=dt(u.length,h),m=_r(a);p--;){var b=u[p];a[p]=fi(b,h)?m[b]:v}return a}function Xp(a,u){if(("constructor"!==u||"function"!=typeof a[u])&&"__proto__"!=u)return a[u]}var Od=eg(Kv),dl=rd||function(a,u){return Dn.setTimeout(a,u)},Fd=eg(Gv);function Jp(a,u,h){var p=u+"";return Fd(a,function ow(a,u){var h=u.length;if(!h)return a;var p=h-1;return u[p]=(h>1?"& ":"")+u[p],u=u.join(h>2?", ":" "),a.replace(En,"{\n/* [wrapped with "+u+"] */\n")}(p,function Hi(a,u){return Fn(Lo,function(h){var p="_."+h[0];u&h[1]&&!jo(a,p)&&a.push(p)}),a.sort()}(function Fu(a){var u=a.match(Va);return u?u[1].split(es):[]}(p),h)))}function eg(a){var u=0,h=0;return function(){var p=gp(),m=16-(p-h);if(h=p,m>0){if(++u>=800)return arguments[0]}else u=0;return a.apply(v,arguments)}}function kd(a,u){var h=-1,p=a.length,m=p-1;for(u=u===v?p:u;++h<u;){var b=vo(h,m),S=a[b];a[b]=a[h],a[h]=S}return a.length=u,a}var tg=function Ls(a){var u=ju(a,function(p){return 500===h.size&&h.clear(),p}),h=u.cache;return u}(function(a){var u=[];return 46===a.charCodeAt(0)&&u.push(""),a.replace(Wf,function(h,p,m,b){u.push(m?b.replace(Kf,"$1"):p||h)}),u});function Mr(a){if("string"==typeof a||Qn(a))return a;var u=a+"";return"0"==u&&1/a==-Ae?"-0":u}function Bs(a){if(null!=a){try{return Yc.call(a)}catch(u){}try{return a+""}catch(u){}}return""}function da(a){if(a instanceof gt)return a.clone();var u=new Gr(a.__wrapped__,a.__chain__);return u.__actions__=_r(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}var uw=qe(function(a,u){return cn(a)?Is(a,Ln(u,1,cn,!0)):[]}),cw=qe(function(a,u){var h=In(u);return cn(h)&&(h=v),cn(a)?Is(a,Ln(u,1,cn,!0),Ie(h,2)):[]}),dw=qe(function(a,u){var h=In(u);return cn(h)&&(h=v),cn(a)?Is(a,Ln(u,1,cn,!0),v,h):[]});function Vd(a,u,h){var p=null==a?0:a.length;if(!p)return-1;var m=null==h?0:rt(h);return m<0&&(m=Pn(p+m,0)),ru(a,Ie(u,3),m)}function sg(a,u,h){var p=null==a?0:a.length;if(!p)return-1;var m=p-1;return h!==v&&(m=rt(h),m=h<0?Pn(p+m,0):dt(m,p-1)),ru(a,Ie(u,3),m,!0)}function og(a){return null!=a&&a.length?Ln(a,1):[]}function hl(a){return a&&a.length?a[0]:v}var hy=qe(function(a){var u=Dt(a,gr);return u.length&&u[0]===a[0]?xs(u):[]}),mn=qe(function(a){var u=In(a),h=Dt(a,gr);return u===In(h)?u=v:h.pop(),h.length&&h[0]===a[0]?xs(h,Ie(u,2)):[]}),lg=qe(function(a){var u=In(a),h=Dt(a,gr);return(u="function"==typeof u?u:v)&&h.pop(),h.length&&h[0]===a[0]?xs(h,v,u):[]});function In(a){var u=null==a?0:a.length;return u?a[u-1]:v}var gy=qe(cg);function cg(a,u){return a&&a.length&&u&&u.length?Mn(a,u):a}var pw=di(function(a,u){var h=null==a?0:a.length,p=pu(a,u);return wu(a,Dt(u,function(m){return fi(m,h)?+m:m}).sort(Su)),p});function Co(a){return null==a?a:kv.call(a)}var Ey=qe(function(a){return Yr(Ln(a,1,cn,!0))}),wy=qe(function(a){var u=In(a);return cn(u)&&(u=v),Yr(Ln(a,1,cn,!0),Ie(u,2))}),$d=qe(function(a){var u=In(a);return u="function"==typeof u?u:v,Yr(Ln(a,1,cn,!0),v,u)});function Kd(a){if(!a||!a.length)return[];var u=0;return a=Ti(a,function(h){if(cn(h))return u=Pn(h.length,u),!0}),oo(u,function(h){return Dt(a,Mi(h))})}function mg(a,u){if(!a||!a.length)return[];var h=Kd(a);return null==u?h:Dt(h,function(p){return $r(u,v,p)})}var pl=qe(function(a,u){return cn(a)?Is(a,u):[]}),Ay=qe(function(a){return kp(Ti(a,cn))}),Py=qe(function(a){var u=In(a);return cn(u)&&(u=v),kp(Ti(a,cn),Ie(u,2))}),Ty=qe(function(a){var u=In(a);return u="function"==typeof u?u:v,kp(Ti(a,cn),v,u)}),My=qe(Kd),xy=qe(function(a){var u=a.length,h=u>1?a[u-1]:v;return h="function"==typeof h?(a.pop(),h):v,mg(a,h)});function vg(a){var u=y(a);return u.__chain__=!0,u}function Vu(a,u){return u(a)}var Oy=di(function(a){var u=a.length,h=u?a[0]:0,p=this.__wrapped__,m=function(b){return pu(b,a)};return!(u>1||this.__actions__.length)&&p instanceof gt&&fi(h)?((p=p.slice(h,+h+(u?1:0))).__actions__.push({func:Vu,args:[m],thisArg:v}),new Gr(p,this.__chain__).thru(function(b){return u&&!b.length&&b.push(v),b})):this.thru(m)}),yg=Au(function(a,u,h){Lt.call(a,h)?++a[h]:is(a,h,1)}),Gd=Vp(Vd),zd=Vp(sg);function qd(a,u){return(Je(a)?Fn:ki)(a,Ie(u,3))}function Qd(a,u){return(Je(a)?jt:md)(a,Ie(u,3))}var Zd=Au(function(a,u,h){Lt.call(a,h)?a[h].push(u):is(a,h,[u])}),Cg=qe(function(a,u,h){var p=-1,m="function"==typeof u,b=vr(a)?j(a.length):[];return ki(a,function(S){b[++p]=m?$r(u,S,h):Li(S,u,h)}),b}),yw=Au(function(a,u,h){is(a,h,u)});function ls(a,u){return(Je(a)?Dt:wd)(a,Ie(u,3))}var Eg=Au(function(a,u,h){a[h?0:1].push(u)},function(){return[[],[]]}),wg=qe(function(a,u){if(null==a)return[];var h=u.length;return h>1&&zn(a,u[0],u[1])?u=[]:h>2&&zn(u[0],u[1],u[2])&&(u=[u[0]]),Ip(a,Ln(u,1),[])}),fa=Kr||function(){return Dn.Date.now()};function Hu(a,u,h){return u=h?v:u,os(a,128,v,v,v,v,u=a&&null==u?a.length:u)}function Sg(a,u){var h;if("function"!=typeof u)throw new ui(V);return a=rt(a),function(){return--a>0&&(h=u.apply(this,arguments)),a<=1&&(u=v),h}}var eh=qe(function(a,u,h){var p=1;if(h.length){var m=Tr(h,hi(eh));p|=32}return os(a,p,u,h,m)}),th=qe(function(a,u,h){var p=3;if(h.length){var m=Tr(h,hi(th));p|=32}return os(u,p,a,h,m)});function rh(a,u,h){var p,m,b,S,T,O,Q=0,X=!1,re=!1,ce=!0;if("function"!=typeof a)throw new ui(V);function De(dn){var ti=p,$i=m;return p=m=v,Q=dn,S=a.apply($i,ti)}function Re(dn){return Q=dn,T=dl(ht,u),X?De(dn):S}function Oe(dn){var ti=dn-O;return O===v||ti>=u||ti<0||re&&dn-Q>=b}function ht(){var dn=fa();if(Oe(dn))return vt(dn);T=dl(ht,function at(dn){var Fb=u-(dn-O);return re?dt(Fb,b-(dn-Q)):Fb}(dn))}function vt(dn){return T=v,ce&&p?De(dn):(p=m=v,S)}function lr(){var dn=fa(),ti=Oe(dn);if(p=arguments,m=this,O=dn,ti){if(T===v)return Re(O);if(re)return Td(T),T=dl(ht,u),De(O)}return T===v&&(T=dl(ht,u)),S}return u=mi(u)||0,we(h)&&(X=!!h.leading,b=(re="maxWait"in h)?Pn(mi(h.maxWait)||0,u):b,ce="trailing"in h?!!h.trailing:ce),lr.cancel=function ei(){T!==v&&Td(T),Q=0,p=O=m=T=v},lr.flush=function br(){return T===v?S:vt(fa())},lr}var Ag=qe(function(a,u){return el(a,1,u)}),Ky=qe(function(a,u,h){return el(a,mi(u)||0,h)});function ju(a,u){if("function"!=typeof a||null!=u&&"function"!=typeof u)throw new ui(V);var h=function(){var p=arguments,m=u?u.apply(this,p):p[0],b=h.cache;if(b.has(m))return b.get(m);var S=a.apply(this,p);return h.cache=b.set(m,S)||b,S};return h.cache=new(ju.Cache||Fi),h}function ml(a){if("function"!=typeof a)throw new ui(V);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}ju.Cache=Fi;var Tg=Du(function(a,u){var h=(u=1==u.length&&Je(u[0])?Dt(u[0],Nt(Ie())):Dt(Ln(u,1),Nt(Ie()))).length;return qe(function(p){for(var m=-1,b=dt(p.length,h);++m<b;)p[m]=u[m].call(this,p[m]);return $r(a,this,p)})}),_l=qe(function(a,u){var h=Tr(u,hi(_l));return os(a,32,v,u,h)}),ih=qe(function(a,u){var h=Tr(u,hi(ih));return os(a,64,v,u,h)}),$u=di(function(a,u){return os(a,256,v,v,v,u)});function xr(a,u){return a===u||a!=a&&u!=u}var Og=al(rl),bw=al(function(a,u){return a>=u}),Hs=_u(function(){return arguments}())?_u:function(a){return sn(a)&&Lt.call(a,"callee")&&!pp.call(a,"callee")},Je=j.isArray,Fg=jr?Nt(jr):function vu(a){return sn(a)&&Kn(a)==zl};function vr(a){return null!=a&&Ue(a.length)&&!us(a)}function cn(a){return sn(a)&&vr(a)}var Us=Rv||Rh,kg=sp?Nt(sp):function tw(a){return sn(a)&&Kn(a)==dr};function Ku(a){if(!sn(a))return!1;var u=Kn(a);return u==Ji||"[object DOMException]"==u||"string"==typeof a.message&&"string"==typeof a.name&&!pa(a)}function us(a){if(!we(a))return!1;var u=Kn(a);return u==Bo||u==Rc||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Ng(a){return"number"==typeof a&&a==rt(a)}function Ue(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=pt}function we(a){var u=typeof a;return null!=a&&("object"==u||"function"==u)}function sn(a){return null!=a&&"object"==typeof a}var ah=op?Nt(op):function Wv(a){return sn(a)&&Gn(a)==_t};function zu(a){return"number"==typeof a||sn(a)&&Kn(a)==Vo}function pa(a){if(!sn(a)||Kn(a)!=Ai)return!1;var u=Nn(a);if(null===u)return!0;var h=Lt.call(u,"constructor")&&u.constructor;return"function"==typeof h&&h instanceof h&&Yc.call(h)==hp}var yl=ap?Nt(ap):function bd(a){return sn(a)&&Kn(a)==Sr},uh=Pv?Nt(Pv):function Cd(a){return sn(a)&&Gn(a)==tr};function ch(a){return"string"==typeof a||!Je(a)&&sn(a)&&Kn(a)==Gl}function Qn(a){return"symbol"==typeof a||sn(a)&&Kn(a)==Oc}var ds=Ft?Nt(Ft):function yu(a){return sn(a)&&Ue(a.length)&&!!Qt[Kn(a)]},Ew=al(bu),tb=al(function(a,u){return a<=u});function Bg(a){if(!a)return[];if(vr(a))return ch(a)?ln(a):_r(a);if(Go&&a[Go])return function $o(x){for(var $,j=[];!($=x.next()).done;)j.push($.value);return j}(a[Go]());var u=Gn(a);return(u==_t?Xe:u==tr?Wo:fs)(a)}function hs(a){return a?(a=mi(a))===Ae||a===-Ae?17976931348623157e292*(a<0?-1:1):a==a?a:0:0===a?a:0}function rt(a){var u=hs(a),h=u%1;return u==u?h?u-h:u:0}function ph(a){return a?mo(rt(a),0,Pe):0}function mi(a){if("number"==typeof a)return a;if(Qn(a))return NaN;if(we(a)){var u="function"==typeof a.valueOf?a.valueOf():a;a=we(u)?u+"":u}if("string"!=typeof a)return 0===a?a:+a;a=Ss(a);var h=hv.test(a);return h||zf.test(a)?Wc(a.slice(2),h?2:8):Ha.test(a)?NaN:+a}function Vg(a){return Vi(a,yr(a))}function Tt(a){return null==a?"":Zr(a)}var Hg=yo(function(a,u){if(ul(u)||vr(u))Vi(u,yn(u),a);else for(var h in u)Lt.call(u,h)&&Ya(a,h,u[h])}),Ug=yo(function(a,u){Vi(u,yr(u),a)}),ga=yo(function(a,u,h,p){Vi(u,yr(u),a,p)}),Dw=yo(function(a,u,h,p){Vi(u,yn(u),a,p)}),Sw=di(pu),Pw=qe(function(a,u){a=Gt(a);var h=-1,p=u.length,m=p>2?u[2]:v;for(m&&zn(u[0],u[1],m)&&(p=1);++h<p;)for(var b=u[h],S=yr(b),T=-1,O=S.length;++T<O;){var Q=S[T],X=a[Q];(X===v||xr(X,qa[Q])&&!Lt.call(a,Q))&&(a[Q]=b[Q])}return a}),Tw=qe(function(a){return a.push(v,as),$r($g,v,a)});function qu(a,u,h){var p=null==a?v:Xo(a,u);return p===v?h:p}function Qu(a,u){return null!=a&&ku(a,u,Sp)}var _h=Up(function(a,u,h){null!=u&&"function"!=typeof u.toString&&(u=Xc.call(u)),a[u]=h},Ah(Bn)),rb=Up(function(a,u,h){null!=u&&"function"!=typeof u.toString&&(u=Xc.call(u)),Lt.call(a,u)?a[u].push(h):a[u]=[h]},Ie),$s=qe(Li);function yn(a){return vr(a)?fd(a):Ed(a)}function yr(a){return vr(a)?fd(a,!0):function Tp(a){if(!we(a))return function oy(a){var u=[];if(null!=a)for(var h in Gt(a))u.push(h);return u}(a);var u=ul(a),h=[];for(var p in a)"constructor"==p&&(u||!Lt.call(a,p))||h.push(p);return h}(a)}var jg=yo(function(a,u,h){Cu(a,u,h)}),$g=yo(function(a,u,h,p){Cu(a,u,h,p)}),sb=di(function(a,u){var h={};if(null==a)return h;var p=!1;u=Dt(u,function(b){return b=ss(b,a),p||(p=b.length>1),b}),Vi(a,xu(a),h),p&&(h=qr(h,7,$p));for(var m=u.length;m--;)Fp(h,u[m]);return h}),ma=di(function(a,u){return null==a?{}:function xp(a,u){return Sd(a,u,function(h,p){return Qu(a,p)})}(a,u)});function Zu(a,u){if(null==a)return{};var h=Dt(xu(a),function(p){return[p]});return u=Ie(u),Sd(a,h,function(p,m){return u(p,m[0])})}var Wg=jp(yn),yh=jp(yr);function fs(a){return null==a?[]:zc(a,yn(a))}var Qg=Os(function(a,u,h){return u=u.toLowerCase(),a+(h?Zg(u):u)});function Zg(a){return Sh(Tt(a).toLowerCase())}function Eh(a){return(a=Tt(a))&&a.replace(pv,Pr).replace(qE,"")}var ub=Os(function(a,u,h){return a+(h?"-":"")+u.toLowerCase()}),cb=Os(function(a,u,h){return a+(h?" ":"")+u.toLowerCase()}),kw=aa("toLowerCase"),hb=Os(function(a,u,h){return a+(h?"_":"")+u.toLowerCase()}),pb=Os(function(a,u,h){return a+(h?" ":"")+Sh(u)}),Dh=Os(function(a,u,h){return a+(h?" ":"")+u.toUpperCase()}),Sh=aa("toUpperCase");function rm(a,u,h){return a=Tt(a),(u=h?v:u)===v?function Ka(x){return jc.test(x)}(a)?function li(x){return x.match(QE)||[]}(a):function cp(x){return x.match(UE)||[]}(a):a.match(u)||[]}var yb=qe(function(a,u){try{return $r(a,v,u)}catch(h){return Ku(h)?h:new ze(h)}}),im=di(function(a,u){return Fn(u,function(h){h=Mr(h),is(a,h,eh(a[h],a))}),a});function Ah(a){return function(){return a}}var Eb=Hp(),wb=Hp(!0);function Bn(a){return a}function El(a){return il("function"==typeof a?a:qr(a,1))}var Mh=qe(function(a,u){return function(h){return Li(h,a,u)}}),sm=qe(function(a,u){return function(h){return Li(a,h,u)}});function Ih(a,u,h){var p=yn(u),m=vd(u,p);null==h&&(!we(u)||!m.length&&p.length)&&(h=u,u=a,a=this,m=vd(u,yn(u)));var b=!(we(h)&&"chain"in h&&!h.chain),S=us(a);return Fn(m,function(T){var O=u[T];a[T]=O,S&&(a.prototype[T]=function(){var Q=this.__chain__;if(b||Q){var X=a(this.__wrapped__),re=X.__actions__=_r(this.__actions__);return re.push({func:O,args:arguments,thisArg:a}),X.__chain__=Q,X}return O.apply(a,Wr([this.value()],arguments))})}),a}function wl(){}var Ab=Tu(Dt),om=Tu($a),am=Tu(Gc);function xh(a){return Lu(a)?Mi(Mr(a)):function na(a){return function(u){return Xo(u,a)}}(a)}var um=xd(),ps=xd(!0);function ya(){return[]}function Rh(){return!1}var Tb=ks(function(a,u){return a+u},0),kh=bo("ceil"),dm=ks(function(a,u){return a/u},1),hm=bo("floor"),ba=ks(function(a,u){return a*u},1),gm=bo("round"),Rb=ks(function(a,u){return a-u},0);return y.after=function Dg(a,u){if("function"!=typeof u)throw new ui(V);return a=rt(a),function(){if(--a<1)return u.apply(this,arguments)}},y.ary=Hu,y.assign=Hg,y.assignIn=Ug,y.assignInWith=ga,y.assignWith=Dw,y.at=Sw,y.before=Sg,y.bind=eh,y.bindAll=im,y.bindKey=th,y.castArray=function vl(){if(!arguments.length)return[];var a=arguments[0];return Je(a)?a:[a]},y.chain=vg,y.chunk=function ng(a,u,h){u=(h?zn(a,u,h):u===v)?1:Pn(rt(u),0);var p=null==a?0:a.length;if(!p||u<1)return[];for(var m=0,b=0,S=j(au(p/u));m<p;)S[b++]=Qr(a,m,m+=u);return S},y.compact=function rg(a){for(var u=-1,h=null==a?0:a.length,p=0,m=[];++u<h;){var b=a[u];b&&(m[p++]=b)}return m},y.concat=function ig(){var a=arguments.length;if(!a)return[];for(var u=j(a-1),h=arguments[0],p=a;p--;)u[p-1]=arguments[p];return Wr(Je(h)?_r(h):[h],Ln(u,1))},y.cond=function bb(a){var u=null==a?0:a.length,h=Ie();return a=u?Dt(a,function(p){if("function"!=typeof p[1])throw new ui(V);return[h(p[0]),p[1]]}):[],qe(function(p){for(var m=-1;++m<u;){var b=a[m];if($r(b[0],this,p))return $r(b[1],this,p)}})},y.conforms=function Cb(a){return function Uv(a){var u=yn(a);return function(h){return Ja(h,a,u)}}(qr(a,1))},y.constant=Ah,y.countBy=yg,y.create=function Aw(a,u){var h=Zo(a);return null==u?h:rn(h,u)},y.curry=function nh(a,u,h){var p=os(a,8,v,v,v,v,v,u=h?v:u);return p.placeholder=nh.placeholder,p},y.curryRight=function Vs(a,u,h){var p=os(a,16,v,v,v,v,v,u=h?v:u);return p.placeholder=Vs.placeholder,p},y.debounce=rh,y.defaults=Pw,y.defaultsDeep=Tw,y.defer=Ag,y.delay=Ky,y.difference=uw,y.differenceBy=cw,y.differenceWith=dw,y.drop=function Nd(a,u,h){var p=null==a?0:a.length;return p?Qr(a,(u=h||u===v?1:rt(u))<0?0:u,p):[]},y.dropRight=function Ld(a,u,h){var p=null==a?0:a.length;return p?Qr(a,0,(u=p-(u=h||u===v?1:rt(u)))<0?0:u):[]},y.dropRightWhile=function Bd(a,u){return a&&a.length?ia(a,Ie(u,3),!0,!0):[]},y.dropWhile=function hw(a,u){return a&&a.length?ia(a,Ie(u,3),!0):[]},y.fill=function fw(a,u,h,p){var m=null==a?0:a.length;return m?(h&&"number"!=typeof h&&zn(a,u,h)&&(h=0,p=m),function tl(a,u,h,p){var m=a.length;for((h=rt(h))<0&&(h=-h>m?0:m+h),(p=p===v||p>m?m:rt(p))<0&&(p+=m),p=h>p?0:ph(p);h<p;)a[h++]=u;return a}(a,u,h,p)):[]},y.filter=function Ir(a,u){return(Je(a)?Ti:Dp)(a,Ie(u,3))},y.flatMap=function Ly(a,u){return Ln(ls(a,u),1)},y.flatMapDeep=function bg(a,u){return Ln(ls(a,u),Ae)},y.flatMapDepth=function gl(a,u,h){return h=h===v?1:rt(h),Ln(ls(a,u),h)},y.flatten=og,y.flattenDeep=function uy(a){return null!=a&&a.length?Ln(a,Ae):[]},y.flattenDepth=function cy(a,u){return null!=a&&a.length?Ln(a,u=u===v?1:rt(u)):[]},y.flip=function Uu(a){return os(a,512)},y.flow=Eb,y.flowRight=wb,y.fromPairs=function ag(a){for(var u=-1,h=null==a?0:a.length,p={};++u<h;){var m=a[u];p[m[0]]=m[1]}return p},y.functions=function gh(a){return null==a?[]:vd(a,yn(a))},y.functionsIn=function nb(a){return null==a?[]:vd(a,yr(a))},y.groupBy=Zd,y.initial=function Hd(a){return null!=a&&a.length?Qr(a,0,-1):[]},y.intersection=hy,y.intersectionBy=mn,y.intersectionWith=lg,y.invert=_h,y.invertBy=rb,y.invokeMap=Cg,y.iteratee=El,y.keyBy=yw,y.keys=yn,y.keysIn=yr,y.map=ls,y.mapKeys=function vh(a,u){var h={};return u=Ie(u,3),Ni(a,function(p,m,b){is(h,u(p,m,b),p)}),h},y.mapValues=function ib(a,u){var h={};return u=Ie(u,3),Ni(a,function(p,m,b){is(h,m,u(p,m,b))}),h},y.matches=function Db(a){return Dd(qr(a,1))},y.matchesProperty=function Th(a,u){return Mp(a,qr(u,1))},y.memoize=ju,y.merge=jg,y.mergeWith=$g,y.method=Mh,y.methodOf=sm,y.mixin=Ih,y.negate=ml,y.nthArg=function Bw(a){return a=rt(a),qe(function(u){return ta(u,a)})},y.omit=sb,y.omitBy=function bl(a,u){return Zu(a,ml(Ie(u)))},y.once=function Pg(a){return Sg(2,a)},y.orderBy=function Xd(a,u,h,p){return null==a?[]:(Je(u)||(u=null==u?[]:[u]),Je(h=p?v:h)||(h=null==h?[]:[h]),Ip(a,u,h))},y.over=Ab,y.overArgs=Tg,y.overEvery=om,y.overSome=am,y.partial=_l,y.partialRight=ih,y.partition=Eg,y.pick=ma,y.pickBy=Zu,y.property=xh,y.propertyOf=function lm(a){return function(u){return null==a?v:Xo(a,u)}},y.pull=gy,y.pullAll=cg,y.pullAllBy=function my(a,u,h){return a&&a.length&&u&&u.length?Mn(a,u,Ie(h,2)):a},y.pullAllWith=function _y(a,u,h){return a&&a.length&&u&&u.length?Mn(a,u,v,h):a},y.pullAt=pw,y.range=um,y.rangeRight=ps,y.rearg=$u,y.reject=function Vy(a,u){return(Je(a)?Ti:Dp)(a,ml(Ie(u,3)))},y.remove=function gw(a,u){var h=[];if(!a||!a.length)return h;var p=-1,m=[],b=a.length;for(u=Ie(u,3);++p<b;){var S=a[p];u(S,p,a)&&(h.push(S),m.push(p))}return wu(a,m),h},y.rest=function Wu(a,u){if("function"!=typeof a)throw new ui(V);return qe(a,u=u===v?u:rt(u))},y.reverse=Co,y.sampleSize=function Uy(a,u,h){return u=(h?zn(a,u,h):u===v)?1:rt(u),(Je(a)?wp:Ad)(a,u)},y.set=function Cl(a,u,h){return null==a?a:Bi(a,u,h)},y.setWith=function va(a,u,h,p){return p="function"==typeof p?p:v,null==a?a:Bi(a,u,h,p)},y.shuffle=function jy(a){return(Je(a)?fu:xe)(a)},y.slice=function ar(a,u,h){var p=null==a?0:a.length;return p?(h&&"number"!=typeof h&&zn(a,u,h)?(u=0,h=p):(u=null==u?0:rt(u),h=h===v?p:rt(h)),Qr(a,u,h)):[]},y.sortBy=wg,y.sortedUniq=function vy(a){return a&&a.length?zv(a):[]},y.sortedUniqBy=function yy(a,u){return a&&a.length?zv(a,Ie(u,2)):[]},y.split=function fb(a,u,h){return h&&"number"!=typeof h&&zn(a,u,h)&&(u=h=v),(h=h===v?Pe:h>>>0)?(a=Tt(a))&&("string"==typeof u||null!=u&&!yl(u))&&!(u=Zr(u))&&Kt(a)?Jr(ln(a),0,h):a.split(u,h):[]},y.spread=function Mg(a,u){if("function"!=typeof a)throw new ui(V);return u=null==u?0:Pn(rt(u),0),qe(function(h){var p=h[u],m=Jr(h,0,u);return p&&Wr(m,p),$r(a,this,m)})},y.tail=function fg(a){var u=null==a?0:a.length;return u?Qr(a,1,u):[]},y.take=function by(a,u,h){return a&&a.length?Qr(a,0,(u=h||u===v?1:rt(u))<0?0:u):[]},y.takeRight=function pg(a,u,h){var p=null==a?0:a.length;return p?Qr(a,(u=p-(u=h||u===v?1:rt(u)))<0?0:u,p):[]},y.takeRightWhile=function Cy(a,u){return a&&a.length?ia(a,Ie(u,3),!1,!0):[]},y.takeWhile=function gg(a,u){return a&&a.length?ia(a,Ie(u,3)):[]},y.tap=function Ry(a,u){return u(a),a},y.throttle=function sh(a,u,h){var p=!0,m=!0;if("function"!=typeof a)throw new ui(V);return we(h)&&(p="leading"in h?!!h.leading:p,m="trailing"in h?!!h.trailing:m),rh(a,u,{leading:p,maxWait:u,trailing:m})},y.thru=Vu,y.toArray=Bg,y.toPairs=Wg,y.toPairsIn=yh,y.toPath=function Fh(a){return Je(a)?Dt(a,Mr):Qn(a)?[a]:_r(tg(Tt(a)))},y.toPlainObject=Vg,y.transform=function Kg(a,u,h){var p=Je(a),m=p||Us(a)||ds(a);if(u=Ie(u,4),null==h){var b=a&&a.constructor;h=m?p?new b:[]:we(a)&&us(b)?Zo(Nn(a)):{}}return(m?Fn:Ni)(a,function(S,T,O){return u(h,S,T,O)}),h},y.unary=function Ig(a){return Hu(a,1)},y.union=Ey,y.unionBy=wy,y.unionWith=$d,y.uniq=function Dy(a){return a&&a.length?Yr(a):[]},y.uniqBy=function Sy(a,u){return a&&a.length?Yr(a,Ie(u,2)):[]},y.uniqWith=function Wd(a,u){return u="function"==typeof u?u:v,a&&a.length?Yr(a,v,u):[]},y.unset=function bh(a,u){return null==a||Fp(a,u)},y.unzip=Kd,y.unzipWith=mg,y.update=function Ch(a,u,h){return null==a?a:gn(a,u,Xr(h))},y.updateWith=function Gg(a,u,h,p){return p="function"==typeof p?p:v,null==a?a:gn(a,u,Xr(h),p)},y.values=fs,y.valuesIn=function ob(a){return null==a?[]:zc(a,yr(a))},y.without=pl,y.words=rm,y.wrap=function oh(a,u){return _l(Xr(u),a)},y.xor=Ay,y.xorBy=Py,y.xorWith=Ty,y.zip=My,y.zipObject=function Iy(a,u){return Np(a||[],u||[],Ya)},y.zipObjectDeep=function _g(a,u){return Np(a||[],u||[],Bi)},y.zipWith=xy,y.entries=Wg,y.entriesIn=yh,y.extend=Ug,y.extendWith=ga,Ih(y,y),y.add=Tb,y.attempt=yb,y.camelCase=Qg,y.capitalize=Zg,y.ceil=kh,y.clamp=function zg(a,u,h){return h===v&&(h=u,u=v),h!==v&&(h=(h=mi(h))==h?h:0),u!==v&&(u=(u=mi(u))==u?u:0),mo(mi(a),u,h)},y.clone=function Gy(a){return qr(a,4)},y.cloneDeep=function zy(a){return qr(a,5)},y.cloneDeepWith=function qy(a,u){return qr(a,5,u="function"==typeof u?u:v)},y.cloneWith=function xg(a,u){return qr(a,4,u="function"==typeof u?u:v)},y.conformsTo=function Rg(a,u){return null==u||Ja(a,u,yn(u))},y.deburr=Eh,y.defaultTo=function Ph(a,u){return null==a||a!=a?u:a},y.divide=dm,y.endsWith=function ab(a,u,h){a=Tt(a),u=Zr(u);var p=a.length,m=h=h===v?p:mo(rt(h),0,p);return(h-=u.length)>=0&&a.slice(h,m)==u},y.eq=xr,y.escape=function lb(a){return(a=Tt(a))&&jf.test(a)?a.replace(Nc,ao):a},y.escapeRegExp=function Rr(a){return(a=Tt(a))&&uv.test(a)?a.replace(Lc,"\\$&"):a},y.every=function vw(a,u,h){var p=Je(a)?$a:jv;return h&&zn(a,u,h)&&(u=v),p(a,Ie(u,3))},y.find=Gd,y.findIndex=Vd,y.findKey=function Mw(a,u){return ir(a,Ie(u,3),Ni)},y.findLast=zd,y.findLastIndex=sg,y.findLastKey=function Iw(a,u){return ir(a,Ie(u,3),_d)},y.floor=hm,y.forEach=qd,y.forEachRight=Qd,y.forIn=function xw(a,u){return null==a?a:_o(a,Ie(u,3),yr)},y.forInRight=function Rw(a,u){return null==a?a:gu(a,Ie(u,3),yr)},y.forOwn=function Ow(a,u){return a&&Ni(a,Ie(u,3))},y.forOwnRight=function js(a,u){return a&&_d(a,Ie(u,3))},y.get=qu,y.gt=Og,y.gte=bw,y.has=function mh(a,u){return null!=a&&ku(a,u,mu)},y.hasIn=Qu,y.head=hl,y.identity=Bn,y.includes=function Yd(a,u,h,p){a=vr(a)?a:fs(a),h=h&&!p?rt(h):0;var m=a.length;return h<0&&(h=Pn(m+h,0)),ch(a)?h<=m&&a.indexOf(u,h)>-1:!!m&&so(a,u,h)>-1},y.indexOf=function dy(a,u,h){var p=null==a?0:a.length;if(!p)return-1;var m=null==h?0:rt(h);return m<0&&(m=Pn(p+m,0)),so(a,u,m)},y.inRange=function Fw(a,u,h){return u=hs(u),h===v?(h=u,u=0):h=hs(h),function Ap(a,u,h){return a>=dt(u,h)&&a<Pn(u,h)}(a=mi(a),u,h)},y.invoke=$s,y.isArguments=Hs,y.isArray=Je,y.isArrayBuffer=Fg,y.isArrayLike=vr,y.isArrayLikeObject=cn,y.isBoolean=function pi(a){return!0===a||!1===a||sn(a)&&Kn(a)==ct},y.isBuffer=Us,y.isDate=kg,y.isElement=function Qy(a){return sn(a)&&1===a.nodeType&&!pa(a)},y.isEmpty=function Zy(a){if(null==a)return!0;if(vr(a)&&(Je(a)||"string"==typeof a||"function"==typeof a.splice||Us(a)||ds(a)||Hs(a)))return!a.length;var u=Gn(a);if(u==_t||u==tr)return!a.size;if(ul(a))return!Ed(a).length;for(var h in a)if(Lt.call(a,h))return!1;return!0},y.isEqual=function Yy(a,u){return Jo(a,u)},y.isEqualWith=function Xy(a,u,h){var p=(h="function"==typeof h?h:v)?h(a,u):v;return p===v?Jo(a,u,v,h):!!p},y.isError=Ku,y.isFinite=function Jy(a){return"number"==typeof a&&lu(a)},y.isFunction=us,y.isInteger=Ng,y.isLength=Ue,y.isMap=ah,y.isMatch=function Gu(a,u){return a===u||yd(a,u,Kp(u))},y.isMatchWith=function gi(a,u,h){return h="function"==typeof h?h:v,yd(a,u,Kp(u),h)},y.isNaN=function Lg(a){return zu(a)&&a!=+a},y.isNative=function eb(a){if(sy(a))throw new ze("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ea(a)},y.isNil=function cs(a){return null==a},y.isNull=function lh(a){return null===a},y.isNumber=zu,y.isObject=we,y.isObjectLike=sn,y.isPlainObject=pa,y.isRegExp=yl,y.isSafeInteger=function Cw(a){return Ng(a)&&a>=-pt&&a<=pt},y.isSet=uh,y.isString=ch,y.isSymbol=Qn,y.isTypedArray=ds,y.isUndefined=function dh(a){return a===v},y.isWeakMap=function hh(a){return sn(a)&&Gn(a)==ii},y.isWeakSet=function fh(a){return sn(a)&&"[object WeakSet]"==Kn(a)},y.join=function fy(a,u){return null==a?"":Ov.call(a,u)},y.kebabCase=ub,y.last=In,y.lastIndexOf=function ug(a,u,h){var p=null==a?0:a.length;if(!p)return-1;var m=p;return h!==v&&(m=(m=rt(h))<0?Pn(p+m,0):dt(m,p-1)),u==u?function za(x,$,j){for(var _e=j+1;_e--;)if(x[_e]===$)return _e;return _e}(a,u,m):ru(a,sr,m,!0)},y.lowerCase=cb,y.lowerFirst=kw,y.lt=Ew,y.lte=tb,y.max=function fm(a){return a&&a.length?ci(a,Bn,rl):v},y.maxBy=function Mb(a,u){return a&&a.length?ci(a,Ie(u,2),rl):v},y.mean=function Nh(a){return kn(a,Bn)},y.meanBy=function Ib(a,u){return kn(a,Ie(u,2))},y.min=function xb(a){return a&&a.length?ci(a,Bn,bu):v},y.minBy=function pm(a,u){return a&&a.length?ci(a,Ie(u,2),bu):v},y.stubArray=ya,y.stubFalse=Rh,y.stubObject=function Pb(){return{}},y.stubString=function Vw(){return""},y.stubTrue=function Oh(){return!0},y.multiply=ba,y.nth=function py(a,u){return a&&a.length?ta(a,rt(u)):v},y.noConflict=function Sb(){return Dn._===this&&(Dn._=Jc),this},y.noop=wl,y.now=fa,y.pad=function Nw(a,u,h){a=Tt(a);var p=(u=rt(u))?ai(a):0;if(!u||p>=u)return a;var m=(u-p)/2;return Mu(qo(m),h)+a+Mu(au(m),h)},y.padEnd=function Yg(a,u,h){a=Tt(a);var p=(u=rt(u))?ai(a):0;return u&&p<u?a+Mu(u-p,h):a},y.padStart=function Lw(a,u,h){a=Tt(a);var p=(u=rt(u))?ai(a):0;return u&&p<u?Mu(u-p,h)+a:a},y.parseInt=function db(a,u,h){return h||null==u?u=0:u&&(u=+u),Fv(Tt(a).replace(si,""),u||0)},y.random=function qg(a,u,h){if(h&&"boolean"!=typeof h&&zn(a,u,h)&&(u=h=v),h===v&&("boolean"==typeof u?(h=u,u=v):"boolean"==typeof a&&(h=a,a=v)),a===v&&u===v?(a=0,u=1):(a=hs(a),u===v?(u=a,a=0):u=hs(u)),a>u){var p=a;a=u,u=p}if(h||a%1||u%1){var m=un();return dt(a+m*(u-a+Ke("1e-"+((m+"").length-1))),u)}return vo(a,u)},y.reduce=function By(a,u,h){var p=Je(a)?Kc:Ar,m=arguments.length<3;return p(a,Ie(u,4),h,m,ki)},y.reduceRight=function Jd(a,u,h){var p=Je(a)?Ds:Ar,m=arguments.length<3;return p(a,Ie(u,4),h,m,md)},y.repeat=function wh(a,u,h){return u=(h?zn(a,u,h):u===v)?1:rt(u),Rs(Tt(a),u)},y.replace=function Xg(){var a=arguments,u=Tt(a[0]);return a.length<3?u:u.replace(a[1],a[2])},y.result=function _a(a,u,h){var p=-1,m=(u=ss(u,a)).length;for(m||(m=1,a=v);++p<m;){var b=null==a?v:a[Mr(u[p])];b===v&&(p=m,b=h),a=us(b)?b.call(a):b}return a},y.round=gm,y.runInContext=x,y.sample=function Hy(a){return(Je(a)?pd:Rp)(a)},y.size=function $y(a){if(null==a)return 0;if(vr(a))return ch(a)?ai(a):a.length;var u=Gn(a);return u==_t||u==tr?a.size:Ed(a).length},y.snakeCase=hb,y.some=function Wy(a,u,h){var p=Je(a)?Gc:nw;return h&&zn(a,u,h)&&(u=v),p(a,Ie(u,3))},y.sortedIndex=function Ud(a,u){return Pd(a,u)},y.sortedIndexBy=function dg(a,u,h){return Op(a,u,Ie(h,2))},y.sortedIndexOf=function hg(a,u){var h=null==a?0:a.length;if(h){var p=Pd(a,u);if(p<h&&xr(a[p],u))return p}return-1},y.sortedLastIndex=function qn(a,u){return Pd(a,u,!0)},y.sortedLastIndexBy=function fl(a,u,h){return Op(a,u,Ie(h,2),!0)},y.sortedLastIndexOf=function jd(a,u){if(null!=a&&a.length){var p=Pd(a,u,!0)-1;if(xr(a[p],u))return p}return-1},y.startCase=pb,y.startsWith=function Jg(a,u,h){return a=Tt(a),h=null==h?0:mo(rt(h),0,a.length),u=Zr(u),a.slice(h,h+u.length)==u},y.subtract=Rb,y.sum=function Ob(a){return a&&a.length?Wa(a,Bn):0},y.sumBy=function Ca(a,u){return a&&a.length?Wa(a,Ie(u,2)):0},y.template=function gb(a,u,h){var p=y.templateSettings;h&&zn(a,u,h)&&(u=v),a=Tt(a),u=ga({},u,p,ll);var T,O,m=ga({},u.imports,p.imports,ll),b=yn(m),S=zc(m,b),Q=0,X=u.interpolate||Yl,re="__p += '",ce=dp((u.escape||Yl).source+"|"+X.source+"|"+(X===$f?Bc:Yl).source+"|"+(u.evaluate||Yl).source+"|$","g"),De="//# sourceURL="+(Lt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Dv+"]")+"\n";a.replace(ce,function(Oe,ht,vt,ei,br,lr){return vt||(vt=ei),re+=a.slice(Q,lr).replace(gv,Sn),ht&&(T=!0,re+="' +\n__e("+ht+") +\n'"),br&&(O=!0,re+="';\n"+br+";\n__p += '"),vt&&(re+="' +\n((__t = ("+vt+")) == null ? '' : __t) +\n'"),Q=lr+Oe.length,Oe}),re+="';\n";var Re=Lt.call(u,"variable")&&u.variable;if(Re){if(dv.test(Re))throw new ze("Invalid `variable` option passed into `_.template`")}else re="with (obj) {\n"+re+"\n}\n";re=(O?re.replace(Vf,""):re).replace(Hf,"$1").replace(sv,"$1;"),re="function("+(Re||"obj")+") {\n"+(Re?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(T?", __e = _.escape":"")+(O?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+re+"return __p\n}";var at=yb(function(){return Pt(b,De+"return "+re).apply(v,S)});if(at.source=re,Ku(at))throw at;return at},y.times=function cm(a,u){if((a=rt(a))<1||a>pt)return[];var h=Pe,p=dt(a,Pe);u=Ie(u),a-=Pe;for(var m=oo(p,u);++h<a;)u(h);return m},y.toFinite=hs,y.toInteger=rt,y.toLength=ph,y.toLower=function em(a){return Tt(a).toLowerCase()},y.toNumber=mi,y.toSafeInteger=function ww(a){return a?mo(rt(a),-pt,pt):0===a?a:0},y.toString=Tt,y.toUpper=function mb(a){return Tt(a).toUpperCase()},y.trim=function _b(a,u,h){if((a=Tt(a))&&(h||u===v))return Ss(a);if(!a||!(u=Zr(u)))return a;var p=ln(a),m=ln(u);return Jr(p,de(p,m),ot(p,m)+1).join("")},y.trimEnd=function tm(a,u,h){if((a=Tt(a))&&(h||u===v))return a.slice(0,$t(a)+1);if(!a||!(u=Zr(u)))return a;var p=ln(a);return Jr(p,0,ot(p,ln(u))+1).join("")},y.trimStart=function nm(a,u,h){if((a=Tt(a))&&(h||u===v))return a.replace(si,"");if(!a||!(u=Zr(u)))return a;var p=ln(a);return Jr(p,de(p,ln(u))).join("")},y.truncate=function vb(a,u){var h=30,p="...";if(we(u)){var m="separator"in u?u.separator:m;h="length"in u?rt(u.length):h,p="omission"in u?Zr(u.omission):p}var b=(a=Tt(a)).length;if(Kt(a)){var S=ln(a);b=S.length}if(h>=b)return a;var T=h-ai(p);if(T<1)return p;var O=S?Jr(S,0,T).join(""):a.slice(0,T);if(m===v)return O+p;if(S&&(T+=O.length-T),yl(m)){if(a.slice(T).search(m)){var Q,X=O;for(m.global||(m=dp(m.source,Tt(Vc.exec(m))+"g")),m.lastIndex=0;Q=m.exec(X);)var re=Q.index;O=O.slice(0,re===v?T:re)}}else if(a.indexOf(Zr(m),T)!=T){var ce=O.lastIndexOf(m);ce>-1&&(O=O.slice(0,ce))}return O+p},y.unescape=function ji(a){return(a=Tt(a))&&Uf.test(a)?a.replace(kc,Tv):a},y.uniqueId=function Dl(a){var u=++JE;return Tt(a)+u},y.upperCase=Dh,y.upperFirst=Sh,y.each=qd,y.eachRight=Qd,y.first=hl,Ih(y,function(){var a={};return Ni(y,function(u,h){Lt.call(y.prototype,h)||(a[h]=u)}),a}(),{chain:!1}),y.VERSION="4.17.21",Fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){y[a].placeholder=y}),Fn(["drop","take"],function(a,u){gt.prototype[a]=function(h){h=h===v?1:Pn(rt(h),0);var p=this.__filtered__&&!u?new gt(this):this.clone();return p.__filtered__?p.__takeCount__=dt(h,p.__takeCount__):p.__views__.push({size:dt(h,Pe),type:a+(p.__dir__<0?"Right":"")}),p},gt.prototype[a+"Right"]=function(h){return this.reverse()[a](h).reverse()}}),Fn(["filter","map","takeWhile"],function(a,u){var h=u+1,p=1==h||3==h;gt.prototype[a]=function(m){var b=this.clone();return b.__iteratees__.push({iteratee:Ie(m,3),type:h}),b.__filtered__=b.__filtered__||p,b}}),Fn(["head","last"],function(a,u){var h="take"+(u?"Right":"");gt.prototype[a]=function(){return this[h](1).value()[0]}}),Fn(["initial","tail"],function(a,u){var h="drop"+(u?"":"Right");gt.prototype[a]=function(){return this.__filtered__?new gt(this):this[h](1)}}),gt.prototype.compact=function(){return this.filter(Bn)},gt.prototype.find=function(a){return this.filter(a).head()},gt.prototype.findLast=function(a){return this.reverse().find(a)},gt.prototype.invokeMap=qe(function(a,u){return"function"==typeof a?new gt(this):this.map(function(h){return Li(h,a,u)})}),gt.prototype.reject=function(a){return this.filter(ml(Ie(a)))},gt.prototype.slice=function(a,u){a=rt(a);var h=this;return h.__filtered__&&(a>0||u<0)?new gt(h):(a<0?h=h.takeRight(-a):a&&(h=h.drop(a)),u!==v&&(h=(u=rt(u))<0?h.dropRight(-u):h.take(u-a)),h)},gt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},gt.prototype.toArray=function(){return this.take(Pe)},Ni(gt.prototype,function(a,u){var h=/^(?:filter|find|map|reject)|While$/.test(u),p=/^(?:head|last)$/.test(u),m=y[p?"take"+("last"==u?"Right":""):u],b=p||/^find/.test(u);!m||(y.prototype[u]=function(){var S=this.__wrapped__,T=p?[1]:arguments,O=S instanceof gt,Q=T[0],X=O||Je(S),re=function(ht){var vt=m.apply(y,Wr([ht],T));return p&&ce?vt[0]:vt};X&&h&&"function"==typeof Q&&1!=Q.length&&(O=X=!1);var ce=this.__chain__,De=!!this.__actions__.length,Re=b&&!ce,at=O&&!De;if(!b&&X){S=at?S:new gt(this);var Oe=a.apply(S,T);return Oe.__actions__.push({func:Vu,args:[re],thisArg:v}),new Gr(Oe,ce)}return Re&&at?a.apply(this,T):(Oe=this.thru(re),Re?p?Oe.value()[0]:Oe.value():Oe)})}),Fn(["pop","push","shift","sort","splice","unshift"],function(a){var u=Qc[a],h=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",p=/^(?:pop|shift)$/.test(a);y.prototype[a]=function(){var m=arguments;if(p&&!this.__chain__){var b=this.value();return u.apply(Je(b)?b:[],m)}return this[h](function(S){return u.apply(Je(S)?S:[],m)})}}),Ni(gt.prototype,function(a,u){var h=y[u];if(h){var p=h.name+"";Lt.call(po,p)||(po[p]=[]),po[p].push({name:u,func:h})}}),po[ol(v,2).name]=[{name:"wrapper",func:v}],gt.prototype.clone=function ne(){var a=new gt(this.__wrapped__);return a.__actions__=_r(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=_r(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=_r(this.__views__),a},gt.prototype.reverse=function bt(){if(this.__filtered__){var a=new gt(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},gt.prototype.value=function Jt(){var a=this.__wrapped__.value(),u=this.__dir__,h=Je(a),p=u<0,m=h?a.length:0,b=function ny(a,u,h){for(var p=-1,m=h.length;++p<m;){var b=h[p],S=b.size;switch(b.type){case"drop":a+=S;break;case"dropRight":u-=S;break;case"take":u=dt(u,a+S);break;case"takeRight":a=Pn(a,u-S)}}return{start:a,end:u}}(0,m,this.__views__),S=b.start,T=b.end,O=T-S,Q=p?T:S-1,X=this.__iteratees__,re=X.length,ce=0,De=dt(O,this.__takeCount__);if(!h||!p&&m==O&&De==O)return sa(a,this.__actions__);var Re=[];e:for(;O--&&ce<De;){for(var at=-1,Oe=a[Q+=u];++at<re;){var ht=X[at],ei=ht.type,br=(0,ht.iteratee)(Oe);if(2==ei)Oe=br;else if(!br){if(1==ei)continue e;break e}}Re[ce++]=Oe}return Re},y.prototype.at=Oy,y.prototype.chain=function Fy(){return vg(this)},y.prototype.commit=function ky(){return new Gr(this.value(),this.__chain__)},y.prototype.next=function Ny(){this.__values__===v&&(this.__values__=Bg(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?v:this.__values__[this.__index__++]}},y.prototype.plant=function Ui(a){for(var u,h=this;h instanceof Qa;){var p=da(h);p.__index__=0,p.__values__=v,u?m.__wrapped__=p:u=p;var m=p;h=h.__wrapped__}return m.__wrapped__=a,u},y.prototype.reverse=function mw(){var a=this.__wrapped__;if(a instanceof gt){var u=a;return this.__actions__.length&&(u=new gt(this)),(u=u.reverse()).__actions__.push({func:Vu,args:[Co],thisArg:v}),new Gr(u,this.__chain__)}return this.thru(Co)},y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=function _w(){return sa(this.__wrapped__,this.__actions__)},y.prototype.first=y.prototype.head,Go&&(y.prototype[Go]=function ha(){return this}),y}();Dn._=uo,(E=function(){return uo}.call(Ce,M,Ce,fe))!==v&&(fe.exports=E)}.call(this)},478:(fe,Ce,M)=>{fe.exports=M(993)},582:(fe,Ce,M)=>{"use strict";var E=M(104),v=M(288),L=M(169),F=M(304),R=M(459),V=M(160),k=M(810),K=M(440);fe.exports=function(P){return new Promise(function(ee,ae){var se=P.data,q=P.headers,le=P.responseType;E.isFormData(se)&&delete q["Content-Type"];var ie=new XMLHttpRequest;if(P.auth){var ue=P.auth.username||"",oe=P.auth.password?unescape(encodeURIComponent(P.auth.password)):"";q.Authorization="Basic "+btoa(ue+":"+oe)}var Se=R(P.baseURL,P.url);function be(){if(ie){var Ze="getAllResponseHeaders"in ie?V(ie.getAllResponseHeaders()):null;v(ee,ae,{data:le&&"text"!==le&&"json"!==le?ie.response:ie.responseText,status:ie.status,statusText:ie.statusText,headers:Ze,config:P,request:ie}),ie=null}}if(ie.open(P.method.toUpperCase(),F(Se,P.params,P.paramsSerializer),!0),ie.timeout=P.timeout,"onloadend"in ie?ie.onloadend=be:ie.onreadystatechange=function(){!ie||4!==ie.readyState||0===ie.status&&(!ie.responseURL||0!==ie.responseURL.indexOf("file:"))||setTimeout(be)},ie.onabort=function(){!ie||(ae(K("Request aborted",P,"ECONNABORTED",ie)),ie=null)},ie.onerror=function(){ae(K("Network Error",P,null,ie)),ie=null},ie.ontimeout=function(){var Ee="timeout of "+P.timeout+"ms exceeded";P.timeoutErrorMessage&&(Ee=P.timeoutErrorMessage),ae(K(Ee,P,P.transitional&&P.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",ie)),ie=null},E.isStandardBrowserEnv()){var Qe=(P.withCredentials||k(Se))&&P.xsrfCookieName?L.read(P.xsrfCookieName):void 0;Qe&&(q[P.xsrfHeaderName]=Qe)}"setRequestHeader"in ie&&E.forEach(q,function(Ee,W){void 0===se&&"content-type"===W.toLowerCase()?delete q[W]:ie.setRequestHeader(W,Ee)}),E.isUndefined(P.withCredentials)||(ie.withCredentials=!!P.withCredentials),le&&"json"!==le&&(ie.responseType=P.responseType),"function"==typeof P.onDownloadProgress&&ie.addEventListener("progress",P.onDownloadProgress),"function"==typeof P.onUploadProgress&&ie.upload&&ie.upload.addEventListener("progress",P.onUploadProgress),P.cancelToken&&P.cancelToken.promise.then(function(Ee){!ie||(ie.abort(),ae(Ee),ie=null)}),se||(se=null),ie.send(se)})}},993:(fe,Ce,M)=>{"use strict";var E=M(104),v=M(787),L=M(260),F=M(42);function V(K){var U=new L(K),P=v(L.prototype.request,U);return E.extend(P,L.prototype,U),E.extend(P,U),P}var k=V(M(800));k.Axios=L,k.create=function(U){return V(F(k.defaults,U))},k.Cancel=M(535),k.CancelToken=M(348),k.isCancel=M(396),k.all=function(U){return Promise.all(U)},k.spread=M(91),k.isAxiosError=M(915),fe.exports=k,fe.exports.default=k},535:fe=>{"use strict";function Ce(M){this.message=M}Ce.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ce.prototype.__CANCEL__=!0,fe.exports=Ce},348:(fe,Ce,M)=>{"use strict";var E=M(535);function v(L){if("function"!=typeof L)throw new TypeError("executor must be a function.");var F;this.promise=new Promise(function(k){F=k});var R=this;L(function(k){R.reason||(R.reason=new E(k),F(R.reason))})}v.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},v.source=function(){var F;return{token:new v(function(k){F=k}),cancel:F}},fe.exports=v},396:fe=>{"use strict";fe.exports=function(M){return!(!M||!M.__CANCEL__)}},260:(fe,Ce,M)=>{"use strict";var E=M(104),v=M(304),L=M(307),F=M(303),R=M(42),V=M(190),k=V.validators;function K(U){this.defaults=U,this.interceptors={request:new L,response:new L}}K.prototype.request=function(P){"string"==typeof P?(P=arguments[1]||{}).url=arguments[0]:P=P||{},(P=R(this.defaults,P)).method=P.method?P.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var z=P.transitional;void 0!==z&&V.assertOptions(z,{silentJSONParsing:k.transitional(k.boolean,"1.0.0"),forcedJSONParsing:k.transitional(k.boolean,"1.0.0"),clarifyTimeoutError:k.transitional(k.boolean,"1.0.0")},!1);var ee=[],ae=!0;this.interceptors.request.forEach(function(be){"function"==typeof be.runWhen&&!1===be.runWhen(P)||(ae=ae&&be.synchronous,ee.unshift(be.fulfilled,be.rejected))});var q,se=[];if(this.interceptors.response.forEach(function(be){se.push(be.fulfilled,be.rejected)}),!ae){var le=[F,void 0];for(Array.prototype.unshift.apply(le,ee),le=le.concat(se),q=Promise.resolve(P);le.length;)q=q.then(le.shift(),le.shift());return q}for(var ie=P;ee.length;){var ue=ee.shift(),oe=ee.shift();try{ie=ue(ie)}catch(Se){oe(Se);break}}try{q=F(ie)}catch(Se){return Promise.reject(Se)}for(;se.length;)q=q.then(se.shift(),se.shift());return q},K.prototype.getUri=function(P){return P=R(this.defaults,P),v(P.url,P.params,P.paramsSerializer).replace(/^\?/,"")},E.forEach(["delete","get","head","options"],function(P){K.prototype[P]=function(z,ee){return this.request(R(ee||{},{method:P,url:z,data:(ee||{}).data}))}}),E.forEach(["post","put","patch"],function(P){K.prototype[P]=function(z,ee,ae){return this.request(R(ae||{},{method:P,url:z,data:ee}))}}),fe.exports=K},307:(fe,Ce,M)=>{"use strict";var E=M(104);function v(){this.handlers=[]}v.prototype.use=function(F,R,V){return this.handlers.push({fulfilled:F,rejected:R,synchronous:!!V&&V.synchronous,runWhen:V?V.runWhen:null}),this.handlers.length-1},v.prototype.eject=function(F){this.handlers[F]&&(this.handlers[F]=null)},v.prototype.forEach=function(F){E.forEach(this.handlers,function(V){null!==V&&F(V)})},fe.exports=v},459:(fe,Ce,M)=>{"use strict";var E=M(191),v=M(294);fe.exports=function(F,R){return F&&!E(R)?v(F,R):R}},440:(fe,Ce,M)=>{"use strict";var E=M(521);fe.exports=function(L,F,R,V,k){var K=new Error(L);return E(K,F,R,V,k)}},303:(fe,Ce,M)=>{"use strict";var E=M(104),v=M(70),L=M(396),F=M(800);function R(V){V.cancelToken&&V.cancelToken.throwIfRequested()}fe.exports=function(k){return R(k),k.headers=k.headers||{},k.data=v.call(k,k.data,k.headers,k.transformRequest),k.headers=E.merge(k.headers.common||{},k.headers[k.method]||{},k.headers),E.forEach(["delete","get","head","post","put","patch","common"],function(P){delete k.headers[P]}),(k.adapter||F.adapter)(k).then(function(P){return R(k),P.data=v.call(k,P.data,P.headers,k.transformResponse),P},function(P){return L(P)||(R(k),P&&P.response&&(P.response.data=v.call(k,P.response.data,P.response.headers,k.transformResponse))),Promise.reject(P)})}},521:fe=>{"use strict";fe.exports=function(M,E,v,L,F){return M.config=E,v&&(M.code=v),M.request=L,M.response=F,M.isAxiosError=!0,M.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},M}},42:(fe,Ce,M)=>{"use strict";var E=M(104);fe.exports=function(L,F){F=F||{};var R={},V=["url","method","data"],k=["headers","auth","proxy","params"],K=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],U=["validateStatus"];function P(se,q){return E.isPlainObject(se)&&E.isPlainObject(q)?E.merge(se,q):E.isPlainObject(q)?E.merge({},q):E.isArray(q)?q.slice():q}function z(se){E.isUndefined(F[se])?E.isUndefined(L[se])||(R[se]=P(void 0,L[se])):R[se]=P(L[se],F[se])}E.forEach(V,function(q){E.isUndefined(F[q])||(R[q]=P(void 0,F[q]))}),E.forEach(k,z),E.forEach(K,function(q){E.isUndefined(F[q])?E.isUndefined(L[q])||(R[q]=P(void 0,L[q])):R[q]=P(void 0,F[q])}),E.forEach(U,function(q){q in F?R[q]=P(L[q],F[q]):q in L&&(R[q]=P(void 0,L[q]))});var ee=V.concat(k).concat(K).concat(U),ae=Object.keys(L).concat(Object.keys(F)).filter(function(q){return-1===ee.indexOf(q)});return E.forEach(ae,z),R}},288:(fe,Ce,M)=>{"use strict";var E=M(440);fe.exports=function(L,F,R){var V=R.config.validateStatus;R.status&&V&&!V(R.status)?F(E("Request failed with status code "+R.status,R.config,null,R.request,R)):L(R)}},70:(fe,Ce,M)=>{"use strict";var E=M(104),v=M(800);fe.exports=function(F,R,V){var k=this||v;return E.forEach(V,function(U){F=U.call(k,F,R)}),F}},800:(fe,Ce,M)=>{"use strict";var E=M(104),v=M(15),L=M(521),F={"Content-Type":"application/x-www-form-urlencoded"};function R(U,P){!E.isUndefined(U)&&E.isUndefined(U["Content-Type"])&&(U["Content-Type"]=P)}var K={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function V(){var U;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(U=M(582)),U}(),transformRequest:[function(P,z){return v(z,"Accept"),v(z,"Content-Type"),E.isFormData(P)||E.isArrayBuffer(P)||E.isBuffer(P)||E.isStream(P)||E.isFile(P)||E.isBlob(P)?P:E.isArrayBufferView(P)?P.buffer:E.isURLSearchParams(P)?(R(z,"application/x-www-form-urlencoded;charset=utf-8"),P.toString()):E.isObject(P)||z&&"application/json"===z["Content-Type"]?(R(z,"application/json"),function k(U,P,z){if(E.isString(U))try{return(P||JSON.parse)(U),E.trim(U)}catch(ee){if("SyntaxError"!==ee.name)throw ee}return(z||JSON.stringify)(U)}(P)):P}],transformResponse:[function(P){var z=this.transitional,se=!(z&&z.silentJSONParsing)&&"json"===this.responseType;if(se||z&&z.forcedJSONParsing&&E.isString(P)&&P.length)try{return JSON.parse(P)}catch(q){if(se)throw"SyntaxError"===q.name?L(q,this,"E_JSON_PARSE"):q}return P}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(P){return P>=200&&P<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};E.forEach(["delete","get","head"],function(P){K.headers[P]={}}),E.forEach(["post","put","patch"],function(P){K.headers[P]=E.merge(F)}),fe.exports=K},787:fe=>{"use strict";fe.exports=function(M,E){return function(){for(var L=new Array(arguments.length),F=0;F<L.length;F++)L[F]=arguments[F];return M.apply(E,L)}}},304:(fe,Ce,M)=>{"use strict";var E=M(104);function v(L){return encodeURIComponent(L).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}fe.exports=function(F,R,V){if(!R)return F;var k;if(V)k=V(R);else if(E.isURLSearchParams(R))k=R.toString();else{var K=[];E.forEach(R,function(z,ee){null==z||(E.isArray(z)?ee+="[]":z=[z],E.forEach(z,function(se){E.isDate(se)?se=se.toISOString():E.isObject(se)&&(se=JSON.stringify(se)),K.push(v(ee)+"="+v(se))}))}),k=K.join("&")}if(k){var U=F.indexOf("#");-1!==U&&(F=F.slice(0,U)),F+=(-1===F.indexOf("?")?"?":"&")+k}return F}},294:fe=>{"use strict";fe.exports=function(M,E){return E?M.replace(/\/+$/,"")+"/"+E.replace(/^\/+/,""):M}},169:(fe,Ce,M)=>{"use strict";var E=M(104);fe.exports=E.isStandardBrowserEnv()?{write:function(F,R,V,k,K,U){var P=[];P.push(F+"="+encodeURIComponent(R)),E.isNumber(V)&&P.push("expires="+new Date(V).toGMTString()),E.isString(k)&&P.push("path="+k),E.isString(K)&&P.push("domain="+K),!0===U&&P.push("secure"),document.cookie=P.join("; ")},read:function(F){var R=document.cookie.match(new RegExp("(^|;\\s*)("+F+")=([^;]*)"));return R?decodeURIComponent(R[3]):null},remove:function(F){this.write(F,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},191:fe=>{"use strict";fe.exports=function(M){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(M)}},915:fe=>{"use strict";fe.exports=function(M){return"object"==typeof M&&!0===M.isAxiosError}},810:(fe,Ce,M)=>{"use strict";var E=M(104);fe.exports=E.isStandardBrowserEnv()?function(){var R,L=/(msie|trident)/i.test(navigator.userAgent),F=document.createElement("a");function V(k){var K=k;return L&&(F.setAttribute("href",K),K=F.href),F.setAttribute("href",K),{href:F.href,protocol:F.protocol?F.protocol.replace(/:$/,""):"",host:F.host,search:F.search?F.search.replace(/^\?/,""):"",hash:F.hash?F.hash.replace(/^#/,""):"",hostname:F.hostname,port:F.port,pathname:"/"===F.pathname.charAt(0)?F.pathname:"/"+F.pathname}}return R=V(window.location.href),function(K){var U=E.isString(K)?V(K):K;return U.protocol===R.protocol&&U.host===R.host}}():function(){return!0}},15:(fe,Ce,M)=>{"use strict";var E=M(104);fe.exports=function(L,F){E.forEach(L,function(V,k){k!==F&&k.toUpperCase()===F.toUpperCase()&&(L[F]=V,delete L[k])})}},160:(fe,Ce,M)=>{"use strict";var E=M(104),v=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];fe.exports=function(F){var V,k,K,R={};return F&&E.forEach(F.split("\n"),function(P){if(K=P.indexOf(":"),V=E.trim(P.substr(0,K)).toLowerCase(),k=E.trim(P.substr(K+1)),V){if(R[V]&&v.indexOf(V)>=0)return;R[V]="set-cookie"===V?(R[V]?R[V]:[]).concat([k]):R[V]?R[V]+", "+k:k}}),R}},91:fe=>{"use strict";fe.exports=function(M){return function(v){return M.apply(null,v)}}},190:(fe,Ce,M)=>{"use strict";var E=M(843),v={};["object","boolean","number","function","string","symbol"].forEach(function(k,K){v[k]=function(P){return typeof P===k||"a"+(K<1?"n ":" ")+k}});var L={},F=E.version.split(".");function R(k,K){for(var U=K?K.split("."):F,P=k.split("."),z=0;z<3;z++){if(U[z]>P[z])return!0;if(U[z]<P[z])return!1}return!1}v.transitional=function(K,U,P){var z=U&&R(U);function ee(ae,se){return"[Axios v"+E.version+"] Transitional option '"+ae+"'"+se+(P?". "+P:"")}return function(ae,se,q){if(!1===K)throw new Error(ee(se," has been removed in "+U));return z&&!L[se]&&(L[se]=!0,console.warn(ee(se," has been deprecated since v"+U+" and will be removed in the near future"))),!K||K(ae,se,q)}},fe.exports={isOlderVersion:R,assertOptions:function V(k,K,U){if("object"!=typeof k)throw new TypeError("options must be an object");for(var P=Object.keys(k),z=P.length;z-- >0;){var ee=P[z],ae=K[ee];if(ae){var se=k[ee],q=void 0===se||ae(se,ee,k);if(!0!==q)throw new TypeError("option "+ee+" must be "+q)}else if(!0!==U)throw Error("Unknown option "+ee)}},validators:v}},104:(fe,Ce,M)=>{"use strict";var E=M(787),v=Object.prototype.toString;function L(W){return"[object Array]"===v.call(W)}function F(W){return void 0===W}function z(W){return null!==W&&"object"==typeof W}function ee(W){if("[object Object]"!==v.call(W))return!1;var nt=Object.getPrototypeOf(W);return null===nt||nt===Object.prototype}function le(W){return"[object Function]"===v.call(W)}function be(W,nt){if(null!=W)if("object"!=typeof W&&(W=[W]),L(W))for(var At=0,Cn=W.length;At<Cn;At++)nt.call(null,W[At],At,W);else for(var Yt in W)Object.prototype.hasOwnProperty.call(W,Yt)&&nt.call(null,W[Yt],Yt,W)}fe.exports={isArray:L,isArrayBuffer:function V(W){return"[object ArrayBuffer]"===v.call(W)},isBuffer:function R(W){return null!==W&&!F(W)&&null!==W.constructor&&!F(W.constructor)&&"function"==typeof W.constructor.isBuffer&&W.constructor.isBuffer(W)},isFormData:function k(W){return"undefined"!=typeof FormData&&W instanceof FormData},isArrayBufferView:function K(W){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(W):W&&W.buffer&&W.buffer instanceof ArrayBuffer},isString:function U(W){return"string"==typeof W},isNumber:function P(W){return"number"==typeof W},isObject:z,isPlainObject:ee,isUndefined:F,isDate:function ae(W){return"[object Date]"===v.call(W)},isFile:function se(W){return"[object File]"===v.call(W)},isBlob:function q(W){return"[object Blob]"===v.call(W)},isFunction:le,isStream:function ie(W){return z(W)&&le(W.pipe)},isURLSearchParams:function ue(W){return"undefined"!=typeof URLSearchParams&&W instanceof URLSearchParams},isStandardBrowserEnv:function Se(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:be,merge:function Qe(){var W={};function nt(Yt,nn){W[nn]=ee(W[nn])&&ee(Yt)?Qe(W[nn],Yt):ee(Yt)?Qe({},Yt):L(Yt)?Yt.slice():Yt}for(var At=0,Cn=arguments.length;At<Cn;At++)be(arguments[At],nt);return W},extend:function Ze(W,nt,At){return be(nt,function(Yt,nn){W[nn]=At&&"function"==typeof Yt?E(Yt,At):Yt}),W},trim:function oe(W){return W.trim?W.trim():W.replace(/^\s+|\s+$/g,"")},stripBOM:function Ee(W){return 65279===W.charCodeAt(0)&&(W=W.slice(1)),W}}},74:function(fe){"undefined"!=typeof self&&self,fe.exports=function(Ce){var M={};function E(v){if(M[v])return M[v].exports;var L=M[v]={i:v,l:!1,exports:{}};return Ce[v].call(L.exports,L,L.exports,E),L.l=!0,L.exports}return E.m=Ce,E.c=M,E.d=function(v,L,F){E.o(v,L)||Object.defineProperty(v,L,{configurable:!1,enumerable:!0,get:F})},E.n=function(v){var L=v&&v.__esModule?function(){return v.default}:function(){return v};return E.d(L,"a",L),L},E.o=function(v,L){return Object.prototype.hasOwnProperty.call(v,L)},E.p="",E(E.s=7)}([function(Ce,M,E){"use strict";E.d(M,"j",function(){return L}),E.d(M,"d",function(){return R}),E.d(M,"c",function(){return V}),E.d(M,"h",function(){return k}),E.d(M,"b",function(){return K}),E.d(M,"k",function(){return U}),E.d(M,"e",function(){return P}),E.d(M,"g",function(){return z}),E.d(M,"i",function(){return ee}),E.d(M,"a",function(){return ae}),E.d(M,"f",function(){return se});var v=E(1),L=U(function(q,le){var ie=le.length;return U(function(ue){for(var oe=0;oe<ue.length;oe++)le[ie+oe]=ue[oe];return le.length=ie+ue.length,q.apply(this,le)})});function R(q,le){return function(){return q.call(this,le.apply(this,arguments))}}function V(q){return function(le){return le[q]}}U(function(q){var le=Object(v.c)(q);function ie(ue,oe){return[K(ue,oe)]}return U(function(ue){return Object(v.f)(ie,ue,le)[0]})});var k=U(function(q){return U(function(le){for(var ie,ue=0;ue<V("length")(q);ue++)if(ie=K(le,q[ue]))return ie})});function K(q,le){return le.apply(void 0,q)}function U(q){var le=q.length-1,ie=Array.prototype.slice;if(0===le)return function(){return q.call(this,ie.call(arguments))};if(1===le)return function(){return q.call(this,arguments[0],ie.call(arguments,1))};var ue=Array(q.length);return function(){for(var oe=0;oe<le;oe++)ue[oe]=arguments[oe];return ue[le]=ie.call(arguments,le),q.apply(this,ue)}}function P(q){return function(le,ie){return q(ie,le)}}function z(q,le){return function(ie){return q(ie)&&le(ie)}}function ee(){}function ae(){return!0}function se(q){return function(){return q}}},function(Ce,M,E){"use strict";E.d(M,"d",function(){return L}),E.d(M,"g",function(){return R}),E.d(M,"l",function(){return V}),E.d(M,"c",function(){return k}),E.d(M,"h",function(){return K}),E.d(M,"i",function(){return U}),E.d(M,"j",function(){return P}),E.d(M,"f",function(){return z}),E.d(M,"m",function(){return ae}),E.d(M,"a",function(){return se}),E.d(M,"b",function(){return q}),E.d(M,"k",function(){return le}),E.d(M,"e",function(){return ie});var v=E(0);function L(ue,oe){return[ue,oe]}var F=null,R=Object(v.c)(0),V=Object(v.c)(1);function k(ue){return le(ue.reduce(Object(v.e)(L),F))}var K=Object(v.k)(k);function U(ue){return z(function(oe,Se){return oe.unshift(Se),oe},[],ue)}function P(ue,oe){return oe?L(ue(R(oe)),P(ue,V(oe))):F}function z(ue,oe,Se){return Se?ue(z(ue,oe,V(Se)),R(Se)):oe}function ae(ue,oe,Se){return function be(Qe,Ze){return Qe?oe(R(Qe))?(Ze(R(Qe)),V(Qe)):L(R(Qe),be(V(Qe),Ze)):F}(ue,Se||v.i)}function se(ue,oe){return!oe||ue(R(oe))&&se(ue,V(oe))}function q(ue,oe){ue&&(R(ue).apply(null,oe),q(V(ue),oe))}function le(ue){return function oe(Se,be){return Se?oe(V(Se),L(R(Se),be)):be}(ue,F)}function ie(ue,oe){return oe&&(ue(R(oe))?R(oe):ie(ue,V(oe)))}},function(Ce,M,E){"use strict";E.d(M,"c",function(){return F}),E.d(M,"e",function(){return R}),E.d(M,"d",function(){return V}),E.d(M,"a",function(){return k}),E.d(M,"b",function(){return K});var v=E(1),L=E(0);function F(U,P){return P&&P.constructor===U}var R=Object(L.c)("length"),V=Object(L.j)(F,String);function k(U){return void 0!==U}function K(U,P){return P instanceof Object&&Object(v.a)(function(z){return z in P},U)}},function(Ce,M,E){"use strict";E.d(M,"f",function(){return L}),E.d(M,"d",function(){return F}),E.d(M,"g",function(){return R}),E.d(M,"e",function(){return V}),E.d(M,"b",function(){return k}),E.d(M,"h",function(){return K}),E.d(M,"i",function(){return U}),E.d(M,"c",function(){return P}),E.d(M,"m",function(){return z}),E.d(M,"n",function(){return ee}),E.d(M,"a",function(){return ae}),E.d(M,"j",function(){return se}),E.d(M,"l",function(){return q}),E.d(M,"k",function(){return le}),E.d(M,"o",function(){return ie});var v=1,L=v++,F=v++,R=v++,V=v++,k="fail",K=v++,U=v++,P="start",z="data",ee="end",ae=v++,se=v++,q=v++,le=v++;function ie(ue,oe,Se){try{var be=JSON.parse(oe)}catch(Qe){}return{statusCode:ue,body:oe,jsonBody:be,thrown:Se}}},function(Ce,M,E){"use strict";E.d(M,"b",function(){return L}),E.d(M,"a",function(){return F}),E.d(M,"c",function(){return R});var v=E(0);function L(V,k){return{key:V,node:k}}var F=Object(v.c)("key"),R=Object(v.c)("node")},function(Ce,M,E){"use strict";E.d(M,"a",function(){return k});var v=E(1),L=E(0),F=E(2),R=E(8),V=E(9);function k(K){var U=Object(v.h)("resume","pause","pipe"),P=Object(L.j)(F.b,U);return K?P(K)||Object(F.d)(K)?Object(R.a)(V.a,K):Object(R.a)(V.a,K.url,K.method,K.body,K.headers,K.withCredentials,K.cached):Object(V.a)()}k.drop=function(){return k.drop}},function(Ce,M,E){"use strict";E.d(M,"b",function(){return k}),E.d(M,"a",function(){return V});var v=E(3),L=E(4),F=E(2),R=E(1),V={};function k(K){var U=K(v.f).emit,P=K(v.d).emit,z=K(v.i).emit,ee=K(v.h).emit;function q(oe,Se,be){Object(L.c)(Object(R.g)(oe))[Se]=be}function le(oe,Se,be){oe&&q(oe,Se,be);var Qe=Object(R.d)(Object(L.b)(Se,be),oe);return U(Qe),Qe}var ue={};return ue[v.l]=function se(oe,Se){if(!oe)return z(Se),le(oe,V,Se);var be=function ae(oe,Se){var be=Object(L.c)(Object(R.g)(oe));return Object(F.c)(Array,be)?le(oe,Object(F.e)(be),Se):oe}(oe,Se),Qe=Object(R.l)(be),Ze=Object(L.a)(Object(R.g)(be));return q(Qe,Ze,Se),Object(R.d)(Object(L.b)(Ze,Se),Qe)},ue[v.k]=function ie(oe){return P(oe),Object(R.l)(oe)||ee(Object(L.c)(Object(R.g)(oe)))},ue[v.j]=le,ue}},function(Ce,M,E){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var v=E(5);M.default=v.a},function(Ce,M,E){"use strict";E.d(M,"a",function(){return L});var v=E(2);function L(F,R,V,k,K,U,P){return K=K?JSON.parse(JSON.stringify(K)):{},k?(Object(v.d)(k)||(k=JSON.stringify(k),K["Content-Type"]=K["Content-Type"]||"application/json"),K["Content-Length"]=K["Content-Length"]||k.length):k=null,F(V||"GET",function z(ee,ae){return!1===ae&&(-1===ee.indexOf("?")?ee+="?":ee+="&",ee+="_="+(new Date).getTime()),ee}(R,P),k,K,U||!1)}},function(Ce,M,E){"use strict";E.d(M,"a",function(){return P});var v=E(10),L=E(12),F=E(6),R=E(13),V=E(14),k=E(16),K=E(17),U=E(18);function P(z,ee,ae,se,q){var le=Object(v.a)();return ee&&Object(U.b)(le,Object(U.a)(),z,ee,ae,se,q),Object(K.a)(le),Object(L.a)(le,Object(F.b)(le)),Object(R.a)(le,V.a),Object(k.a)(le,ee)}},function(Ce,M,E){"use strict";E.d(M,"a",function(){return F});var v=E(11),L=E(0);function F(){var R={},V=K("newListener"),k=K("removeListener");function K(P){return R[P]=Object(v.a)(P,V,k),R[P]}function U(P){return R[P]||K(P)}return["emit","on","un"].forEach(function(P){U[P]=Object(L.k)(function(z,ee){Object(L.b)(ee,U(z)[P])})}),U}},function(Ce,M,E){"use strict";E.d(M,"a",function(){return R});var v=E(1),L=E(2),F=E(0);function R(V,k,K){var U,P;function z(ee){return function(ae){return ae.id===ee}}return{on:function(ee,ae){var se={listener:ee,id:ae||ee};return k&&k.emit(V,ee,se.id),U=Object(v.d)(se,U),P=Object(v.d)(ee,P),this},emit:function(){Object(v.b)(P,arguments)},un:function(ee){var ae;U=Object(v.m)(U,z(ee),function(se){ae=se}),ae&&(P=Object(v.m)(P,function(se){return se===ae.listener}),K&&K.emit(V,ae.listener,ae.id))},listeners:function(){return P},hasListener:function(ee){var ae=ee?z(ee):F.a;return Object(L.a)(Object(v.e)(ae,U))}}}},function(Ce,M,E){"use strict";E.d(M,"a",function(){return R});var v=E(4),L=E(3),F=E(1);function R(V,k){var U,K={};function P(ee){return function(ae){U=ee(U,ae)}}for(var z in k)V(z).on(P(k[z]),K);V(L.g).on(function(ee){var ae=Object(F.g)(U),se=Object(v.a)(ae),q=Object(F.l)(U);q&&(Object(v.c)(Object(F.g)(q))[se]=ee)}),V(L.e).on(function(){var ee=Object(F.g)(U),ae=Object(v.a)(ee),se=Object(F.l)(U);se&&delete Object(v.c)(Object(F.g)(se))[ae]}),V(L.a).on(function(){for(var ee in k)V(ee).un(K)})}},function(Ce,M,E){"use strict";E.d(M,"a",function(){return R});var v=E(3),L=E(1),F=E(4);function R(V,k){var K={node:V(v.d),path:V(v.f)};function P(z,ee,ae){var se=V(z).emit;ee.on(function(q){var le=ae(q);!1!==le&&function U(z,ee,ae){var se=Object(L.k)(ae);z(ee,Object(L.i)(Object(L.l)(Object(L.j)(F.a,se))),Object(L.i)(Object(L.j)(F.c,se)))}(se,Object(F.c)(le),q)},z),V("removeListener").on(function(q){q===z&&(V(q).listeners()||ee.un(z))})}V("newListener").on(function(z){var ee=/(node|path):(.*)/.exec(z);if(ee){var ae=K[ee[1]];ae.hasListener(z)||P(z,ae,k(ee[2]))}})}},function(Ce,M,E){"use strict";E.d(M,"a",function(){return K});var v=E(0),L=E(1),F=E(4),R=E(2),V=E(6),k=E(15),K=Object(k.a)(function(U,P,z,ee,ae){var ie=Object(v.d)(F.a,L.g),ue=Object(v.d)(F.c,L.g);function be(it,Ae){return Ae[1]?Object(v.g)(it,L.g):it}function Qe(it){if(it===v.a)return v.a;return Object(v.g)(function Ae(pt){return ie(pt)!==V.a},Object(v.d)(it,L.l))}function Ee(){return function(it){return ie(it)===V.a}}function At(it,Ae,pt,te,vn){var Pe=it(pt);if(Pe){var Be=function nt(it,Ae,pt){return Object(L.f)(function(te,vn){return vn(te,pt)},Ae,it)}(Ae,te,Pe);return vn(pt.substr(Object(R.e)(Pe[0])),Be)}}function Cn(it,Ae){return Object(v.j)(At,it,Ae)}var Yt=Object(v.h)(Cn(U,Object(L.h)(be,function Se(it,Ae){var pt=Ae[3];if(!pt)return it;var te=Object(v.j)(R.b,Object(L.c)(pt.split(/\W+/))),vn=Object(v.d)(te,ue);return Object(v.g)(vn,it)},function oe(it,Ae){var pt=Ae[2],te=pt&&"*"!==pt?function(vn){return String(ie(vn))===pt}:v.a;return Object(v.g)(te,it)},Qe)),Cn(P,Object(L.h)(function Ze(it){if(it===v.a)return v.a;var Ae=Ee(),pt=it,te=Qe(function(Pe){return vn(Pe)}),vn=Object(v.h)(Ae,pt,te);return vn})),Cn(z,Object(L.h)()),Cn(ee,Object(L.h)(be,Ee)),Cn(ae,Object(L.h)(function W(it){return function(Ae){var pt=it(Ae);return!0===pt?Object(L.g)(Ae):pt}})),function(it){throw Error('"'+it+'" could not be tokenised')});function nn(it,Ae){return Ae}function La(it,Ae){return Yt(it,Ae,it?La:nn)}return function(it){try{return La(it,v.a)}catch(Ae){throw Error('Could not compile "'+it+'" because '+Ae.message)}}})},function(Ce,M,E){"use strict";E.d(M,"a",function(){return L});var F,R,V,K,U,P,z,ee,ae,se,q,le,ie,ue,oe,Se,v=E(0),L=(F=function(Qe){return Qe.exec.bind(Qe)},R=Object(v.k)(function(be){return be.unshift(/^/),F(RegExp(be.map(Object(v.c)("source")).join("")))}),K=/()/,U=/\["([^"]+)"\]/,P=/\[(\d+|\*)\]/,z=/{([\w ]*?)}/,ae=R(V=/(\$?)/,/([\w-_]+|\*)/,ee=/(?:{([\w ]*?)})?/),se=R(V,U,ee),q=R(V,P,ee),le=R(V,K,z),ie=R(/\.\./),ue=R(/\./),oe=R(V,/!/),Se=R(/$/),function(be){return be(Object(v.h)(ae,se,q,le),ie,ue,oe,Se)})},function(Ce,M,E){"use strict";E.d(M,"a",function(){return V});var v=E(3),L=E(0),F=E(2),R=E(5);function V(k,K){var U,P=/^(node|path):./,z=k(v.h),ee=k(v.e).emit,ae=k(v.g).emit,se=Object(L.k)(function(Ee,W){if(U[Ee])Object(L.b)(W,U[Ee]);else{var nt=k(Ee),At=W[0];P.test(Ee)?ie(nt,Se(At)):nt.on(At)}return U});function ie(Ee,W,nt){nt=nt||W;var At=ue(W);return Ee.on(function(){var Cn=!1;U.forget=function(){Cn=!0},Object(L.b)(arguments,At),delete U.forget,Cn&&Ee.un(nt)},nt),U}function ue(Ee){return function(){try{return Ee.apply(U,arguments)}catch(W){setTimeout(function(){throw new Error(W.message)})}}}function Se(Ee){return function(){var W=Ee.apply(this,arguments);Object(F.a)(W)&&(W===R.a.drop?ee():ae(W))}}function be(Ee,W,nt){var At;At="node"===Ee?Se(nt):nt,ie(function oe(Ee,W){return k(Ee+":"+W)}(Ee,W),At,nt)}function Ze(Ee,W,nt){return Object(F.d)(W)?be(Ee,W,nt):function Qe(Ee,W){for(var nt in W)be(Ee,nt,W[nt])}(Ee,W),U}return k(v.i).on(function(Ee){U.root=Object(L.f)(Ee)}),k(v.c).on(function(Ee,W){U.header=function(nt){return nt?W[nt]:W}}),U={on:se,addListener:se,removeListener:function(Ee,W,nt){if("done"===Ee)z.un(W);else if("node"===Ee||"path"===Ee)k.un(Ee+":"+W,nt);else{var At=W;k(Ee).un(At)}return U},emit:k.emit,node:Object(L.j)(Ze,"node"),path:Object(L.j)(Ze,"path"),done:Object(L.j)(ie,z),start:Object(L.j)(function le(Ee,W){return k(Ee).on(ue(W),W),U},v.c),fail:k(v.b).on,abort:k(v.a).emit,header:L.i,root:L.i,source:K}}},function(Ce,M,E){"use strict";E.d(M,"a",function(){return L});var v=E(3);function L(F){var pt,te,vn,Pe,R=F(v.j).emit,V=F(v.l).emit,k=F(v.k).emit,K=F(v.b).emit,U=65536,P=/[\\"\n]/g,z=0,ee=z++,ae=z++,se=z++,q=z++,le=z++,ie=z++,ue=z++,oe=z++,Se=z++,be=z++,Qe=z++,Ze=z++,Ee=z++,W=z++,nt=z++,At=z++,Cn=z++,Yt=z++,nn=z++,La=z++,Ae=U,Be="",Si=!1,Lo=!1,ve=ee,st=[],Ba=null,ct=0,dr=0,Kl=0,Ji=0,Bo=1;function _t(Rt){void 0!==Pe&&(V(Pe),k(),Pe=void 0),pt=Error(Rt+"\nLn: "+Bo+"\nCol: "+Ji+"\nChr: "+te),K(Object(v.o)(void 0,void 0,pt))}function ro(Rt){return"\r"===Rt||"\n"===Rt||" "===Rt||"\t"===Rt}F(v.m).on(function Ai(Rt){if(!pt){if(Lo)return _t("Cannot write after close");var On=0;for(te=Rt[0];te&&(On>0&&(vn=te),te=Rt[On++]);)switch(Kl++,"\n"===te?(Bo++,Ji=0):Ji++,ve){case ee:if("{"===te)ve=se;else if("["===te)ve=le;else if(!ro(te))return _t("Non-whitespace before {[.");continue;case oe:case se:if(ro(te))continue;if(ve===oe)st.push(Se);else{if("}"===te){V({}),k(),ve=st.pop()||ae;continue}st.push(q)}if('"'!==te)return _t('Malformed object key should start with " ');ve=ue;continue;case Se:case q:if(ro(te))continue;if(":"===te)ve===q?(st.push(q),void 0!==Pe&&(V({}),R(Pe),Pe=void 0),dr++):void 0!==Pe&&(R(Pe),Pe=void 0),ve=ae;else if("}"===te)void 0!==Pe&&(V(Pe),k(),Pe=void 0),k(),dr--,ve=st.pop()||ae;else{if(","!==te)return _t("Bad object");ve===q&&st.push(q),void 0!==Pe&&(V(Pe),k(),Pe=void 0),ve=oe}continue;case le:case ae:if(ro(te))continue;if(ve===le){if(V([]),dr++,ve=ae,"]"===te){k(),dr--,ve=st.pop()||ae;continue}st.push(ie)}if('"'===te)ve=ue;else if("{"===te)ve=se;else if("["===te)ve=le;else if("t"===te)ve=be;else if("f"===te)ve=Ee;else if("n"===te)ve=Cn;else if("-"===te)Be+=te;else if("0"===te)Be+=te,ve=20;else{if(-1==="123456789".indexOf(te))return _t("Bad value");Be+=te,ve=20}continue;case ie:if(","===te)st.push(ie),void 0!==Pe&&(V(Pe),k(),Pe=void 0),ve=ae;else{if("]"!==te){if(ro(te))continue;return _t("Bad array")}void 0!==Pe&&(V(Pe),k(),Pe=void 0),k(),dr--,ve=st.pop()||ae}continue;case ue:void 0===Pe&&(Pe="");var Sr=On-1;e:for(;;){for(;ct>0;)if(Ba+=te,te=Rt.charAt(On++),4===ct?(Pe+=String.fromCharCode(parseInt(Ba,16)),ct=0,Sr=On-1):ct++,!te)break e;if('"'===te&&!Si){ve=st.pop()||ae,Pe+=Rt.substring(Sr,On-1);break}if(!("\\"!==te||Si||(Si=!0,Pe+=Rt.substring(Sr,On-1),te=Rt.charAt(On++))))break;if(Si){if(Si=!1,"n"===te?Pe+="\n":"r"===te?Pe+="\r":"t"===te?Pe+="\t":"f"===te?Pe+="\f":"b"===te?Pe+="\b":"u"===te?(ct=1,Ba=""):Pe+=te,te=Rt.charAt(On++),Sr=On-1,te)continue;break}P.lastIndex=On;var tr=P.exec(Rt);if(!tr){Pe+=Rt.substring(Sr,(On=Rt.length+1)-1);break}if(On=tr.index+1,!(te=Rt.charAt(tr.index))){Pe+=Rt.substring(Sr,On-1);break}}continue;case be:if(!te)continue;if("r"!==te)return _t("Invalid true started with t"+te);ve=Qe;continue;case Qe:if(!te)continue;if("u"!==te)return _t("Invalid true started with tr"+te);ve=Ze;continue;case Ze:if(!te)continue;if("e"!==te)return _t("Invalid true started with tru"+te);V(!0),k(),ve=st.pop()||ae;continue;case Ee:if(!te)continue;if("a"!==te)return _t("Invalid false started with f"+te);ve=W;continue;case W:if(!te)continue;if("l"!==te)return _t("Invalid false started with fa"+te);ve=nt;continue;case nt:if(!te)continue;if("s"!==te)return _t("Invalid false started with fal"+te);ve=At;continue;case At:if(!te)continue;if("e"!==te)return _t("Invalid false started with fals"+te);V(!1),k(),ve=st.pop()||ae;continue;case Cn:if(!te)continue;if("u"!==te)return _t("Invalid null started with n"+te);ve=Yt;continue;case Yt:if(!te)continue;if("l"!==te)return _t("Invalid null started with nu"+te);ve=nn;continue;case nn:if(!te)continue;if("l"!==te)return _t("Invalid null started with nul"+te);V(null),k(),ve=st.pop()||ae;continue;case La:if("."!==te)return _t("Leading zero not followed by .");Be+=te,ve=20;continue;case 20:if(-1!=="0123456789".indexOf(te))Be+=te;else if("."===te){if(-1!==Be.indexOf("."))return _t("Invalid number has two dots");Be+=te}else if("e"===te||"E"===te){if(-1!==Be.indexOf("e")||-1!==Be.indexOf("E"))return _t("Invalid number has two exponential");Be+=te}else if("+"===te||"-"===te){if("e"!==vn&&"E"!==vn)return _t("Invalid symbol in number");Be+=te}else Be&&(V(parseFloat(Be)),k(),Be=""),On--,ve=st.pop()||ae;continue;default:return _t("Unknown state: "+ve)}Kl>=Ae&&function Rc(){var Rt=0;void 0!==Pe&&Pe.length>U&&(_t("Max buffer length exceeded: textNode"),Rt=Math.max(Rt,Pe.length)),Be.length>U&&(_t("Max buffer length exceeded: numberNode"),Rt=Math.max(Rt,Be.length)),Ae=U-Rt+Kl}()}}),F(v.n).on(function Vo(){if(ve===ee)return V({}),k(),void(Lo=!0);(ve!==ae||0!==dr)&&_t("Unexpected end"),void 0!==Pe&&(V(Pe),k(),Pe=void 0),Lo=!0})}},function(Ce,M,E){"use strict";E.d(M,"a",function(){return k}),E.d(M,"b",function(){return K});var v=E(19),L=E(3),F=E(2),R=E(20),V=E(0);function k(){return new XMLHttpRequest}function K(U,P,z,ee,ae,se,q){var le=U(L.m).emit,ie=U(L.b).emit,ue=0,oe=!0;function Se(){if("2"===String(P.status)[0]){var Ze=P.responseText,Ee=(" "+Ze.substr(ue)).substr(1);Ee&&le(Ee),ue=Object(F.e)(Ze)}}function be(Ze){try{oe&&U(L.c).emit(Ze.status,Object(R.a)(Ze.getAllResponseHeaders())),oe=!1}catch(Ee){}}U(L.a).on(function(){P.onreadystatechange=null,P.abort()}),"onprogress"in P&&(P.onprogress=Se),P.onreadystatechange=function(){switch(P.readyState){case 2:case 3:return be(P);case 4:be(P),"2"===String(P.status)[0]?(Se(),U(L.n).emit()):ie(Object(L.o)(P.status,P.responseText))}};try{for(var Qe in P.open(z,ee,!0),se)P.setRequestHeader(Qe,se[Qe]);Object(v.a)(window.location,Object(v.b)(ee))||P.setRequestHeader("X-Requested-With","XMLHttpRequest"),P.withCredentials=q,P.send(ae)}catch(Ze){window.setTimeout(Object(V.j)(ie,Object(L.o)(void 0,void 0,Ze)),0)}}},function(Ce,M,E){"use strict";function v(F,R){function k(K){return String(K.port||function V(K){return{"http:":80,"https:":443}[K]}(K.protocol||F.protocol))}return!!(R.protocol&&R.protocol!==F.protocol||R.host&&R.host!==F.host||R.host&&k(R)!==k(F))}function L(F){var V=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(F)||[];return{protocol:V[1]||"",host:V[2]||"",port:V[3]||""}}E.d(M,"a",function(){return v}),E.d(M,"b",function(){return L})},function(Ce,M,E){"use strict";function v(L){var F={};return L&&L.split("\r\n").forEach(function(R){var V=R.indexOf(": ");F[R.substring(0,V)]=R.substring(V+2)}),F}E.d(M,"a",function(){return v})}]).default},843:fe=>{"use strict";fe.exports=JSON.parse('{"_from":"axios@^0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.4","name":"axios","escapedName":"axios","rawSpec":"^0.21.4","saveSpec":null,"fetchSpec":"^0.21.4"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.4","_where":"C:\\\\Users\\\\Lesiu\\\\Documents\\\\ChessEngineJS","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},fe=>{fe(fe.s=378)}]);