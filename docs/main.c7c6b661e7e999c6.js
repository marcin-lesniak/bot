(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{594:(we,q,O)=>{"use strict";function E(n){return"function"==typeof n}function _(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const T=_(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function I(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class k{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(s){e=s instanceof T?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ee(s)}catch(o){e=null!=e?e:[],o instanceof T?e=[...e,...o.errors]:e.push(o)}}if(e)throw new T(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ee(e);else{if(e instanceof k){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&I(t,e)}remove(e){const{_finalizers:t}=this;t&&I(t,e),e instanceof k&&e._removeParent(this)}}k.EMPTY=(()=>{const n=new k;return n.closed=!0,n})();const U=k.EMPTY;function V(n){return n instanceof k||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function ee(n){E(n)?n():n.unsubscribe()}const W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},S={setTimeout(n,e,...t){const{delegate:r}=S;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=S;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function te(n){S.setTimeout(()=>{const{onUnhandledError:e}=W;if(!e)throw n;e(n)})}function oe(){}const ge=pe("C",void 0,void 0);function pe(n,e,t){return{kind:n,value:e,error:t}}let le=null;function ye(n){if(W.useDeprecatedSynchronousErrorHandling){const e=!le;if(e&&(le={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=le;if(le=null,t)throw r}}else n()}class Me extends k{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,V(e)&&e.add(this)):this.destination=pn}static create(e,t,r){return new Ie(e,t,r)}next(e){this.isStopped?At(function ne(n){return pe("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?At(function fe(n){return pe("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?At(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ne(n,e){return Pe.call(n,e)}class Qe{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){X(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){X(r)}else X(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){X(t)}}}class Ie extends Me{constructor(e,t,r){let i;if(super(),E(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&W.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ne(e.next,s),error:e.error&&Ne(e.error,s),complete:e.complete&&Ne(e.complete,s)}):i=e}this.destination=new Qe(i)}}function X(n){W.useDeprecatedSynchronousErrorHandling?function ue(n){W.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=n)}(n):te(n)}function At(n,e){const{onStoppedNotification:t}=W;t&&S.setTimeout(()=>t(n,e))}const pn={closed:!0,next:oe,error:function je(n){throw n},complete:oe},Yt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ke(n){return n}let R=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function me(n){return n&&n instanceof Me||function F(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&V(n)}(t)?t:new Ie(t,r,i);return ye(()=>{const{operator:o,source:l}=this;s.add(o?o.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=K(r))((i,s)=>{const o=new Ie({next:l=>{try{t(l)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Yt](){return this}pipe(...t){return function L(n){return 0===n.length?Ke:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=K(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function K(n){var e;return null!==(e=null!=n?n:W.Promise)&&void 0!==e?e:Promise}const G=_(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let J=(()=>{class n extends R{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Re(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new G}next(t){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?U:(this.currentObservers=null,s.push(t),new k(()=>{this.currentObservers=null,I(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new R;return t.source=this,t}}return n.create=(e,t)=>new Re(e,t),n})();class Re extends J{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:U}}function wt(n){return E(null==n?void 0:n.lift)}function _e(n){return e=>{if(wt(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new Xt(n,e,t,r,i)}class Xt extends Me{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(l){try{t(l)}catch(c){e.error(c)}}:super._next,this._error=i?function(l){try{i(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(n,e){return _e((t,r)=>{let i=0;t.subscribe(de(r,s=>{r.next(n.call(e,s,i++))}))})}function ci(n){return this instanceof ci?(this.v=n,this):new ci(n)}function W_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(v){r[v]&&(i[v]=function(C){return new Promise(function(P,j){s.push([v,C,P,j])>1||l(v,C)})})}function l(v,C){try{!function c(v){v.value instanceof ci?Promise.resolve(v.value.v).then(h,f):g(s[0][2],v)}(r[v](C))}catch(P){g(s[0][3],P)}}function h(v){l("next",v)}function f(v){l("throw",v)}function g(v,C){v(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}function No(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ir(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(l,c){!function i(s,o,l,c){Promise.resolve(c).then(function(h){s({value:h,done:l})},o)}(l,c,(o=n[s](o)).done,o.value)})}}}const Bl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Vl(n){return E(null==n?void 0:n.then)}function Hl(n){return E(n[Yt])}function Pf(n){return Symbol.asyncIterator&&E(null==n?void 0:n[Symbol.asyncIterator])}function Tf(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Dc=function K_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sc(n){return E(null==n?void 0:n[Dc])}function Mf(n){return W_(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ci(t.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{t.releaseLock()}})}function If(n){return E(null==n?void 0:n.getReader)}function Wr(n){if(n instanceof R)return n;if(null!=n){if(Hl(n))return function G_(n){return new R(e=>{const t=n[Yt]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Bl(n))return function Rf(n){return new R(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Vl(n))return function z_(n){return new R(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,te)})}(n);if(Pf(n))return Of(n);if(Sc(n))return function q_(n){return new R(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(If(n))return function Ac(n){return Of(Mf(n))}(n)}throw Tf(n)}function Of(n){return new R(e=>{(function Q_(n,e){var t,r,i,s;return function ui(n,e,t,r){return new(t||(t=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(g){o(g)}}function c(f){try{h(r.throw(f))}catch(g){o(g)}}function h(f){f.done?s(f.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(f.value).then(l,c)}h((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=No(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function di(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Mn(n,e,t=1/0){return E(e)?Mn((r,i)=>ve((s,o)=>e(r,s,i,o))(Wr(n(r,i))),t):("number"==typeof e&&(t=e),_e((r,i)=>function Z_(n,e,t,r,i,s,o,l){const c=[];let h=0,f=0,g=!1;const v=()=>{g&&!c.length&&!h&&e.complete()},C=j=>h<r?P(j):c.push(j),P=j=>{s&&e.next(j),h++;let Q=!1;Wr(t(j,f++)).subscribe(de(e,ae=>{null==i||i(ae),s?C(ae):e.next(ae)},()=>{Q=!0},void 0,()=>{if(Q)try{for(h--;c.length&&h<r;){const ae=c.shift();o?di(e,o,()=>P(ae)):P(ae)}v()}catch(ae){e.error(ae)}}))};return n.subscribe(de(e,C,()=>{g=!0,v()})),()=>{null==l||l()}}(r,i,n,t)))}function Ia(n=1/0){return Mn(Ke,n)}const is=new R(n=>n.complete());function xf(n){return n&&E(n.schedule)}function Pc(n){return n[n.length-1]}function Tc(n){return E(Pc(n))?n.pop():void 0}function Ra(n){return xf(Pc(n))?n.pop():void 0}function Ff(n,e=0){return _e((t,r)=>{t.subscribe(de(r,i=>di(r,n,()=>r.next(i),e),()=>di(r,n,()=>r.complete(),e),i=>di(r,n,()=>r.error(i),e)))})}function kf(n,e=0){return _e((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Oa(n,e){if(!n)throw new Error("Iterable cannot be null");return new R(t=>{di(t,e,()=>{const r=n[Symbol.asyncIterator]();di(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function In(n,e){return e?function rv(n,e){if(null!=n){if(Hl(n))return function J_(n,e){return Wr(n).pipe(kf(e),Ff(e))}(n,e);if(Bl(n))return function jl(n,e){return new R(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Vl(n))return function ev(n,e){return Wr(n).pipe(kf(e),Ff(e))}(n,e);if(Pf(n))return Oa(n,e);if(Sc(n))return function tv(n,e){return new R(t=>{let r;return di(t,e,()=>{r=n[Dc](),di(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>E(null==r?void 0:r.return)&&r.return()})}(n,e);if(If(n))return function nv(n,e){return Oa(Mf(n),e)}(n,e)}throw Tf(n)}(n,e):Wr(n)}function Ul(...n){const e=Ra(n),t=function X_(n,e){return"number"==typeof Pc(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Wr(r[0]):Ia(t)(In(r,e)):is}function so(n){return n<=0?()=>is:_e((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mc(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(so(1)).subscribe(()=>n())}function Kt(n){for(let e in n)if(n[e]===Kt)return e;throw Error("Could not find renamed property on target object.")}function Ic(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ht(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ht).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function $l(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Lf=Kt({__forward_ref__:Kt});function Gt(n){return n.__forward_ref__=Gt,n.toString=function(){return Ht(this())},n}function at(n){return function Bf(n){return"function"==typeof n&&n.hasOwnProperty(Lf)&&n.__forward_ref__===Gt}(n)?n():n}class Se extends Error{constructor(e,t){super(function Wl(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function it(n){return"string"==typeof n?n:null==n?"":String(n)}function qn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():it(n)}function xa(n,e){const t=e?` in ${e}`:"";throw new Se(-201,`No provider for ${qn(n)} found${t}`)}function mr(n,e){null==n&&function nn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ur(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rc(n){return $f(n,Kl)||$f(n,Wf)}function $f(n,e){return n.hasOwnProperty(e)?n[e]:null}function zt(n){return n&&(n.hasOwnProperty(Oc)||n.hasOwnProperty(dv))?n[Oc]:null}const Kl=Kt({\u0275prov:Kt}),Oc=Kt({\u0275inj:Kt}),Wf=Kt({ngInjectableDef:Kt}),dv=Kt({ngInjectorDef:Kt});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let xc;function As(n){const e=xc;return xc=n,e}function Rn(n,e,t){const r=Rc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&nt.Optional?null:void 0!==e?e:void xa(Ht(n),"Injector")}function Kr(n){return{toString:n}.toString()}var Gr=(()=>((Gr=Gr||{})[Gr.OnPush=0]="OnPush",Gr[Gr.Default=1]="Default",Gr))(),zr=(()=>{return(n=zr||(zr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",zr;var n})();const zf="undefined"!=typeof globalThis&&globalThis,qf="undefined"!=typeof window&&window,Qf="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=zf||"undefined"!=typeof global&&global||qf||Qf,Hn={},qt=[],Fa=Kt({\u0275cmp:Kt}),xi=Kt({\u0275dir:Kt}),Bo=Kt({\u0275pipe:Kt}),Gl=Kt({\u0275mod:Kt}),Ot=Kt({\u0275fac:Kt}),Qr=Kt({__NG_ELEMENT_ID__:Kt});let Fc=0;function Ps(n){return Kr(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||qt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,id:"c",styles:n.styles||qt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=Fc++,r.inputs=oo(n.inputs,t),r.outputs=oo(n.outputs),s&&s.forEach(l=>l(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Zf):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Yf):null,r})}function Zf(n){return jn(n)||function Fi(n){return n[xi]||null}(n)}function Yf(n){return function ss(n){return n[Bo]||null}(n)}const Xf={};function cr(n){return Kr(()=>{const e={type:n.type,bootstrap:n.bootstrap||qt,declarations:n.declarations||qt,imports:n.imports||qt,exports:n.exports||qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Xf[n.id]=n.type),e})}function oo(n,e){if(null==n)return Hn;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Ge=Ps;function dr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function jn(n){return n[Fa]||null}function Rr(n,e){const t=n[Gl]||null;if(!t&&!0===e)throw new Error(`Type ${Ht(n)} does not have '\u0275mod' property.`);return t}function ki(n){return Array.isArray(n)&&"object"==typeof n[1]}function pi(n){return Array.isArray(n)&&!0===n[1]}function Lc(n){return 0!=(8&n.flags)}function co(n){return 2==(2&n.flags)}function N(n){return 1==(1&n.flags)}function Y(n){return null!==n.template}function z(n){return 0!=(512&n[2])}function Ni(n,e){return n.hasOwnProperty(Ot)?n[Ot]:null}class tp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Un(){return Wc}function Wc(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zl),np}function np(){const n=Uo(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Hn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Zl(n,e,t,r){const i=Uo(n)||function fo(n,e){return n[Kc]=e}(n,{previous:Hn,current:null}),s=i.current||(i.current={}),o=i.previous,l=this.declaredInputs[t],c=o[l];s[l]=new tp(c&&c.currentValue,e,o===Hn),n[r]=e}Un.ngInherit=!0;const Kc="__ngSimpleChanges__";function Uo(n){return n[Kc]||null}let Xl;function qc(){return void 0!==Xl?Xl:"undefined"!=typeof document?document:void 0}function yt(n){return!!n.listen}const rp={createRenderer:(n,e)=>qc()};function mn(n){for(;Array.isArray(n);)n=n[0];return n}function Ms(n,e){return mn(e[n])}function vr(n,e){return mn(e[n.index])}function po(n,e){return n.data[e]}function Li(n,e){return n[e]}function Zn(n,e){const t=e[n];return ki(t)?t:t[0]}function go(n){return 4==(4&n[2])}function Qc(n){return 128==(128&n[2])}function Is(n,e){return null==e?null:n[e]}function sp(n){n[18]=0}function Zc(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ze={lFrame:nd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ha(){return ze.bindingsEnabled}function ce(){return ze.lFrame.lView}function Tt(){return ze.lFrame.tView}function an(n){return ze.lFrame.contextLView=n,n[8]}function sn(){let n=ap();for(;null!==n&&64===n.type;)n=n.parent;return n}function ap(){return ze.lFrame.currentTNode}function Bi(n,e){const t=ze.lFrame;t.currentTNode=n,t.isParent=e}function Yc(){return ze.lFrame.isParent}function eu(){return ze.isInCheckNoChangesMode}function tu(n){ze.isInCheckNoChangesMode=n}function hr(){const n=ze.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function os(){return ze.lFrame.bindingIndex}function zo(){return ze.lFrame.bindingIndex++}function as(n){const e=ze.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Sv(n,e){const t=ze.lFrame;t.bindingIndex=t.bindingRootIndex=n,Jc(e)}function Jc(n){ze.lFrame.currentDirectiveIndex=n}function Xr(){return ze.lFrame.currentQueryIndex}function td(n){ze.lFrame.currentQueryIndex=n}function Av(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function up(n,e,t){if(t&nt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&nt.Host||(i=Av(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ze.lFrame=cp();return r.currentTNode=e,r.lView=n,!0}function nu(n){const e=cp(),t=n[1];ze.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function cp(){const n=ze.lFrame,e=null===n?null:n.child;return null===e?nd(n):e}function nd(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function rd(){const n=ze.lFrame;return ze.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const dp=rd;function ru(){const n=rd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kn(){return ze.lFrame.selectedIndex}function Os(n){ze.lFrame.selectedIndex=n}function un(){const n=ze.lFrame;return po(n.tView,n.selectedIndex)}function $a(){ze.lFrame.currentNamespace="svg"}function Wa(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),l&&((n.contentHooks||(n.contentHooks=[])).push(t,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,l)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),h&&((n.viewHooks||(n.viewHooks=[])).push(t,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(t,f)}}function Ka(n,e,t){sd(n,e,3,t)}function xs(n,e,t,r){(3&n[2])===t&&sd(n,e,t,r)}function Hi(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function sd(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let l=0;for(let c=void 0!==r?65535&n[18]:0;c<o;c++)if("number"==typeof e[c+1]){if(l=e[c],null!=r&&l>=r)break}else e[c]<0&&(n[18]+=65536),(l<s||-1==s)&&(Tv(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function Tv(n,e,t,r){const i=t[r]<0,s=t[r+1],l=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class Ga{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function za(n,e,t){const r=yt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],l=t[i++],c=t[i++];r?n.setAttribute(e,l,c,o):e.setAttributeNS(o,l,c)}else{const o=s,l=t[++i];qa(o)?r&&n.setProperty(e,o,l):r?n.setAttribute(e,o,l):e.setAttribute(o,l),i++}}return i}function Yn(n){return 3===n||4===n||6===n}function qa(n){return 64===n.charCodeAt(0)}function ou(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||fp(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function fp(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===e){o=-1;break}if(l>e){o=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function pp(n){return-1!==n}function Fs(n){return 32767&n}function Ui(n,e){let t=function Mv(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let au=!0;function lu(n){const e=au;return au=n,e}let Iv=0;function Zo(n,e){const t=cd(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,ud(r.data,n),ud(e,null),ud(r.blueprint,null));const i=uu(n,e),s=n.injectorIndex;if(pp(i)){const o=Fs(i),l=Ui(i,e),c=l[1].data;for(let h=0;h<8;h++)e[s+h]=l[o+h]|c[o+h]}return e[s+8]=i,s}function ud(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cd(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function uu(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Qa(n,e,t){!function ld(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Qr)&&(r=t[Qr]),null==r&&(r=t[Qr]=Iv++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function mp(n,e,t){if(t&nt.Optional)return n;xa(e,"NodeInjector")}function cu(n,e,t,r){if(t&nt.Optional&&void 0===r&&(r=null),0==(t&(nt.Self|nt.Host))){const i=n[9],s=As(void 0);try{return i?i.get(e,r,t&nt.Optional):Rn(e,r,t&nt.Optional)}finally{As(s)}}return mp(r,e,t)}function hd(n,e,t,r=nt.Default,i){if(null!==n){const s=function vp(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Qr)?n[Qr]:void 0;return"number"==typeof e?e>=0?255&e:_p:e}(t);if("function"==typeof s){if(!up(e,n,r))return r&nt.Host?mp(i,t,r):cu(e,t,r,i);try{const o=s(r);if(null!=o||r&nt.Optional)return o;xa(t)}finally{dp()}}else if("number"==typeof s){let o=null,l=cd(n,e),c=-1,h=r&nt.Host?e[16][6]:null;for((-1===l||r&nt.SkipSelf)&&(c=-1===l?uu(n,e):e[l+8],-1!==c&&pd(r,!1)?(o=e[1],l=Fs(c),e=Ui(c,e)):l=-1);-1!==l;){const f=e[1];if(yp(s,l,f.data)){const g=du(l,e,t,o,r,h);if(g!==fd)return g}c=e[l+8],-1!==c&&pd(r,e[1].data[l+8]===h)&&yp(s,l,e)?(o=f,l=Fs(c),e=Ui(c,e)):l=-1}}}return cu(e,t,r,i)}const fd={};function _p(){return new Xo(sn(),ce())}function du(n,e,t,r,i,s){const o=e[1],l=o.data[n+8],f=hu(l,o,t,null==r?co(l)&&au:r!=o&&0!=(3&l.type),i&nt.Host&&s===l);return null!==f?Yo(e,o,f,l):fd}function hu(n,e,t,r,i){const s=n.providerIndexes,o=e.data,l=1048575&s,c=n.directiveStart,f=s>>20,v=i?l+f:n.directiveEnd;for(let C=r?l:l+f;C<v;C++){const P=o[C];if(C<c&&t===P||C>=c&&P.type===t)return C}if(i){const C=o[c];if(C&&Y(C)&&C.type===t)return c}return null}function Yo(n,e,t,r){let i=n[t];const s=e.data;if(function hp(n){return n instanceof Ga}(i)){const o=i;o.resolving&&function Vf(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Se(-200,`Circular dependency in DI detected for ${n}${t}`)}(qn(s[t]));const l=lu(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?As(o.injectImpl):null;up(n,r,nt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Pv(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Wc(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&As(c),lu(l),o.resolving=!1,dp()}}return i}function yp(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function pd(n,e){return!(n&nt.Self||n&nt.Host&&e)}class Xo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hd(this._tNode,this._lView,e,r,t)}}const ks="__parameters__";function $i(n,e,t){return Kr(()=>{const r=function gd(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return l.annotation=o,l;function l(c,h,f){const g=c.hasOwnProperty(ks)?c[ks]:Object.defineProperty(c,ks,{value:[]})[ks];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Ve{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ei=new Ve("AnalyzeForEntryComponents");function yr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),yr(r,e)):e!==n&&e.push(r)}return e}function ri(n,e){n.forEach(t=>Array.isArray(t)?ri(t,e):e(t))}function us(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function br(n,e,t){let r=na(n,e);return r>=0?n[1|r]=t:(r=~r,function vd(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function gu(n,e){const t=na(n,e);if(t>=0)return n[1|t]}function na(n,e){return function yd(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ra={},Ns="__NG_DI_FLAG__",Ls="ngTempTokenPath",Pp=/\n/gm,Ya="__source",Mp=Kt({provide:String,useValue:Kt});let Bs;function vu(n){const e=Bs;return Bs=n,e}function yu(n,e=nt.Default){if(void 0===Bs)throw new Se(203,"");return null===Bs?Rn(n,void 0,e):Bs.get(n,e&nt.Optional?null:void 0,e)}function Ae(n,e=nt.Default){return(function Kf(){return xc}()||yu)(at(n),e)}const Xa=Ae;function bu(n){const e=[];for(let t=0;t<n.length;t++){const r=at(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Se(900,"");let i,s=nt.Default;for(let o=0;o<r.length;o++){const l=r[o],c=Vv(l);"number"==typeof c?-1===c?i=l.token:s|=c:i=l}e.push(Ae(i,s))}else e.push(Ae(r))}return e}function Co(n,e){return n[Ns]=e,n.prototype[Ns]=e,n}function Vv(n){return n[Ns]}const Ja=Co($i("Inject",n=>({token:n})),-1),ds=Co($i("Optional"),8),ia=Co($i("SkipSelf"),4);let Du,Au;function oa(n){var e;return(null===(e=function Su(){if(void 0===Du&&(Du=null,jt.trustedTypes))try{Du=jt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Du}())||void 0===e?void 0:e.createHTML(n))||n}function Jn(n){var e;return(null===(e=function yi(){if(void 0===Au&&(Au=null,jt.trustedTypes))try{Au=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Au}())||void 0===e?void 0:e.createHTML(n))||n}class Tu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Hs(n){return n instanceof Tu?n.changingThisBreaksApplicationSecurity:n}function tl(n,e){const t=function Gv(n){return n instanceof Tu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class nl{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(oa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class wd{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=oa(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=oa(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Up=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$p=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fr(n){return(n=String(n)).match(Up)||n.match($p)?n:"unsafe:"+n}function Ki(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function aa(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Wp=Ki("area,br,col,hr,img,wbr"),Kp=Ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gp=Ki("rp,rt"),Sd=aa(Wp,aa(Kp,Ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aa(Gp,Ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),aa(Gp,Kp)),Ad=Ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pd=Ki("srcset"),Td=aa(Ad,Pd,Ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zp=Ki("script,style,template");class qp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Sd.hasOwnProperty(t))return this.sanitizedSomething=!0,!zp.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,l=o.toLowerCase();if(!Td.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let c=s.value;Ad[l]&&(c=Fr(c)),Pd[l]&&(n=c,c=(n=String(n)).split(",").map(e=>Fr(e.trim())).join(", ")),this.buf.push(" ",o,'="',Qp(c),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Sd.hasOwnProperty(t)&&!Wp.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Qp(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Qv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zv=/([^\#-~ |!])/g;function Qp(n){return n.replace(/&/g,"&amp;").replace(Qv,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Zv,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rl;function Md(n){return"content"in n&&function Xv(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function Zp(n){const e=Eo();return e?Jn(e.sanitize(Sn.HTML,n)||""):tl(n,"HTML")?Jn(Hs(n)):function Yv(n,e){let t=null;try{rl=rl||function Ed(n){const e=new wd(n);return function jp(){try{return!!(new window.DOMParser).parseFromString(oa(""),"text/html")}catch(n){return!1}}()?new nl(e):e}(n);let r=e?String(e):"";t=rl.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=rl.getInertBodyElement(r)}while(r!==s);return oa((new qp).sanitizeChildren(Md(t)||t))}finally{if(t){const r=Md(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(qc(),it(n))}function Ln(n){const e=Eo();return e?e.sanitize(Sn.URL,n)||"":tl(n,"URL")?Hs(n):Fr(it(n))}function Eo(){const n=ce();return n&&n[12]}const eg="__ngContext__";function er(n,e){n[eg]=e}function Rd(n){const e=function il(n){return n[eg]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function xd(n){return n.ngOriginalError}function ig(n,...e){n.error(...e)}class sl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function Fd(n){return n&&n.ngErrorLogger||ig}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&xd(e);for(;t&&xd(t);)t=xd(t);return t||null}}const yy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function Gi(n){return n instanceof Function?n():n}var kr=(()=>((kr=kr||{})[kr.Important=1]="Important",kr[kr.DashCase=2]="DashCase",kr))();function Nd(n,e){return undefined(n,e)}function ol(n){const e=n[3];return pi(e)?e[3]:e}function Vd(n){return ug(n[13])}function Hd(n){return ug(n[4])}function ug(n){for(;null!==n&&!pi(n);)n=n[4];return n}function hs(n,e,t,r,i){if(null!=r){let s,o=!1;pi(r)?s=r:ki(r)&&(o=!0,r=r[0]);const l=mn(r);0===n&&null!==t?null==i?Gd(e,t,l):Us(e,t,l,i||null,!0):1===n&&null!==t?Us(e,t,l,i||null,!0):2===n?function vg(n,e,t){const r=Ru(n,e);r&&function Ry(n,e,t,r){yt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,l,o):3===n&&e.destroyNode(l),null!=s&&function xy(n,e,t,r,i){const s=t[7];s!==mn(t)&&hs(e,n,r,s,i);for(let l=10;l<t.length;l++){const c=t[l];ul(c[1],c,n,e,r,s)}}(e,n,s,t,i)}}function Ud(n,e,t){if(yt(n))return n.createElement(e,t);{const r=null!==t?function vv(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function dg(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Zc(i,-1)),t.splice(r,1)}function ua(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&dg(i,r),e>0&&(n[t-1][4]=r[4]);const s=pu(n,10+e);!function Sy(n,e){ul(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function hg(n,e){if(!(256&e[2])){const t=e[11];yt(t)&&t.destroyNode&&ul(n,e,t,3,null,null),function Ty(n){let e=n[13];if(!e)return Iu(n[1],n);for(;e;){let t=null;if(ki(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ki(e)&&Iu(e[1],e),e=e[3];null===e&&(e=n),ki(e)&&Iu(e[1],e),t=e&&e[4]}e=t}}(e)}}function Iu(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function $d(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ga)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=i[s[o]],c=s[o+1];try{c.call(l)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function fg(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],l="function"==typeof o?o(e):mn(e[o]),c=r[i=t[s+2]],h=t[s+3];"boolean"==typeof h?l.removeEventListener(t[s],c,h):h>=0?r[i=h]():r[i=-h].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&yt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&pi(e[3])){t!==e[3]&&dg(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function Wd(n,e,t){return function Kd(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===zr.None||i===zr.Emulated)return null}return vr(r,t)}(n,e.parent,t)}function Us(n,e,t,r,i){yt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function Gd(n,e,t){yt(n)?n.appendChild(e,t):e.appendChild(t)}function pg(n,e,t,r,i){null!==r?Us(n,e,t,r,i):Gd(n,e,t)}function Ru(n,e){return yt(n)?n.parentNode(e):e.parentNode}let mg=function gg(n,e,t){return 40&n.type?vr(n,t):null};function xu(n,e,t,r){const i=Wd(n,r,e),s=e[11],l=function al(n,e,t){return mg(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)pg(s,i,t[c],l,!1);else pg(s,i,t,l,!1)}function Fu(n,e){if(null!==e){const t=e.type;if(3&t)return vr(e,n);if(4&t)return qd(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Fu(n,r);{const i=n[e.index];return pi(i)?qd(-1,i):mn(i)}}if(32&t)return Nd(e,n)()||mn(n[e.index]);{const r=_g(n,e);return null!==r?Array.isArray(r)?r[0]:Fu(ol(n[16]),r):Fu(n,e.next)}}return null}function _g(n,e){return null!==e?n[16][6].projection[e.projection]:null}function qd(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Fu(r,i)}return e[7]}function Qd(n,e,t,r,i,s,o){for(;null!=t;){const l=r[t.index],c=t.type;if(o&&0===e&&(l&&er(mn(l),r),t.flags|=4),64!=(64&t.flags))if(8&c)Qd(n,e,t.child,r,i,s,!1),hs(e,n,i,l,s);else if(32&c){const h=Nd(t,r);let f;for(;f=h();)hs(e,n,i,f,s);hs(e,n,i,l,s)}else 16&c?yg(n,e,r,t,i,s):hs(e,n,i,l,s);t=o?t.projectionNext:t.next}}function ul(n,e,t,r,i,s){Qd(t,r,n.firstChild,e,i,s,!1)}function yg(n,e,t,r,i,s){const o=t[16],c=o[6].projection[r.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++)hs(e,n,i,c[h],s);else Qd(n,e,c,o[3],i,s,!0)}function bg(n,e,t){yt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Nr(n,e,t){yt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function Cg(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const $s="ng-template";function ut(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==Cg(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Eg(n){return 4===n.type&&n.value!==$s}function Er(n,e,t){return e===(4!==n.type||t?n.value:$s)}function _n(n,e,t){let r=4;const i=n.attrs||[],s=function Ny(n){for(let e=0;e<n.length;e++)if(Yn(n[e]))return e;return n.length}(i);let o=!1;for(let l=0;l<e.length;l++){const c=e[l];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Er(n,c,t)||""===c&&1===e.length){if(bi(r))return!1;o=!0}}else{const h=8&r?c:e[++l];if(8&r&&null!==n.attrs){if(!ut(n.attrs,h,t)){if(bi(r))return!1;o=!0}continue}const g=Ws(8&r?"class":c,i,Eg(n),t);if(-1===g){if(bi(r))return!1;o=!0;continue}if(""!==h){let v;v=g>s?"":i[g+1].toLowerCase();const C=8&r?v:null;if(C&&-1!==Cg(C,h,0)||2&r&&h!==v){if(bi(r))return!1;o=!0}}}}else{if(!o&&!bi(r)&&!bi(c))return!1;if(o&&bi(c))continue;o=!1,r=c|1&r}}return bi(r)||o}function bi(n){return 0==(1&n)}function Ws(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=e[++i];for(;"string"==typeof l;)l=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Ly(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function wg(n,e,t=!1){for(let r=0;r<e.length;r++)if(_n(n,e[r],t))return!0;return!1}function ku(n,e){return n?":not("+e.trim()+")":e}function Vy(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const l=n[++t];i+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!bi(o)&&(e+=ku(s,i),i=""),r=o,s=s||!bi(r);t++}return""!==i&&(e+=ku(s,i)),e}const Je={};function xe(n){cn(Tt(),ce(),kn()+n,eu())}function cn(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Ka(e,s,t)}else{const s=n.preOrderHooks;null!==s&&xs(e,s,0,t)}Os(t)}function Nu(n,e){return n<<17|e<<2}function Ci(n){return n>>17&32767}function Yd(n){return 2|n}function ps(n){return(131068&n)>>2}function Lu(n,e){return-131069&n|e<<2}function cl(n){return 1|n}function Ig(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];td(i),o.contentQueries(2,e[s],s)}}}function dl(n,e,t,r,i,s,o,l,c,h){const f=e.blueprint.slice();return f[0]=i,f[2]=140|r,sp(f),f[3]=f[15]=n,f[8]=t,f[10]=o||n&&n[10],f[11]=l||n&&n[11],f[12]=c||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=s,f[16]=2==e.type?n[16]:f,f}function ha(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Hu(n,e,t,r,i){const s=ap(),o=Yc(),c=n.data[e]=function Bg(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,e,t,r,i),function Dv(){return ze.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ja(){const n=ze.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Bi(s,!0),s}function fa(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function hl(n,e,t){nu(e);try{const r=n.viewQuery;null!==r&&pl(1,r,t);const i=n.template;null!==i&&lh(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ig(n,e),n.staticViewQueries&&pl(2,n.viewQuery,t);const s=n.components;null!==s&&function Ky(n,e){for(let t=0;t<e.length;t++)lb(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,ru()}}function pa(n,e,t,r){const i=e[2];if(256==(256&i))return;nu(e);const s=eu();try{sp(e),function Vi(n){return ze.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&lh(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const h=n.preOrderCheckHooks;null!==h&&Ka(e,h,null)}else{const h=n.preOrderHooks;null!==h&&xs(e,h,0,null),Hi(e,0)}if(function ab(n){for(let e=Vd(n);null!==e;e=Hd(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Zc(s,1),i[2]|=1024}}}(e),function ob(n){for(let e=Vd(n);null!==e;e=Hd(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Qc(r)&&pa(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Ig(n,e),!s)if(o){const h=n.contentCheckHooks;null!==h&&Ka(e,h)}else{const h=n.contentHooks;null!==h&&xs(e,h,1),Hi(e,1)}!function Wy(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Os(~i);else{const s=i,o=t[++r],l=t[++r];Sv(o,s),l(2,e[s])}}}finally{Os(-1)}}(n,e);const l=n.components;null!==l&&function Rg(n,e){for(let t=0;t<e.length;t++)gh(n,e[t])}(e,l);const c=n.viewQuery;if(null!==c&&pl(2,c,r),!s)if(o){const h=n.viewCheckHooks;null!==h&&Ka(e,h)}else{const h=n.viewHooks;null!==h&&xs(e,h,2),Hi(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Zc(e[3],-1))}finally{ru()}}function Og(n,e,t,r){const i=e[10],s=!eu(),o=go(e);try{s&&!o&&i.begin&&i.begin(),o&&hl(n,e,r),pa(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function lh(n,e,t,r,i){const s=kn(),o=2&r;try{Os(-1),o&&e.length>20&&cn(n,e,20,eu()),t(r,i)}finally{Os(s)}}function uh(n,e,t){!Ha()||(function Jy(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Zo(t,e),er(r,e);const o=t.initialInputs;for(let l=i;l<s;l++){const c=n.data[l],h=Y(c);h&&ib(e,t,c);const f=Yo(e,n,l,t);er(f,e),null!==o&&ph(0,l-i,f,c,0,o),h&&(Zn(t.index,e)[8]=f)}}(n,e,t,vr(t,e)),128==(128&t.flags)&&function eb(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,l=function mo(){return ze.lFrame.currentDirectiveIndex}();try{Os(o);for(let c=r;c<i;c++){const h=n.data[c],f=e[c];Jc(c),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&jg(h,f)}}finally{Os(-1),Jc(l)}}(n,e,t))}function ch(n,e,t=vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],l=-1===o?t(e,n):n[o];n[i++]=l}}}function Fg(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=_s(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function _s(n,e,t,r,i,s,o,l,c,h){const f=20+r,g=f+i,v=function Gy(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Je);return t}(f,g),C="function"==typeof h?h():h;return v[1]={type:n,blueprint:v,template:t,queries:null,viewQuery:l,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1}}function Lg(n,e,t,r){const i=qg(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Qg(n).push(r,i.length-1))}function dh(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function hh(n,e,t,r){let i=!1;if(Ha()){const s=function tb(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];wg(t,o.selectors,!1)&&(i||(i=[]),Qa(Zo(t,e),n,o.type),Y(o)?(Ug(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,$g(t,n.data.length,s.length);for(let f=0;f<s.length;f++){const g=s[f];g.providersResolver&&g.providersResolver(g)}let l=!1,c=!1,h=fa(n,e,s.length,null);for(let f=0;f<s.length;f++){const g=s[f];t.mergedAttrs=ou(t.mergedAttrs,g.hostAttrs),Wg(n,t,e,h,g),rb(h,g,o),null!==g.contentQueries&&(t.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=128);const v=g.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),l=!0),!c&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),h++}!function zy(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let l=null,c=null;for(let h=e.directiveStart;h<r;h++){const f=i[h],g=f.inputs,v=null===s||Eg(e)?null:Kg(g,s);o.push(v),l=dh(g,h,l),c=dh(f.outputs,h,c)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=l,e.outputs=c}(n,t)}o&&function nb(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Se(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=ou(t.mergedAttrs,t.attrs),i}function Hg(n,e,t,r,i,s){const o=s.hostBindings;if(o){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~e.index;(function Xy(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(l)!=c&&l.push(c),l.push(r,i,o)}}function jg(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ug(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function rb(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Y(e)&&(t[""]=n)}}function $g(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Wg(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ni(i.type)),o=new Ga(s,Y(i),null);n.blueprint[r]=o,t[r]=o,Hg(n,e,0,r,fa(n,t,i.hostVars,Je),i)}function ib(n,e,t){const r=vr(e,n),i=Fg(t),s=n[10],o=Wn(n,dl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function zi(n,e,t,r,i,s){const o=vr(n,e);!function fh(n,e,t,r,i,s,o){if(null==s)yt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const l=null==o?it(s):o(s,r||"",i);yt(n)?n.setAttribute(e,i,l,t):t?e.setAttributeNS(t,i,l):e.setAttribute(i,l)}}(e[11],o,s,n.value,t,r,i)}function ph(n,e,t,r,i,s){const o=s[e];if(null!==o){const l=r.setInput;for(let c=0;c<o.length;){const h=o[c++],f=o[c++],g=o[c++];null!==l?r.setInput(t,g,h,f):t[f]=g}}}function Kg(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Gg(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function gh(n,e){const t=Zn(e,n);if(Qc(t)){const r=t[1];80&t[2]?pa(r,t,r.template,t[8]):t[5]>0&&mh(t)}}function mh(n){for(let r=Vd(n);null!==r;r=Hd(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];pa(o,s,o.template,s[8])}else s[5]>0&&mh(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Zn(t[r],n);Qc(i)&&i[5]>0&&mh(i)}}function lb(n,e){const t=Zn(e,n),r=t[1];(function ub(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),hl(r,t,t[8])}function Wn(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function fl(n){for(;n;){n[2]|=64;const e=ol(n);if(z(n)&&!e)return n;n=e}return null}function vh(n,e,t){const r=e[10];r.begin&&r.begin();try{pa(n,e,n.template,t)}catch(i){throw Zg(e,i),i}finally{r.end&&r.end()}}function zg(n){!function _h(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Rd(t),i=r[1];Og(i,r,i.template,t)}}(n[8])}function pl(n,e,t){td(0),e(n,t)}const hb=(()=>Promise.resolve(null))();function qg(n){return n[7]||(n[7]=[])}function Qg(n){return n.cleanup||(n.cleanup=[])}function Zg(n,e){const t=n[9],r=t?t.get(sl,null):null;r&&r.handleError(e)}function Yg(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],c=e[o],h=n.data[o];null!==h.setInput?h.setInput(c,i,r,l):c[l]=i}}function vs(n,e,t){const r=Ms(e,n);!function cg(n,e,t){yt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function ga(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?s=l:1==s?i=$l(i,l):2==s&&(r=$l(r,l+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Eh=new Ve("INJECTOR",-1);class Xg{get(e,t=ra){if(t===ra){const r=new Error(`NullInjectorError: No provider for ${Ht(e)}!`);throw r.name="NullInjectorError",r}return t}}const wh=new Ve("Set Injector scope."),gl={},pb={};let Dh;function Jg(){return void 0===Dh&&(Dh=new Xg),Dh}function em(n,e=null,t=null,r){const i=tm(n,e,t,r);return i._resolveInjectorDefTypes(),i}function tm(n,e=null,t=null,r){return new gb(n,t,e||Jg(),r)}class gb{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&ri(t,l=>this.processProvider(l,e,t)),ri([e],l=>this.processInjectorType(l,[],s)),this.records.set(Eh,ma(void 0,this));const o=this.records.get(wh);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ht(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ra,r=nt.Default){this.assertNotDestroyed();const i=vu(this),s=As(void 0);try{if(!(r&nt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function p(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ve}(e)&&Rc(e);l=c&&this.injectableDefInScope(c)?ma(Sh(e),gl):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&nt.Self?Jg():this.parent).get(e,t=r&nt.Optional&&t===ra?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ls]=o[Ls]||[]).unshift(Ht(e)),i)throw o;return function Ip(n,e,t,r){const i=n[Ls];throw e[Ya]&&i.unshift(e[Ya]),n.message=function cs(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ht(e);if(Array.isArray(e))i=e.map(Ht).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let l=e[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):Ht(l)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Pp,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ls]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{As(s),vu(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ht(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processInjectorType(e,t,r){if(!(e=at(e)))return!1;let i=zt(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,l=-1!==r.indexOf(o);if(void 0!==s&&(i=zt(s)),null==i)return!1;if(null!=i.imports&&!l){let f;r.push(o);try{ri(i.imports,g=>{this.processInjectorType(g,t,r)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:v,providers:C}=f[g];ri(C,P=>this.processProvider(P,v,C||qt))}}this.injectorDefTypes.add(o);const c=Ni(o)||(()=>new o);this.records.set(o,ma(c,gl));const h=i.providers;if(null!=h&&!l){const f=e;ri(h,g=>this.processProvider(g,f,h))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=_a(e=at(e))?e:at(e&&e.provide);const s=function _b(n,e,t){return rm(n)?ma(void 0,n.useValue):ma(nm(n),gl)}(e);if(_a(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=ma(void 0,gl,!0),o.factory=()=>bu(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===gl&&(t.value=pb,t.value=t.factory()),"object"==typeof t.value&&t.value&&function d(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=at(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Sh(n){const e=Rc(n),t=null!==e?e.factory:Ni(n);if(null!==t)return t;if(n instanceof Ve)throw new Se(204,!1);if(n instanceof Function)return function mb(n){const e=n.length;if(e>0)throw function ii(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Se(204,!1);const t=function cv(n){const e=n&&(n[Kl]||n[Wf]);if(e){const t=function rn(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Se(204,!1)}function nm(n,e,t){let r;if(_a(n)){const i=at(n);return Ni(i)||Sh(i)}if(rm(n))r=()=>at(n.useValue);else if(function yb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...bu(n.deps||[]));else if(function vb(n){return!(!n||!n.useExisting)}(n))r=()=>Ae(at(n.useExisting));else{const i=at(n&&(n.useClass||n.provide));if(!function u(n){return!!n.deps}(n))return Ni(i)||Sh(i);r=()=>new i(...bu(n.deps))}return r}function ma(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rm(n){return null!==n&&"object"==typeof n&&Mp in n}function _a(n){return"function"==typeof n}let m=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return em({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return em({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=ra,n.NULL=new Xg,n.\u0275prov=Xe({token:n,providedIn:"any",factory:()=>Ae(Eh)}),n.__NG_ELEMENT_ID__=-1,n})();function YM(n,e){Wa(Rd(n)[1],sn())}function Zt(n){let e=function Sw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Y(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Se(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Cb(n.inputs),o.declaredInputs=Cb(n.declaredInputs),o.outputs=Cb(n.outputs);const l=i.hostBindings;l&&tI(n,l);const c=i.viewQuery,h=i.contentQueries;if(c&&JM(n,c),h&&eI(n,h),Ic(n.inputs,i.inputs),Ic(n.declaredInputs,i.declaredInputs),Ic(n.outputs,i.outputs),Y(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(n),l===Zt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function XM(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ou(i.hostAttrs,t=ou(t,i.hostAttrs))}}(r)}function Cb(n){return n===Hn?{}:n===qt?[]:n}function JM(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function eI(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function tI(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let im=null;function ju(){if(!im){const n=jt.Symbol;if(n&&n.iterator)im=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(im=r)}}}return im}function Ah(n){return!!Eb(n)&&(Array.isArray(n)||!(n instanceof Map)&&ju()in n)}function Eb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zs(n,e,t){return n[e]=t}function Sr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ml(n,e,t,r){const i=Sr(n,e,t);return Sr(n,e+1,r)||i}function wi(n,e,t,r){const i=ce();return Sr(i,zo(),e)&&(Tt(),zi(un(),i,n,e,t,r)),wi}function Ku(n,e,t,r,i,s,o,l){const h=function sm(n,e,t,r,i){const s=ml(n,e,t,r);return Sr(n,e+2,i)||s}(n,os(),t,i,o);return as(3),h?e+it(t)+r+it(i)+s+it(o)+l:Je}function nr(n,e,t,r,i,s,o,l){const c=ce(),h=Tt(),f=n+20,g=h.firstCreatePass?function lI(n,e,t,r,i,s,o,l,c){const h=e.consts,f=ha(e,n,4,o||null,Is(h,l));hh(e,t,f,Is(h,c)),Wa(e,f);const g=f.tViews=_s(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h);return null!==e.queries&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}(f,h,c,e,t,r,i,s,o):h.data[f];Bi(g,!1);const v=c[11].createComment("");xu(h,c,v,g),er(v,c),Wn(c,c[f]=Gg(v,c,v,g)),N(g)&&uh(h,c,g),null!=o&&ch(c,g,l)}function om(n){return Li(function wv(){return ze.lFrame.contextLView}(),20+n)}function se(n,e=nt.Default){const t=ce();return null===t?Ae(n,e):hd(sn(),t,at(n),e)}function Pb(){throw new Error("invalid")}function Bt(n,e,t){const r=ce();return Sr(r,zo(),e)&&function Lr(n,e,t,r,i,s,o,l){const c=vr(e,t);let f,h=e.inputs;!l&&null!=h&&(f=h[r])?(Yg(n,t,f,r,i),co(e)&&function Qy(n,e){const t=Zn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function qy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,yt(s)?s.setProperty(c,r,i):qa(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}(Tt(),un(),r,n,e,r[11],t,!1),Bt}function Tb(n,e,t,r,i){const o=i?"class":"style";Yg(n,t,e.inputs[o],o,r)}function ct(n,e,t,r){const i=ce(),s=Tt(),o=20+n,l=i[11],c=i[o]=Ud(l,e,function Jr(){return ze.lFrame.currentNamespace}()),h=s.firstCreatePass?function MI(n,e,t,r,i,s,o){const l=e.consts,h=ha(e,n,2,i,Is(l,s));return hh(e,t,h,Is(l,o)),null!==h.attrs&&ga(h,h.attrs,!1),null!==h.mergedAttrs&&ga(h,h.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,h),h}(o,s,i,0,e,t,r):s.data[o];Bi(h,!0);const f=h.mergedAttrs;null!==f&&za(l,c,f);const g=h.classes;null!==g&&Nr(l,c,g);const v=h.styles;return null!==v&&bg(l,c,v),64!=(64&h.flags)&&xu(s,i,c,h),0===function op(){return ze.lFrame.elementDepthCount}()&&er(c,i),function y(){ze.lFrame.elementDepthCount++}(),N(h)&&(uh(s,i,h),function xg(n,e,t){if(Lc(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,h,i)),null!==r&&ch(i,h),ct}function dt(){let n=sn();Yc()?function Xc(){ze.lFrame.isParent=!1}():(n=n.parent,Bi(n,!1));const e=n;!function Go(){ze.lFrame.elementDepthCount--}();const t=Tt();return t.firstCreatePass&&(Wa(t,n),Lc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function ji(n){return 0!=(16&n.flags)}(e)&&Tb(t,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function od(n){return 0!=(32&n.flags)}(e)&&Tb(t,e,ce(),e.stylesWithoutHost,!1),dt}function Ar(n,e,t,r){return ct(n,e,t,r),dt(),Ar}function wo(){return ce()}function Th(n){return!!n&&"function"==typeof n.then}function Gw(n){return!!n&&"function"==typeof n.subscribe}const Rb=Gw;function Rt(n,e,t,r){const i=ce(),s=Tt(),o=sn();return function qw(n,e,t,r,i,s,o,l){const c=N(r),f=n.firstCreatePass&&Qg(n),g=e[8],v=qg(e);let C=!0;if(3&r.type||l){const Q=vr(r,e),ae=l?l(Q):Q,$=v.length,be=l?ke=>l(mn(ke[r.index])):r.index;if(yt(t)){let ke=null;if(!l&&c&&(ke=function RI(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const l=e[7],c=i[s+2];return l.length>c?l[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==ke)(ke.__ngLastListenerFn__||ke).__ngNextListenerFn__=s,ke.__ngLastListenerFn__=s,C=!1;else{s=Ob(r,e,g,s,!1);const vt=t.listen(ae,i,s);v.push(s,vt),f&&f.push(i,be,$,$+1)}}else s=Ob(r,e,g,s,!0),ae.addEventListener(i,s,o),v.push(s),f&&f.push(i,be,$,o)}else s=Ob(r,e,g,s,!1);const P=r.outputs;let j;if(C&&null!==P&&(j=P[i])){const Q=j.length;if(Q)for(let ae=0;ae<Q;ae+=2){const fn=e[j[ae]][j[ae+1]].subscribe(s),Cn=v.length;v.push(s,fn),f&&f.push(i,r.index,Cn,-(Cn+1))}}}(s,i,i[11],o,n,e,!!t,r),Rt}function Qw(n,e,t,r){try{return!1!==t(r)}catch(i){return Zg(n,i),!1}}function Ob(n,e,t,r,i){return function s(o){if(o===Function)return r;const l=2&n.flags?Zn(n.index,e):e;0==(32&e[2])&&fl(l);let c=Qw(e,0,r,o),h=s.__ngNextListenerFn__;for(;h;)c=Qw(e,0,h,o)&&c,h=h.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function xt(n=1){return function id(n){return(ze.lFrame.contextLView=function Ua(n,e){for(;n>0;)e=e[15],n--;return e}(n,ze.lFrame.contextLView))[8]}(n)}function sD(n,e,t,r,i){const s=n[t+1],o=null===e;let l=r?Ci(s):ps(s),c=!1;for(;0!==l&&(!1===c||o);){const f=n[l+1];LI(n[l],e)&&(c=!0,n[l+1]=r?cl(f):Yd(f)),l=r?Ci(f):ps(f)}c&&(n[t+1]=r?Yd(s):cl(s))}function LI(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&na(n,e)>=0}function Do(n,e,t){return bs(n,e,t,!1),Do}function _l(n,e){return bs(n,e,null,!0),_l}function bs(n,e,t,r){const i=ce(),s=Tt(),o=as(2);s.firstUpdatePass&&function fD(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[kn()],o=function hD(n,e){return e>=n.expandoStartIndex}(n,t);(function _D(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function GI(n,e,t,r){const i=function ed(n){const e=ze.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Mh(t=Fb(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Fb(i,n,e,t,r),null===s){let c=function zI(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ps(r))return n[Ci(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Fb(null,n,e,c[1],r),c=Mh(c,e.attrs,r),function qI(n,e,t,r){n[Ci(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function QI(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Mh(r,n[s].hostAttrs,t);return Mh(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function kI(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,l=Ci(o),c=ps(o);n[r]=t;let f,h=!1;if(Array.isArray(t)){const g=t;f=g[1],(null===f||na(g,f)>0)&&(h=!0)}else f=t;if(i)if(0!==c){const v=Ci(n[l+1]);n[r+1]=Nu(v,l),0!==v&&(n[v+1]=Lu(n[v+1],r)),n[l+1]=function Hy(n,e){return 131071&n|e<<17}(n[l+1],r)}else n[r+1]=Nu(l,0),0!==l&&(n[l+1]=Lu(n[l+1],r)),l=r;else n[r+1]=Nu(c,0),0===l?l=r:n[c+1]=Lu(n[c+1],r),c=r;h&&(n[r+1]=Yd(n[r+1])),sD(n,f,r,!0),sD(n,f,r,!1),function NI(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&na(s,e)>=0&&(t[r+1]=cl(t[r+1]))}(e,f,n,r,s),o=Nu(l,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==Je&&Sr(i,o,e)&&function gD(n,e,t,r,i,s,o,l){if(!(3&e.type))return;const c=n.data,h=c[l+1];lm(function ca(n){return 1==(1&n)}(h)?mD(c,e,t,i,ps(h),o):void 0)||(lm(s)||function Sg(n){return 2==(2&n)}(h)&&(s=mD(c,null,t,i,l,o)),function Fy(n,e,t,r,i){const s=yt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:kr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const l="string"==typeof i&&i.endsWith("!important");l&&(i=i.slice(0,-10),o|=kr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,l?"important":"")}}}(r,o,Ms(kn(),t),i,s))}(s,s.data[kn()],i,i[11],n,i[o+1]=function XI(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ht(Hs(n)))),n}(e,t),r,o)}function Fb(n,e,t,r,i){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=e[l],r=Mh(r,s.hostAttrs,i),s!==n);)l++;return null!==n&&(t.directiveStylingLast=l),r}function Mh(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),br(n,o,!!t||e[++s]))}return void 0===n?null:n}function mD(n,e,t,r,i,s){const o=null===e;let l;for(;i>0;){const c=n[i],h=Array.isArray(c),f=h?c[1]:c,g=null===f;let v=t[i+1];v===Je&&(v=g?qt:void 0);let C=g?gu(v,r):f===r?v:void 0;if(h&&!lm(C)&&(C=gu(c,r)),lm(C)&&(l=C,o))return l;const P=n[i+1];i=o?Ci(P):ps(P)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(l=gu(c,r))}return l}function lm(n){return void 0!==n}function hn(n,e=""){const t=ce(),r=Tt(),i=n+20,s=r.firstCreatePass?ha(r,i,1,e,null):r.data[i],o=t[i]=function jd(n,e){return yt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);xu(r,t,o,s),Bi(s,!1)}function um(n){return vl("",n,""),um}function vl(n,e,t){const r=ce(),i=function $u(n,e,t,r){return Sr(n,zo(),t)?e+it(t)+r:Je}(r,n,e,t);return i!==Je&&vs(r,kn(),i),vl}function kb(n,e,t,r,i){const s=ce(),o=function Wu(n,e,t,r,i,s){const l=ml(n,os(),t,i);return as(2),l?e+it(t)+r+it(i)+s:Je}(s,n,e,t,r,i);return o!==Je&&vs(s,kn(),o),kb}function Nb(n,e,t,r,i,s,o){const l=ce(),c=Ku(l,n,e,t,r,i,s,o);return c!==Je&&vs(l,kn(),c),Nb}const cm="en-US";let LD=cm;function Vb(n,e,t,r,i){if(n=at(n),Array.isArray(n))for(let s=0;s<n.length;s++)Vb(n[s],e,t,r,i);else{const s=Tt(),o=ce();let l=_a(n)?n:at(n.provide),c=nm(n);const h=sn(),f=1048575&h.providerIndexes,g=h.directiveStart,v=h.providerIndexes>>20;if(_a(n)||!n.multi){const C=new Ga(c,i,se),P=jb(l,e,i?f:f+v,g);-1===P?(Qa(Zo(h,o),s,l),Hb(s,n,e.length),e.push(l),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),t.push(C),o.push(C)):(t[P]=C,o[P]=C)}else{const C=jb(l,e,f+v,g),P=jb(l,e,f,f+v),j=C>=0&&t[C],Q=P>=0&&t[P];if(i&&!Q||!i&&!j){Qa(Zo(h,o),s,l);const ae=function _O(n,e,t,r,i){const s=new Ga(n,t,se);return s.multi=[],s.index=e,s.componentProviders=0,aS(s,i,r&&!t),s}(i?mO:gO,t.length,i,r,c);!i&&Q&&(t[P].providerFactory=ae),Hb(s,n,e.length,0),e.push(l),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),t.push(ae),o.push(ae)}else Hb(s,n,C>-1?C:P,aS(t[i?P:C],c,!i&&r));!i&&r&&Q&&t[P].componentProviders++}}}function Hb(n,e,t,r){const i=_a(e),s=function a(n){return!!n.useClass}(e);if(i||s){const c=(s?at(e.useClass):e).prototype.ngOnDestroy;if(c){const h=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=h.indexOf(t);-1===f?h.push(t,[r,c]):h[f+1].push(r,c)}else h.push(t,c)}}}function aS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function jb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function gO(n,e,t,r){return Ub(this.multi,[])}function mO(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=Yo(t,t[1],this.providerFactory.index,r);s=l.slice(0,o),Ub(i,s);for(let c=o;c<l.length;c++)s.push(l[c])}else s=[],Ub(i,s);return s}function Ub(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function dn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function pO(n,e,t){const r=Tt();if(r.firstCreatePass){const i=Y(n);Vb(t,r.data,r.blueprint,i,!0),Vb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class lS{}class bO{resolveComponentFactory(e){throw function yO(n){const e=Error(`No component factory found for ${Ht(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Fh=(()=>{class n{}return n.NULL=new bO,n})();function CO(){return tc(sn(),ce())}function tc(n,e){return new Vr(vr(n,e))}let Vr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=CO,n})();function EO(n){return n instanceof Vr?n.nativeElement:n}class kh{}let So=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function DO(){const n=ce(),t=Zn(sn().index,n);return function wO(n){return n[11]}(ki(t)?t:n)}(),n})(),SO=(()=>{class n{}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:()=>null}),n})();class Nh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AO=new Nh("13.3.1"),$b={};function gm(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(mn(s)),pi(s))for(let l=10;l<s.length;l++){const c=s[l],h=c[1].firstChild;null!==h&&gm(c[1],c,h,r)}const o=t.type;if(8&o)gm(n,e,t.child,r);else if(32&o){const l=Nd(t,e);let c;for(;c=l();)r.push(c)}else if(16&o){const l=_g(e,t);if(Array.isArray(l))r.push(...l);else{const c=ol(e[16]);gm(c[1],c,l,r,!0)}}t=i?t.projectionNext:t.next}return r}class Lh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return gm(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(pi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(ua(e,r),pu(t,r))}this._attachedToViewContainer=!1}hg(this._lView[1],this._lView)}onDestroy(e){Lg(this._lView[1],this._lView,null,e)}markForCheck(){fl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function yh(n,e,t){tu(!0);try{vh(n,e,t)}finally{tu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Se(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Py(n,e){ul(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Se(902,"");this._appRef=e}}class PO extends Lh{constructor(e){super(e),this._view=e}detectChanges(){zg(this._view)}checkNoChanges(){!function db(n){tu(!0);try{zg(n)}finally{tu(!1)}}(this._view)}get context(){return null}}class cS extends Fh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=jn(e);return new Wb(t,this.ngModule)}}function dS(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Wb extends lS{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function fs(n){return n.map(Vy).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return dS(this.componentDef.inputs)}get outputs(){return dS(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function MO(n,e){return{get:(t,r,i)=>{const s=n.get(t,$b,i);return s!==$b||r===$b?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(kh,rp),l=s.get(SO,null),c=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function Ng(n,e,t){if(yt(n))return n.selectRootElement(e,t===zr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(c,r,this.componentDef.encapsulation):Ud(o.createRenderer(null,this.componentDef),h,function TO(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),g=this.componentDef.onPush?576:528,v=function Dw(n,e){return{components:[],scheduler:n||yy,clean:hb,playerHandler:e||null,flags:0}}(),C=_s(0,null,null,1,0,null,null,null,null,null),P=dl(null,C,v,g,null,null,o,c,l,s);let j,Q;nu(P);try{const ae=function Ew(n,e,t,r,i,s){const o=t[1];t[20]=n;const c=ha(o,20,2,"#host",null),h=c.mergedAttrs=e.hostAttrs;null!==h&&(ga(c,h,!0),null!==n&&(za(i,n,h),null!==c.classes&&Nr(i,n,c.classes),null!==c.styles&&bg(i,n,c.styles)));const f=r.createRenderer(n,e),g=dl(t,Fg(e),null,e.onPush?64:16,t[20],c,r,f,s||null,null);return o.firstCreatePass&&(Qa(Zo(c,t),o,e.type),Ug(o,c),$g(c,t.length,1)),Wn(t,g),t[20]=g}(f,this.componentDef,P,o,c);if(f)if(r)za(c,f,["ng-version",AO.full]);else{const{attrs:$,classes:be}=function Dg(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!bi(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);$&&za(c,f,$),be&&be.length>0&&Nr(c,f,be.join(" "))}if(Q=po(C,20),void 0!==t){const $=Q.projection=[];for(let be=0;be<this.ngContentSelectors.length;be++){const ke=t[be];$.push(null!=ke?Array.from(ke):null)}}j=function ww(n,e,t,r,i){const s=t[1],o=function Yy(n,e,t){const r=sn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Wg(n,r,e,fa(n,e,1,null),t));const i=Yo(e,n,r.directiveStart,r);er(i,e);const s=vr(r,e);return s&&er(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(c=>c(o,e)),e.contentQueries){const c=sn();e.contentQueries(1,o,c.directiveStart)}const l=sn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Os(l.index),Hg(t[1],l,0,l.directiveStart,l.directiveEnd,e),jg(e,o)),o}(ae,this.componentDef,P,v,[YM]),hl(C,P,null)}finally{ru()}return new RO(this.componentType,j,tc(Q,P),P,Q)}}class RO extends class vO{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new PO(i),this.componentType=e}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Ao{}class hS{}const nc=new Map;class gS extends Ao{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cS(this);const r=Rr(e);this._bootstrapComponents=Gi(r.bootstrap),this._r3Injector=tm(e,t,[{provide:Ao,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver}],Ht(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=m.THROW_IF_NOT_FOUND,r=nt.Default){return e===m||e===Ao||e===Eh?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Kb extends hS{constructor(e){super(),this.moduleType=e,null!==Rr(e)&&function xO(n){const e=new Set;!function t(r){const i=Rr(r,!0),s=i.id;null!==s&&(function fS(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ht(e)} vs ${Ht(e.name)}`)}(s,nc.get(s),r),nc.set(s,r));const o=Gi(i.imports);for(const l of o)e.has(l)||(e.add(l),t(l))}(n)}(e)}create(e){return new gS(this.moduleType,e)}}function _S(n,e,t,r,i,s){const o=e+t;return Sr(n,o,i)?zs(n,o+1,s?r.call(s,i):r(i)):function Bh(n,e){const t=n[e];return t===Je?void 0:t}(n,o+1)}function mm(n,e){const t=Tt();let r;const i=n+20;t.firstCreatePass?(r=function $O(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Ni(r.type)),o=As(se);try{const l=lu(!1),c=s();return lu(l),function uI(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ce(),i,c),c}finally{As(o)}}function _m(n,e,t){const r=n+20,i=ce(),s=Li(i,r);return function Vh(n,e){return n[1].data[e].pure}(i,r)?_S(i,hr(),e,s.transform,t,s):s.transform(t)}function Gb(n){return e=>{setTimeout(n,void 0,e)}}const Nt=class qO extends J{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let l=e,c=t||(()=>null),h=r;if(e&&"object"==typeof e){const g=e;l=null===(i=g.next)||void 0===i?void 0:i.bind(g),c=null===(s=g.error)||void 0===s?void 0:s.bind(g),h=null===(o=g.complete)||void 0===o?void 0:o.bind(g)}this.__isAsync&&(c=Gb(c),l&&(l=Gb(l)),h&&(h=Gb(h)));const f=super.subscribe({next:l,error:c,complete:h});return e instanceof k&&e.add(f),f}};function QO(){return this._results[ju()]()}class zb{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ju(),r=zb.prototype;r[t]||(r[t]=QO)}get changes(){return this._changes||(this._changes=new Nt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=yr(e);(this._changesDetected=!function Dp(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Po=(()=>{class n{}return n.__NG_ELEMENT_ID__=XO,n})();const ZO=Po,YO=class extends ZO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=dl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),hl(t,r,e),new Lh(r)}};function XO(){return vm(sn(),ce())}function vm(n,e){return 4&n.type?new YO(e,n,tc(n,e)):null}let Zi=(()=>{class n{}return n.__NG_ELEMENT_ID__=JO,n})();function JO(){return DS(sn(),ce())}const ex=Zi,ES=class extends ex{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return tc(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const e=uu(this._hostTNode,this._hostLView);if(pp(e)){const t=Ui(e,this._hostLView),r=Fs(e);return new Xo(t[1].data[r+8],t)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=wS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function ta(n){return"function"==typeof n}(e);let l;if(o)l=t;else{const g=t||{};l=g.index,r=g.injector,i=g.projectableNodes,s=g.ngModuleRef}const c=o?e:new Wb(jn(e)),h=r||this.parentInjector;if(!s&&null==c.ngModule){const v=(o?h:this.parentInjector).get(Ao,null);v&&(s=v)}const f=c.create(h,i,void 0,s);return this.insert(f.hostView,l),f}insert(e,t){const r=e._lView,i=r[1];if(function Ev(n){return pi(n[3])}(r)){const f=this.indexOf(e);if(-1!==f)this.detach(f);else{const g=r[3],v=new ES(g,g[6],g[3]);v.detach(v.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function My(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],us(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function Iy(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const l=e[19];null!==l&&l.insertView(n),e[2]|=128}(i,r,o,s);const l=qd(s,o),c=r[11],h=Ru(c,o[7]);return null!==h&&function Ay(n,e,t,r,i,s){r[0]=i,r[6]=e,ul(n,r,t,1,i,s)}(i,o[6],c,r,h,l),e.attachToViewContainerRef(),us(qb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=wS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=ua(this._lContainer,t);r&&(pu(qb(this._lContainer),t),hg(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=ua(this._lContainer,t);return r&&null!=pu(qb(this._lContainer),t)?new Lh(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function wS(n){return n[8]}function qb(n){return n[8]||(n[8]=[])}function DS(n,e){let t;const r=e[n.index];if(pi(r))t=r;else{let i;if(8&n.type)i=mn(r);else{const s=e[11];i=s.createComment("");const o=vr(n,e);Us(s,Ru(s,o),i,function Ou(n,e){return yt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=Gg(r,e,i,n),Wn(e,t)}return new ES(t,n,e)}class Qb{constructor(e){this.queryList=e,this.matches=null}clone(){return new Qb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Zb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==MS(e,t).matches&&this.queries[t].setDirty()}}class SS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Yb{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Yb(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Xb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Xb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,rx(t,s)),this.matchTNodeWithReadOption(e,t,hu(t,e,s,!1,!1))}else r===Po?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Vr||i===Zi||i===Po&&4&t.type)this.addMatch(t.index,-2);else{const s=hu(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function rx(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function sx(n,e,t,r){return-1===t?function ix(n,e){return 11&n.type?tc(n,e):4&n.type?vm(n,e):null}(e,n):-2===t?function ox(n,e,t){return t===Vr?tc(e,n):t===Po?vm(e,n):t===Zi?DS(e,n):void 0}(n,e,r):Yo(n,n[1],t,e)}function AS(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,l=[];for(let c=0;c<o.length;c+=2){const h=o[c];l.push(h<0?null:sx(e,s[h],o[c+1],t.metadata.read))}i.matches=l}return i.matches}function Jb(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=AS(n,e,i,t);for(let l=0;l<s.length;l+=2){const c=s[l];if(c>0)r.push(o[l/2]);else{const h=s[l+1],f=e[-c];for(let g=10;g<f.length;g++){const v=f[g];v[17]===v[3]&&Jb(v[1],v,h,r)}if(null!==f[9]){const g=f[9];for(let v=0;v<g.length;v++){const C=g[v];Jb(C[1],C,h,r)}}}}}return r}function Zs(n){const e=ce(),t=Tt(),r=Xr();td(r+1);const i=MS(t,r);if(n.dirty&&go(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Jb(t,e,r,[]):AS(t,e,i,r);n.reset(s,EO),n.notifyOnChanges()}return!0}return!1}function Hh(n,e,t){const r=Tt();r.firstCreatePass&&(TS(r,new SS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),PS(r,ce(),e)}function rc(n,e,t,r){const i=Tt();if(i.firstCreatePass){const s=sn();TS(i,new SS(e,t,r),s.index),function lx(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}PS(i,ce(),t)}function Ys(){return function ax(n,e){return n[19].queries[e].queryList}(ce(),Xr())}function PS(n,e,t){const r=new zb(4==(4&t));Lg(n,e,r,r.destroy),null===e[19]&&(e[19]=new Zb),e[19].queries.push(new Qb(r))}function TS(n,e,t){null===n.queries&&(n.queries=new Yb),n.queries.track(new Xb(e,t))}function MS(n,e){return n.queries.getByIndex(e)}function IS(n,e){return vm(n,e)}function Cm(...n){}const sC=new Ve("Application Initializer");let oC=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Cm,this.reject=Cm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Th(s))t.push(s);else if(Rb(s)){const o=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Ae(sC,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uh=new Ve("AppId",{providedIn:"root",factory:function zS(){return`${aC()}${aC()}${aC()}`}});function aC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qS=new Ve("Platform Initializer"),Em=new Ve("Platform ID"),QS=new Ve("appBootstrapListener");let ZS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const va=new Ve("LocaleId",{providedIn:"root",factory:()=>Xa(va,nt.Optional|nt.SkipSelf)||function Sx(){return"undefined"!=typeof $localize&&$localize.locale||cm}()});class Px{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let YS=(()=>{class n{compileModuleSync(t){return new Kb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Gi(Rr(t).declarations).reduce((o,l)=>{const c=jn(l);return c&&o.push(new Wb(c)),o},[]);return new Px(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mx=(()=>Promise.resolve(0))();function lC(n){"undefined"==typeof Zone?Mx.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class yn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nt(!1),this.onMicrotaskEmpty=new Nt(!1),this.onStable=new Nt(!1),this.onError=new Nt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ix(){let n=jt.requestAnimationFrame,e=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function xx(n){const e=()=>{!function Ox(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(jt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cC(n),n.isCheckStableRunning=!0,uC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,l)=>{try{return XS(n),t.invokeTask(i,s,o,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),JS(n)}},onInvoke:(t,r,i,s,o,l,c)=>{try{return XS(n),t.invoke(i,s,o,l,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),JS(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,cC(n),uC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Rx,Cm,Cm);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Rx={};function uC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function XS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function JS(n){n._nesting--,uC(n)}class Fx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nt,this.onMicrotaskEmpty=new Nt,this.onStable=new Nt,this.onError=new Nt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let dC=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yn.assertNotInAngularZone(),lC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Ae(yn))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),eA=(()=>{class n{constructor(){this._applications=new Map,hC.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return hC.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class kx{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Es,hC=new kx;const tA=new Ve("AllowMultipleToken");class nA{constructor(e,t){this.name=e,this.token=t}}function rA(n,e,t=[]){const r=`Platform: ${e}`,i=new Ve(r);return(s=[])=>{let o=iA();if(!o||o.injector.get(tA,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const l=t.concat(s).concat({provide:i,useValue:!0},{provide:wh,useValue:"platform"});!function Vx(n){if(Es&&!Es.destroyed&&!Es.injector.get(tA,!1))throw new Se(400,"");Es=n.get(sA);const e=n.get(qS,null);e&&e.forEach(t=>t())}(m.create({providers:l,name:r}))}return function Hx(n){const e=iA();if(!e)throw new Se(401,"");return e}()}}function iA(){return Es&&!Es.destroyed?Es:null}let sA=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const l=function jx(n,e){let t;return t="noop"===n?new Fx:("zone.js"===n?void 0:n)||new yn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:yn,useValue:l}];return l.run(()=>{const h=m.create({providers:c,parent:this.injector,name:t.moduleType.name}),f=t.create(h),g=f.injector.get(sl,null);if(!g)throw new Se(402,"");return l.runOutsideAngular(()=>{const v=l.onError.subscribe({next:C=>{g.handleError(C)}});f.onDestroy(()=>{pC(this._modules,f),v.unsubscribe()})}),function Ux(n,e,t){try{const r=t();return Th(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(g,l,()=>{const v=f.injector.get(oC);return v.runInitializers(),v.donePromise.then(()=>(function wR(n){mr(n,"Expected localeId to be defined"),"string"==typeof n&&(LD=n.toLowerCase().replace(/_/g,"-"))}(f.injector.get(va,cm)||cm),this._moduleDoBootstrap(f),f))})})}bootstrapModule(t,r=[]){const i=oA({},r);return function Lx(n,e,t){const r=new Kb(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(fC);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Se(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Ae(m))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function oA(n,e){return Array.isArray(e)?e.reduce(oA,n):Object.assign(Object.assign({},n),e)}let fC=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new R(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),c=new R(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{yn.assertNotInAngularZone(),lC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{yn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=Ul(l,c.pipe(function Nf(n={}){const{connector:e=(()=>new J),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,l=null,c=null,h=0,f=!1,g=!1;const v=()=>{null==l||l.unsubscribe(),l=null},C=()=>{v(),o=c=null,f=g=!1},P=()=>{const j=o;C(),null==j||j.unsubscribe()};return _e((j,Q)=>{h++,!g&&!f&&v();const ae=c=null!=c?c:e();Q.add(()=>{h--,0===h&&!g&&!f&&(l=Mc(P,i))}),ae.subscribe(Q),o||(o=new Ie({next:$=>ae.next($),error:$=>{g=!0,v(),l=Mc(C,t,$),ae.error($)},complete:()=>{f=!0,v(),l=Mc(C,r),ae.complete()}}),In(j).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new Se(405,"");let i;i=t instanceof lS?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function Bx(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Ao),l=i.create(m.NULL,[],r||i.selector,s),c=l.location.nativeElement,h=l.injector.get(dC,null),f=h&&l.injector.get(eA);return h&&f&&f.registerApplication(c,h),l.onDestroy(()=>{this.detachView(l.hostView),pC(this.components,l),f&&f.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Se(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;pC(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(QS,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Ae(yn),Ae(m),Ae(sl),Ae(Fh),Ae(oC))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let lA=!0,sc=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kx,n})();function Kx(n){return function Gx(n,e,t){if(co(n)&&!t){const r=Zn(n.index,e);return new Lh(r,r)}return 47&n.type?new Lh(e[16],e):null}(sn(),ce(),16==(16&n))}class fA{constructor(){}supports(e){return Ah(e)}create(e){return new Xx(e)}}const Yx=(n,e)=>e;class Xx{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Yx}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<gA(r,i,s)?t:r,l=gA(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const h=l-i,f=c-i;if(h!=f){for(let v=0;v<h;v++){const C=v<s.length?s[v]:s[v]=0,P=C+v;f<=P&&P<h&&(s[v]=C+1)}s[o.previousIndex]=f-h}}l!==c&&e(o,l,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ah(e))throw new Se(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)s=e[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),r=!0),t=t._next}else i=0,function aI(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ju()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,l=>{o=this._trackByFn(i,l),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,l,o,i)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Jx(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new pA),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Jx{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eF{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class pA{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new eF,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gA(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class mA{constructor(){}supports(e){return e instanceof Map||Eb(e)}create(){return new tF}}class tF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Eb(e)))throw new Se(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new nF(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class nF{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _A(){return new Sm([new fA])}let Sm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||_A()),deps:[[n,new ia,new ds]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Se(901,"")}}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:_A}),n})();function vA(){return new $h([new mA])}let $h=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||vA()),deps:[[n,new ia,new ds]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new Se(901,"")}}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:vA}),n})();const sF=rA(null,"core",[{provide:Em,useValue:"unknown"},{provide:sA,deps:[m]},{provide:eA,deps:[]},{provide:ZS,deps:[]}]);let oF=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Ae(fC))},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})(),Am=null;function Xs(){return Am}const Gn=new Ve("DocumentToken");let Cl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:function(){return function cF(){return Ae(yA)}()},providedIn:"platform"}),n})();const dF=new Ve("Location Initialized");let yA=(()=>{class n extends Cl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xs().getBaseHref(this._doc)}onPopState(t){const r=Xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){bA()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){bA()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn))},n.\u0275prov=Xe({token:n,factory:function(){return function hF(){return new yA(Ae(Gn))}()},providedIn:"platform"}),n})();function bA(){return!!window.history.pushState}function yC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function CA(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function To(n){return n&&"?"!==n[0]?"?"+n:n}let oc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:function(){return function fF(n){const e=Ae(Gn).location;return new EA(Ae(Cl),e&&e.origin||"")}()},providedIn:"root"}),n})();const bC=new Ve("appBaseHref");let EA=(()=>{class n extends oc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+To(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+To(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+To(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Cl),Ae(bC,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),pF=(()=>{class n extends oc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=yC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+To(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+To(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Cl),Ae(bC,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),CC=(()=>{class n{constructor(t,r){this._subject=new Nt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=CA(wA(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+To(r))}normalize(t){return n.stripTrailingSlash(function mF(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,wA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+To(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+To(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=To,n.joinWithSlash=yC,n.stripTrailingSlash=CA,n.\u0275fac=function(t){return new(t||n)(Ae(oc),Ae(Cl))},n.\u0275prov=Xe({token:n,factory:function(){return function gF(){return new CC(Ae(oc),Ae(Cl))}()},providedIn:"root"}),n})();function wA(n){return n.replace(/\/index.html$/,"")}let OA=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ah(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ht(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(se(Sm),se($h),se(Vr),se(So))},n.\u0275dir=Ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class tk{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nm=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new tk(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const l=r.get(s);r.move(l,o),xA(l,i)}});for(let i=0,s=r.length;i<s;i++){const l=r.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(se(Zi),se(Po),se(Sm))},n.\u0275dir=Ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xA(n,e){n.context.$implicit=e.item}let Lm=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new nk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){FA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){FA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(se(Zi),se(Po))},n.\u0275dir=Ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class nk{constructor(){this.$implicit=null,this.ngIf=null}}function FA(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ht(e)}'.`)}let NA=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(se(Vr),se($h),se(So))},n.\u0275dir=Ge({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class ak{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class lk{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const uk=new lk,ck=new ak;let LA=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Th(t))return uk;if(Gw(t))return ck;throw function Ds(n,e){return new Se(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(se(sc,16))},n.\u0275pipe=dr({name:"async",type:n,pure:!1}),n})(),BA=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=VA}transform(t,r=VA){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function Ck(n,e){return{key:n,value:e}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(se($h,16))},n.\u0275pipe=dr({name:"keyvalue",type:n,pure:!1}),n})();function VA(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let HA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})();const jA="browser";let Ik=(()=>{class n{}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:()=>new Rk(Ae(Gn),window)}),n})();class Rk{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ok(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=UA(this.window.history)||UA(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function UA(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kC extends class Fk extends class uF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function lF(n){Am||(Am=n)}(new kC)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function kk(){return Gh=Gh||document.querySelector("base"),Gh?Gh.getAttribute("href"):null}();return null==t?null:function Nk(n){Bm=Bm||document.createElement("a"),Bm.setAttribute("href",n);const e=Bm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function JF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Bm,Gh=null;const $A=new Ve("TRANSITION_ID"),Bk=[{provide:sC,useFactory:function Lk(n,e,t){return()=>{t.get(oC).donePromise.then(()=>{const r=Xs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[$A,Gn,m],multi:!0}];class NC{static init(){!function Nx(n){hC=n}(new NC)}addToWindow(e){jt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},jt.getAllAngularTestabilities=()=>e.getAllTestabilities(),jt.getAllAngularRootElements=()=>e.getAllRootElements(),jt.frameworkStabilizers||(jt.frameworkStabilizers=[]),jt.frameworkStabilizers.push(r=>{const i=jt.getAllAngularTestabilities();let s=i.length,o=!1;const l=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(l)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Xs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Vk=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const Vm=new Ve("EventManagerPlugins");let Hm=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Vm),Ae(yn))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class WA{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Xs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let KA=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),zh=(()=>{class n extends KA{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(GA),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(GA))}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function GA(n){Xs().remove(n)}const LC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BC=/%COMP%/g;function jm(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jm(n,i,t):(i=i.replace(BC,n),t.push(i))}return t}function QA(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Um=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new VC(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case zr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Kk(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case zr.ShadowDom:return new Gk(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=jm(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Ae(Hm),Ae(zh),Ae(Uh))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class VC{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(LC[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=LC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=LC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(kr.DashCase|kr.Important)?e.style.setProperty(t,r,i&kr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&kr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,QA(r)):this.eventManager.addEventListener(e,t,QA(r))}}class Kk extends VC{constructor(e,t,r,i){super(e),this.component=r;const s=jm(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Uk(n){return"_ngcontent-%COMP%".replace(BC,n)}(i+"-"+r.id),this.hostAttr=function $k(n){return"_nghost-%COMP%".replace(BC,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Gk extends VC{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jm(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let zk=(()=>{class n extends WA{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const YA=["alt","control","meta","shift"],Qk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yk=(()=>{class n extends WA{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(YA.forEach(c=>{const h=r.indexOf(c);h>-1&&(r.splice(h,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static getEventFullKey(t){let r="",i=function Xk(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&XA.hasOwnProperty(e)&&(e=XA[e]))}return Qk[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),YA.forEach(s=>{s!=i&&Zk[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const nN=rA(sF,"browser",[{provide:Em,useValue:jA},{provide:qS,useValue:function Jk(){kC.makeCurrent(),NC.init()},multi:!0},{provide:Gn,useFactory:function tN(){return function yv(n){Xl=n}(document),document},deps:[]}]),rN=[{provide:wh,useValue:"root"},{provide:sl,useFactory:function eN(){return new sl},deps:[]},{provide:Vm,useClass:zk,multi:!0,deps:[Gn,yn,Em]},{provide:Vm,useClass:Yk,multi:!0,deps:[Gn]},{provide:Um,useClass:Um,deps:[Hm,zh,Uh]},{provide:kh,useExisting:Um},{provide:KA,useExisting:zh},{provide:zh,useClass:zh,deps:[Gn]},{provide:dC,useClass:dC,deps:[yn]},{provide:Hm,useClass:Hm,deps:[Vm,yn]},{provide:class xk{},useClass:Vk,deps:[]}];let JA=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Uh,useValue:t.appId},{provide:$A,useExisting:Uh},Bk]}}}return n.\u0275fac=function(t){return new(t||n)(Ae(n,12))},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({providers:rN,imports:[HA,oF]}),n})();function _t(...n){return In(n,Ra(n))}"undefined"!=typeof window&&window;class jr extends J{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:pN}=Array,{getPrototypeOf:gN,prototype:mN,keys:_N}=Object;function nP(n){if(1===n.length){const e=n[0];if(pN(e))return{args:e,keys:null};if(function vN(n){return n&&"object"==typeof n&&gN(n)===mN}(e)){const t=_N(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:yN}=Array;function rP(n){return ve(e=>function bN(n,e){return yN(e)?n(...e):n(e)}(n,e))}function iP(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function sP(n,e,t){n?di(t,n,e):e()}function $m(n,e){const t=E(n)?n:()=>n,r=i=>i.error(t());return new R(e?i=>e.schedule(r,0,i):r)}const Wm=_(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jC(...n){return function wN(){return Ia(1)}()(In(n,Ra(n)))}function oP(n){return new R(e=>{Wr(n()).subscribe(e)})}function aP(){return _e((n,e)=>{let t=null;n._refCount++;const r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class DN extends R{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,wt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new k;const t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=k.EMPTY)}return e}refCount(){return aP()(this)}}function ba(n,e){return _e((t,r)=>{let i=null,s=0,o=!1;const l=()=>o&&!i&&r.complete();t.subscribe(de(r,c=>{null==i||i.unsubscribe();let h=0;const f=s++;Wr(n(c,f)).subscribe(i=de(r,g=>r.next(e?e(c,g,f,h++):g),()=>{i=null,l()}))},()=>{o=!0,l()}))})}function UC(...n){const e=Ra(n);return _e((t,r)=>{(e?jC(n,t,e):jC(n,t)).subscribe(r)})}function SN(n,e,t,r,i){return(s,o)=>{let l=t,c=e,h=0;s.subscribe(de(o,f=>{const g=h++;c=l?n(c,f,g):(l=!0,f),r&&o.next(c)},i&&(()=>{l&&o.next(c),o.complete()})))}}function lP(n,e){return _e(SN(n,e,arguments.length>=2,!0))}function ac(n,e){return _e((t,r)=>{let i=0;t.subscribe(de(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Ca(n){return _e((e,t)=>{let s,r=null,i=!1;r=e.subscribe(de(t,void 0,void 0,o=>{s=Wr(n(o,Ca(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function qh(n,e){return E(e)?Mn(n,e,1):Mn(n,1)}function $C(n){return n<=0?()=>is:_e((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function uP(n=AN){return _e((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function AN(){return new Wm}function cP(n){return _e((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function lc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ac((i,s)=>n(i,s,r)):Ke,so(1),t?cP(e):uP(()=>new Wm))}function li(n,e,t){const r=E(n)||e||t?{next:n,error:e,complete:t}:n;return r?_e((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let l=!0;i.subscribe(de(s,c=>{var h;null===(h=r.next)||void 0===h||h.call(r,c),s.next(c)},()=>{var c;l=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var h;l=!1,null===(h=r.error)||void 0===h||h.call(r,c),s.error(c)},()=>{var c,h;l&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(h=r.finalize)||void 0===h||h.call(r)}))}):Ke}class Io{constructor(e,t){this.id=e,this.url=t}}class WC extends Io{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qh extends Io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dP extends Io{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class MN extends Io{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IN extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RN extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ON extends Io{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xN extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FN extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hP{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fP{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kN{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NN{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LN{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BN{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Et="primary";class VN{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uc(n){return new VN(n)}const gP="ngNavigationCancelingError";function KC(n){const e=Error("NavigationCancelingError: "+n);return e[gP]=!0,e}function jN(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],l=n[s];if(o.startsWith(":"))i[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Js(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mP(n[i],e[i]))return!1;return!0}function mP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _P(n){return Array.prototype.concat.apply([],n)}function vP(n){return n.length>0?n[n.length-1]:null}function gr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function eo(n){return Rb(n)?n:Th(n)?In(Promise.resolve(n)):_t(n)}const WN={exact:function CP(n,e,t){if(!wl(n.segments,e.segments)||!Km(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!CP(n.children[r],e.children[r],t))return!1;return!0},subset:EP},yP={exact:function KN(n,e){return Js(n,e)},subset:function GN(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mP(n[t],e[t]))},ignored:()=>!0};function bP(n,e,t){return WN[t.paths](n.root,e.root,t.matrixParams)&&yP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function EP(n,e,t){return wP(n,e,e.segments,t)}function wP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wl(i,t)||e.hasChildren()||!Km(i,t,r))}if(n.segments.length===t.length){if(!wl(n.segments,t)||!Km(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!EP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(wl(n.segments,i)&&Km(n.segments,i,r)&&n.children[Et])&&wP(n.children[Et],e,s,r)}}function Km(n,e,t){return e.every((r,i)=>yP[t](n[i].parameters,r.parameters))}class El{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return QN.serialize(this)}}class Mt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,gr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gm(this)}}class Zh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uc(this.parameters)),this._parameterMap}toString(){return TP(this)}}function wl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class DP{}class SP{parse(e){const t=new iL(e);return new El(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yh(e.root,!0)}`,r=function XN(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zm(t)}=${zm(i)}`).join("&"):`${zm(t)}=${zm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ZN(n){return encodeURI(n)}(e.fragment)}`:""}`}}const QN=new SP;function Gm(n){return n.segments.map(e=>TP(e)).join("/")}function Yh(n,e){if(!n.hasChildren())return Gm(n);if(e){const t=n.children[Et]?Yh(n.children[Et],!1):"",r=[];return gr(n.children,(i,s)=>{s!==Et&&r.push(`${s}:${Yh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function qN(n,e){let t=[];return gr(n.children,(r,i)=>{i===Et&&(t=t.concat(e(r,i)))}),gr(n.children,(r,i)=>{i!==Et&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Et?[Yh(n.children[Et],!1)]:[`${i}:${Yh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Et]?`${Gm(n)}/${t[0]}`:`${Gm(n)}/(${t.join("//")})`}}function AP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zm(n){return AP(n).replace(/%3B/gi,";")}function GC(n){return AP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qm(n){return decodeURIComponent(n)}function PP(n){return qm(n.replace(/\+/g,"%20"))}function TP(n){return`${GC(n.path)}${function YN(n){return Object.keys(n).map(e=>`;${GC(e)}=${GC(n[e])}`).join("")}(n.parameters)}`}const JN=/^[^\/()?;=#]+/;function Qm(n){const e=n.match(JN);return e?e[0]:""}const eL=/^[^=?&#]+/,nL=/^[^&#]+/;class iL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Et]=new Mt(e,t)),r}parseSegment(){const e=Qm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zh(qm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Qm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Qm(this.remaining);i&&(r=i,this.capture(r))}e[qm(t)]=qm(r)}parseQueryParam(e){const t=function tL(n){const e=n.match(eL);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function rL(n){const e=n.match(nL);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=PP(t),s=PP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Et);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Et]:new Mt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class MP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=zC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=zC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qC(e,this._root).map(t=>t.value)}}function zC(n,e){if(n===e.value)return e;for(const t of e.children){const r=zC(n,t);if(r)return r}return null}function qC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qC(n,t);if(r.length)return r.unshift(e),r}return[]}class Ro{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function cc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IP extends MP{constructor(e,t){super(e),this.snapshot=t,QC(this,e)}toString(){return this.snapshot.toString()}}function RP(n,e){const t=function sL(n,e){const o=new Zm([],{},{},"",{},Et,e,null,n.root,-1,{});return new xP("",new Ro(o,[]))}(n,e),r=new jr([new Zh("",{})]),i=new jr({}),s=new jr({}),o=new jr({}),l=new jr(""),c=new dc(r,i,o,l,s,Et,e,t.root);return c.snapshot=t.root,new IP(new Ro(c,[]),t)}class dc{constructor(e,t,r,i,s,o,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=l,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>uc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>uc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function oL(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Zm{constructor(e,t,r,i,s,o,l,c,h,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=l,this.routeConfig=c,this._urlSegment=h,this._lastPathIndex=f,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xP extends MP{constructor(e,t){super(t),this.url=e,QC(this,t)}toString(){return FP(this._root)}}function QC(n,e){e.value._routerState=n,e.children.forEach(t=>QC(n,t))}function FP(n){const e=n.children.length>0?` { ${n.children.map(FP).join(", ")} } `:"";return`${n.value}${e}`}function ZC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Js(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Js(e.params,t.params)||n.params.next(t.params),function UN(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Js(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Js(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function YC(n,e){const t=Js(n.params,e.params)&&function zN(n,e){return wl(n,e)&&n.every((t,r)=>Js(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||YC(n.parent,e.parent))}function Xh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function lL(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xh(n,r,i);return Xh(n,r)})}(n,e,t);return new Ro(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(l=>Xh(n,l)),o}}const r=function uL(n){return new dc(new jr(n.url),new jr(n.params),new jr(n.queryParams),new jr(n.fragment),new jr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Xh(n,s));return new Ro(r,i)}}function Ym(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jh(n){return"object"==typeof n&&null!=n&&n.outlets}function XC(n,e,t,r,i){let s={};if(r&&gr(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),n===e)return new El(t,s,i);const o=kP(n,e,t);return new El(o,s,i)}function kP(n,e,t){const r={};return gr(n.children,(i,s)=>{r[s]=i===e?t:kP(i,e,t)}),new Mt(n.segments,r)}class NP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ym(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Jh);if(i&&i!==vP(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class JC{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function LP(n,e,t){if(n||(n=new Mt([],{})),0===n.segments.length&&n.hasChildren())return Xm(n,e,t);const r=function gL(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],l=t[r];if(Jh(l))break;const c=`${l}`,h=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&h&&"object"==typeof h&&void 0===h.outlets){if(!VP(c,h,o))return s;r+=2}else{if(!VP(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Mt(n.segments.slice(0,r.pathIndex),{});return s.children[Et]=new Mt(n.segments.slice(r.pathIndex),n.children),Xm(s,0,i)}return r.match&&0===i.length?new Mt(n.segments,{}):r.match&&!n.hasChildren()?e0(n,e,t):r.match?Xm(n,0,i):e0(n,e,t)}function Xm(n,e,t){if(0===t.length)return new Mt(n.segments,{});{const r=function pL(n){return Jh(n[0])?n[0].outlets:{[Et]:n}}(t),i={};return gr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=LP(n.children[o],e,s))}),gr(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Mt(n.segments,i)}}function e0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Jh(s)){const c=mL(s.outlets);return new Mt(r,c)}if(0===i&&Ym(t[0])){r.push(new Zh(n.segments[e].path,BP(t[0]))),i++;continue}const o=Jh(s)?s.outlets[Et]:`${s}`,l=i<t.length-1?t[i+1]:null;o&&l&&Ym(l)?(r.push(new Zh(o,BP(l))),i+=2):(r.push(new Zh(o,{})),i++)}return new Mt(r,{})}function mL(n){const e={};return gr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=e0(new Mt([],{}),0,t))}),e}function BP(n){const e={};return gr(n,(t,r)=>e[r]=`${t}`),e}function VP(n,e,t){return n==t.path&&Js(e,t.parameters)}class vL{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ZC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=cc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),gr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=cc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=cc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=cc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new BN(s.value.snapshot))}),e.children.length&&this.forwardEvent(new NN(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(ZC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),ZC(l.route.value),this.activateChildRoutes(e,null,o.children)}else{const l=function yL(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),c=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=c,o.outlet&&o.outlet.activateWith(i,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class t0{constructor(e,t){this.routes=e,this.module=t}}function Ea(n){return"function"==typeof n}function Dl(n){return n instanceof El}const ef=Symbol("INITIAL_VALUE");function tf(){return ba(n=>function CN(...n){const e=Ra(n),t=Tc(n),{args:r,keys:i}=nP(n);if(0===r.length)return In([],e);const s=new R(function EN(n,e,t=Ke){return r=>{sP(e,()=>{const{length:i}=n,s=new Array(i);let o=i,l=i;for(let c=0;c<i;c++)sP(e,()=>{const h=In(n[c],e);let f=!1;h.subscribe(de(r,g=>{s[c]=g,f||(f=!0,l--),l||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>iP(i,o):Ke));return t?s.pipe(rP(t)):s}(n.map(e=>e.pipe(so(1),UC(ef)))).pipe(lP((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==ef?i:(s===ef&&(r=!0),r||!1!==s&&o!==t.length-1&&!Dl(s)?i:s),e)},ef),ac(e=>e!==ef),ve(e=>Dl(e)?e:!0===e),so(1)))}class SL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nf,this.attachRef=null}}class nf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new SL,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let n0=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Nt,this.deactivateEvents=new Nt,this.attachEvents=new Nt,this.detachEvents=new Nt,this.name=s||Et,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,c=new AL(t,l,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(se(nf),se(Zi),se(Fh),function yo(n){return function dd(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Yn(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(sn(),n)}("name"),se(sc))},n.\u0275dir=Ge({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class AL{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===dc?this.route:e===nf?this.childContexts:this.parent.get(e,t)}}let HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ps({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Ar(0,"router-outlet")},directives:[n0],encapsulation:2}),n})();function jP(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];PL(r,TL(e,r))}}function PL(n,e){n.children&&jP(n.children,e)}function TL(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function r0(n){const e=n.children&&n.children.map(r0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Et&&(t.component=HP),t}function Ji(n){return n.outlet||Et}function UP(n,e){const t=n.filter(r=>Ji(r)===e);return t.push(...n.filter(r=>Ji(r)!==e)),t}const $P={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},$P):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||jN)(t,n,e);if(!s)return Object.assign({},$P);const o={};gr(s.posParams,(c,h)=>{o[h]=c.path});const l=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function e_(n,e,t,r,i="corrected"){if(t.length>0&&function RL(n,e,t){return t.some(r=>t_(n,e,r)&&Ji(r)!==Et)}(n,t,r)){const o=new Mt(e,function IL(n,e,t,r){const i={};i[Et]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ji(s)!==Et){const o=new Mt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Ji(s)]=o}return i}(n,e,r,new Mt(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function OL(n,e,t){return t.some(r=>t_(n,e,r))}(n,t,r)){const o=new Mt(n.segments,function ML(n,e,t,r,i,s){const o={};for(const l of r)if(t_(n,t,l)&&!i[Ji(l)]){const c=new Mt([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Ji(l)]=c}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Mt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function t_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function WP(n,e,t,r){return!!(Ji(n)===r||r!==Et&&t_(e,t,n))&&("**"===n.path||Jm(e,n,t).matched)}function KP(n,e,t){return 0===e.length&&!n.children[t]}class n_{constructor(e){this.segmentGroup=e||null}}class GP{constructor(e){this.urlTree=e}}function rf(n){return $m(new n_(n))}function zP(n){return $m(new GP(n))}class NL{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Ao)}apply(){const e=e_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Mt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Et).pipe(ve(s=>this.createUrlTree(s0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ca(s=>{if(s instanceof GP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof n_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Et).pipe(ve(i=>this.createUrlTree(s0(i),e.queryParams,e.fragment))).pipe(Ca(i=>{throw i instanceof n_?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Mt([],{[Et]:e}):e;return new El(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ve(s=>new Mt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return In(i).pipe(qh(s=>{const o=r.children[s],l=UP(t,s);return this.expandSegmentGroup(e,l,o,s).pipe(ve(c=>({segment:c,outlet:s})))}),lP((s,o)=>(s[o.outlet]=o.segment,s),{}),function PN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ac((i,s)=>n(i,s,r)):Ke,$C(1),t?cP(e):uP(()=>new Wm))}())}expandSegment(e,t,r,i,s,o){return In(r).pipe(qh(l=>this.expandSegmentAgainstRoute(e,t,r,l,i,s,o).pipe(Ca(h=>{if(h instanceof n_)return _t(null);throw h}))),lc(l=>!!l),Ca((l,c)=>{if(l instanceof Wm||"EmptyError"===l.name)return KP(t,i,s)?_t(new Mt([],{})):rf(t);throw l}))}expandSegmentAgainstRoute(e,t,r,i,s,o,l){return WP(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):rf(t):rf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zP(s):this.lineralizeSegments(r,s).pipe(Mn(o=>{const l=new Mt(o,{});return this.expandSegment(e,l,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:l,consumedSegments:c,remainingSegments:h,positionalParamSegments:f}=Jm(t,i,s);if(!l)return rf(t);const g=this.applyRedirectCommands(c,i.redirectTo,f);return i.redirectTo.startsWith("/")?zP(g):this.lineralizeSegments(i,g).pipe(Mn(v=>this.expandSegment(e,t,r,v.concat(h),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?_t(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ve(g=>(r._loadedConfig=g,new Mt(i,{})))):_t(new Mt(i,{}));const{matched:o,consumedSegments:l,remainingSegments:c}=Jm(t,r,i);return o?this.getChildConfig(e,r,i).pipe(Mn(f=>{const g=f.module,v=f.routes,{segmentGroup:C,slicedSegments:P}=e_(t,l,c,v),j=new Mt(C.segments,C.children);if(0===P.length&&j.hasChildren())return this.expandChildren(g,v,j).pipe(ve(be=>new Mt(l,be)));if(0===v.length&&0===P.length)return _t(new Mt(l,{}));const Q=Ji(r)===s;return this.expandSegment(g,j,v,P,Q?Et:s,!0).pipe(ve($=>new Mt(l.concat($.segments),$.children)))})):rf(t)}getChildConfig(e,t,r){return t.children?_t(new t0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?_t(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Mn(i=>i?this.configLoader.load(e.injector,t).pipe(ve(s=>(t._loadedConfig=s,s))):function FL(n){return $m(KC(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):_t(new t0([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?_t(i.map(o=>{const l=e.get(o);let c;if(function CL(n){return n&&Ea(n.canLoad)}(l))c=l.canLoad(t,r);else{if(!Ea(l))throw new Error("Invalid CanLoad guard");c=l(t,r)}return eo(c)})).pipe(tf(),li(o=>{if(!Dl(o))return;const l=KC(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw l.url=o,l}),ve(o=>!0===o)):_t(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return _t(r);if(i.numberOfChildren>1||!i.children[Et])return $m(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new El(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return gr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);r[s]=t[l]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return gr(t.children,(l,c)=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new Mt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function s0(n){const e={};for(const r of Object.keys(n.children)){const s=s0(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function LL(n){if(1===n.numberOfChildren&&n.children[Et]){const e=n.children[Et];return new Mt(n.segments.concat(e.segments),e.children)}return n}(new Mt(n.segments,e))}class qP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class r_{constructor(e,t){this.component=e,this.route=t}}function VL(n,e,t){const r=n._root;return sf(r,e?e._root:null,t,[r.value])}function i_(n,e,t){const r=function jL(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function sf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=cc(e);return n.children.forEach(o=>{(function UL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function $L(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wl(n.url,e.url)||!Js(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YC(n,e)||!Js(n.queryParams,e.queryParams);default:return!YC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),sf(n,e,s.component?l?l.children:null:t,r,i),c&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new r_(l.outlet.component,o))}else o&&af(e,l,i),i.canActivateChecks.push(new qP(r)),sf(n,null,s.component?l?l.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),gr(s,(o,l)=>af(o,t.getContext(l),i)),i}function af(n,e,t){const r=cc(n),i=n.value;gr(r,(s,o)=>{af(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new r_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class XL{}function QP(n){return new R(e=>e.error(n))}class eB{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=e_(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Et);if(null===t)return null;const r=new Zm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ro(r,t),s=new xP(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=OP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],l=UP(e,s),c=this.processSegmentGroup(l,o,s);if(null===c)return null;r.push(...c)}const i=ZP(r);return function tB(n){n.sort((e,t)=>e.value.outlet===Et?-1:t.value.outlet===Et?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return KP(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!WP(e,t,r,i))return null;let s,o=[],l=[];if("**"===e.path){const C=r.length>0?vP(r).parameters:{};s=new Zm(r,C,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JP(e),Ji(e),e.component,e,YP(t),XP(t)+r.length,eT(e))}else{const C=Jm(t,e,r);if(!C.matched)return null;o=C.consumedSegments,l=C.remainingSegments,s=new Zm(o,C.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JP(e),Ji(e),e.component,e,YP(t),XP(t)+o.length,eT(e))}const c=function nB(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:h,slicedSegments:f}=e_(t,o,l,c.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===f.length&&h.hasChildren()){const C=this.processChildren(c,h);return null===C?null:[new Ro(s,C)]}if(0===c.length&&0===f.length)return[new Ro(s,[])];const g=Ji(e)===i,v=this.processSegment(c,h,f,g?Et:i);return null===v?null:[new Ro(s,v)]}}function rB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ZP(n){const e=[],t=new Set;for(const r of n){if(!rB(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ZP(r.children);e.push(new Ro(r.value,i))}return e.filter(r=>!t.has(r))}function YP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function XP(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function JP(n){return n.data||{}}function eT(n){return n.resolve||{}}function tT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function o0(n){return ba(e=>{const t=n(e);return t?In(t).pipe(ve(()=>e)):_t(e)})}class dB extends class cB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const a0=new Ve("ROUTES");class nT{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new t0(_P(o.injector.get(a0,void 0,nt.Self|nt.Optional)).map(r0),o)}),Ca(s=>{throw t._loader$=void 0,s}));return t._loader$=new DN(i,()=>new J).pipe(aP()),t._loader$}loadModuleFactory(e){return eo(e()).pipe(Mn(t=>t instanceof hS?_t(t):In(this.compiler.compileModuleAsync(t))))}}class fB{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pB(n){throw n}function gB(n,e,t){return e.parse("/")}function rT(n,e){return _t(null)}const mB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_B={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class n{constructor(t,r,i,s,o,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new J,this.errorHandler=pB,this.malformedUriErrorHandler=gB,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rT,afterPreactivation:rT},this.urlHandlingStrategy=new fB,this.routeReuseStrategy=new dB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Ao),this.console=o.get(ZS);const g=o.get(yn);this.isNgZoneEnabled=g instanceof yn&&yn.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function $N(){return new El(new Mt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nT(o,l,v=>this.triggerEvent(new hP(v)),v=>this.triggerEvent(new fP(v))),this.routerState=RP(this.currentUrlTree,this.rootComponentType),this.transitions=new jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ac(i=>0!==i.id),ve(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ba(i=>{let s=!1,o=!1;return _t(i).pipe(li(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ba(l=>{const c=this.browserUrlTree.toString(),h=!this.navigated||l.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return iT(l.source)&&(this.browserUrlTree=l.extractedUrl),_t(l).pipe(ba(g=>{const v=this.transitions.getValue();return r.next(new WC(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),v!==this.transitions.getValue()?is:Promise.resolve(g)}),function BL(n,e,t,r){return ba(i=>function kL(n,e,t,r,i){return new NL(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ve(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),li(g=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function iB(n,e,t,r,i){return Mn(s=>function JL(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new eB(n,e,t,r,i,s).recognize();return null===o?QP(new XL):_t(o)}catch(o){return QP(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(ve(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),li(g=>{if("eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const C=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(C,g)}this.browserUrlTree=g.urlAfterRedirects}const v=new IN(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);r.next(v)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:v,extractedUrl:C,source:P,restoredState:j,extras:Q}=l,ae=new WC(v,this.serializeUrl(C),P,j);r.next(ae);const $=RP(C,this.rootComponentType).snapshot;return _t(Object.assign(Object.assign({},l),{targetSnapshot:$,urlAfterRedirects:C,extras:Object.assign(Object.assign({},Q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,l.resolve(null),is}),o0(l=>{const{targetSnapshot:c,id:h,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:v,replaceUrl:C}}=l;return this.hooks.beforePreactivation(c,{navigationId:h,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!v,replaceUrl:!!C})}),li(l=>{const c=new RN(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ve(l=>Object.assign(Object.assign({},l),{guards:VL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function WL(n,e){return Mn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?_t(Object.assign(Object.assign({},t),{guardsResult:!0})):function KL(n,e,t,r){return In(n).pipe(Mn(i=>function YL(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?_t(s.map(l=>{const c=i_(l,e,i);let h;if(function DL(n){return n&&Ea(n.canDeactivate)}(c))h=eo(c.canDeactivate(n,e,t,r));else{if(!Ea(c))throw new Error("Invalid CanDeactivate guard");h=eo(c(n,e,t,r))}return h.pipe(lc())})).pipe(tf()):_t(!0)}(i.component,i.route,t,e,r)),lc(i=>!0!==i,!0))}(o,r,i,n).pipe(Mn(l=>l&&function bL(n){return"boolean"==typeof n}(l)?function GL(n,e,t,r){return In(e).pipe(qh(i=>jC(function qL(n,e){return null!==n&&e&&e(new kN(n)),_t(!0)}(i.route.parent,r),function zL(n,e){return null!==n&&e&&e(new LN(n)),_t(!0)}(i.route,r),function ZL(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function HL(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>oP(()=>_t(o.guards.map(c=>{const h=i_(c,o.node,t);let f;if(function wL(n){return n&&Ea(n.canActivateChild)}(h))f=eo(h.canActivateChild(r,n));else{if(!Ea(h))throw new Error("Invalid CanActivateChild guard");f=eo(h(r,n))}return f.pipe(lc())})).pipe(tf())));return _t(s).pipe(tf())}(n,i.path,t),function QL(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _t(!0);const i=r.map(s=>oP(()=>{const o=i_(s,e,t);let l;if(function EL(n){return n&&Ea(n.canActivate)}(o))l=eo(o.canActivate(e,n));else{if(!Ea(o))throw new Error("Invalid CanActivate guard");l=eo(o(e,n))}return l.pipe(lc())}));return _t(i).pipe(tf())}(n,i.route,t))),lc(i=>!0!==i,!0))}(r,s,n,e):_t(l)),ve(l=>Object.assign(Object.assign({},t),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),li(l=>{if(Dl(l.guardsResult)){const h=KC(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw h.url=l.guardsResult,h}const c=new ON(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(c)}),ac(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),o0(l=>{if(l.guards.canActivateChecks.length)return _t(l).pipe(li(c=>{const h=new xN(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(h)}),ba(c=>{let h=!1;return _t(c).pipe(function sB(n,e){return Mn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _t(t);let s=0;return In(i).pipe(qh(o=>function oB(n,e,t,r){return function aB(n,e,t,r){const i=tT(n);if(0===i.length)return _t({});const s={};return In(i).pipe(Mn(o=>function lB(n,e,t,r){const i=i_(n,e,r);return eo(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(li(l=>{s[o]=l}))),$C(1),Mn(()=>tT(s).length===i.length?_t(s):is))}(n._resolve,n,e,r).pipe(ve(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),OP(n,t).resolve),null)))}(o.route,r,n,e)),li(()=>s++),$C(1),Mn(o=>s===i.length?_t(t):is))})}(this.paramsInheritanceStrategy,this.ngModule.injector),li({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),li(c=>{const h=new FN(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(h)}))}),o0(l=>{const{targetSnapshot:c,id:h,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:v,replaceUrl:C}}=l;return this.hooks.afterPreactivation(c,{navigationId:h,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!v,replaceUrl:!!C})}),ve(l=>{const c=function aL(n,e,t){const r=Xh(n,e._root,t?t._root:void 0);return new IP(r,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:c})}),li(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>ve(r=>(new vL(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),li({next(){s=!0},complete(){s=!0}}),function TN(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var l;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(l=this.currentNavigation)||void 0===l?void 0:l.id)===i.id&&(this.currentNavigation=null)}),Ca(l=>{if(o=!0,function HN(n){return n&&n[gP]}(l)){const c=Dl(l.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const h=new dP(i.id,this.serializeUrl(i.extractedUrl),l.message);r.next(h),c?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),g={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iT(i.source)};this.scheduleNavigation(f,"imperative",null,g,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new MN(i.id,this.serializeUrl(i.extractedUrl),l);r.next(c);try{i.resolve(this.errorHandler(l))}catch(h){i.reject(h)}}return is}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const c=Object.assign({},o);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){jP(t),this.config=t.map(r0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:c}=r,h=i||this.routerState.root,f=c?this.currentUrlTree.fragment:o;let g=null;switch(l){case"merge":g=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),function cL(n,e,t,r,i){if(0===t.length)return XC(e.root,e.root,e.root,r,i);const s=function dL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new NP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return gr(s.outlets,(c,h)=>{l[h]="string"==typeof c?c.split("/"):c}),[...i,{outlets:l}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?t=!0:".."===l?e++:""!=l&&i.push(l))}),i):[...i,s]},[]);return new NP(t,e,r)}(t);if(s.toRoot())return XC(e.root,e.root,new Mt([],{}),r,i);const o=function hL(n,e,t){if(n.isAbsolute)return new JC(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new JC(s,s===e.root,0)}const r=Ym(n.commands[0])?0:1;return function fL(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new JC(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),l=o.processChildren?Xm(o.segmentGroup,o.index,s.commands):LP(o.segmentGroup,o.index,s.commands);return XC(e.root,o.segmentGroup,l,r,i)}(h,this.currentUrlTree,t,g,null!=f?f:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Dl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function vB(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},mB):!1===r?Object.assign({},_B):r,Dl(t))return bP(this.currentUrlTree,t,i);const s=this.parseUrl(t);return bP(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var l,c;if(this.disposed)return Promise.resolve(!1);let h,f,g;o?(h=o.resolve,f=o.reject,g=o.promise):g=new Promise((P,j)=>{h=P,f=j});const v=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):C=0,this.setTransition({id:v,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new dP(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Pb()},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function iT(n){return"imperative"!==n}class sT{}class oT{preload(e,t){return _t(null)}}let aT=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new nT(i,r,c=>t.triggerEvent(new hP(c)),c=>t.triggerEvent(new fP(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(ac(t=>t instanceof Qh),qh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Ao);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return In(i).pipe(Ia(),ve(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?_t(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Mn(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Ae(Di),Ae(YS),Ae(m),Ae(sT))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),c0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof WC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Pb()},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const Sl=new Ve("ROUTER_CONFIGURATION"),lT=new Ve("ROUTER_FORROOT_GUARD"),EB=[CC,{provide:DP,useClass:SP},{provide:Di,useFactory:function PB(n,e,t,r,i,s,o={},l,c){const h=new Di(null,n,e,t,r,i,_P(s));return l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),function TB(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,h),o.enableTracing&&h.events.subscribe(f=>{var g,v;null===(g=console.group)||void 0===g||g.call(console,`Router Event: ${f.constructor.name}`),console.log(f.toString()),console.log(f),null===(v=console.groupEnd)||void 0===v||v.call(console)}),h},deps:[DP,nf,CC,m,YS,a0,Sl,[class hB{},new ds],[class uB{},new ds]]},nf,{provide:dc,useFactory:function MB(n){return n.routerState.root},deps:[Di]},aT,oT,class CB{preload(e,t){return t().pipe(Ca(()=>_t(null)))}},{provide:Sl,useValue:{enableTracing:!1}}];function wB(){return new nA("Router",Di)}let uT=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[EB,cT(t),{provide:lT,useFactory:AB,deps:[[Di,new ds,new ia]]},{provide:Sl,useValue:r||{}},{provide:oc,useFactory:SB,deps:[Cl,[new Ja(bC),new ds],Sl]},{provide:c0,useFactory:DB,deps:[Di,Ik,Sl]},{provide:sT,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:oT},{provide:nA,multi:!0,useFactory:wB},[d0,{provide:sC,multi:!0,useFactory:IB,deps:[d0]},{provide:dT,useFactory:RB,deps:[d0]},{provide:QS,multi:!0,useExisting:dT}]]}}static forChild(t){return{ngModule:n,providers:[cT(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Ae(lT,8),Ae(Di,8))},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})();function DB(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new c0(n,e,t)}function SB(n,e,t={}){return t.useHash?new pF(n,e):new EA(n,e)}function AB(n){return"guarded"}function cT(n){return[{provide:ei,multi:!0,useValue:n},{provide:a0,multi:!0,useValue:n}]}let d0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new J}appInitializer(){return this.injector.get(dF,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(l=>r=l),s=this.injector.get(Di),o=this.injector.get(Sl);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?_t(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Sl),i=this.injector.get(aT),s=this.injector.get(c0),o=this.injector.get(Di),l=this.injector.get(fC);t===l.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Ae(m))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function IB(n){return n.appInitializer.bind(n)}function RB(n){return n.bootstrapListener.bind(n)}const dT=new Ve("Router Initializer"),xB=[];let FB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({imports:[[uT.forRoot(xB)],uT]}),n})();var kB=O(387);class NB{constructor(e){this.chess=e}evaluateCastel(e){return e.move.san.includes("O-O")?"b"===this.chess.turn()?.1:-.1:0}}class LB{constructor(e){this.chess=e}description(){return"Center"}score(){return this.scoreWhiteCenter()+this.scoreBlackCenter()}scoreWhiteCenter(){var e,t,r,i,s,o,l,c;let h=0;return"w"===(null===(e=this.chess.get("c4"))||void 0===e?void 0:e.color)&&"p"===(null===(t=this.chess.get("c4"))||void 0===t?void 0:t.type)&&(h+=.1),"w"===(null===(r=this.chess.get("d4"))||void 0===r?void 0:r.color)&&"p"===(null===(i=this.chess.get("d4"))||void 0===i?void 0:i.type)&&(h+=.1),"w"===(null===(s=this.chess.get("e4"))||void 0===s?void 0:s.color)&&"p"===(null===(o=this.chess.get("e4"))||void 0===o?void 0:o.type)&&(h+=.1),"w"===(null===(l=this.chess.get("f4"))||void 0===l?void 0:l.color)&&"p"===(null===(c=this.chess.get("f4"))||void 0===c?void 0:c.type)&&(h+=.1),h}scoreBlackCenter(){var e,t,r,i,s,o,l,c;let h=0;return"b"===(null===(e=this.chess.get("c5"))||void 0===e?void 0:e.color)&&"p"===(null===(t=this.chess.get("c5"))||void 0===t?void 0:t.type)&&(h-=.1),"b"===(null===(r=this.chess.get("d5"))||void 0===r?void 0:r.color)&&"p"===(null===(i=this.chess.get("d5"))||void 0===i?void 0:i.type)&&(h-=.1),"b"===(null===(s=this.chess.get("e5"))||void 0===s?void 0:s.color)&&"p"===(null===(o=this.chess.get("e5"))||void 0===o?void 0:o.type)&&(h-=.1),"b"===(null===(l=this.chess.get("f5"))||void 0===l?void 0:l.color)&&"p"===(null===(c=this.chess.get("f5"))||void 0===c?void 0:c.type)&&(h-=.1),h}}class BB{constructor(e){this.chess=e}description(){return"Peaces"}score(){let e=0;for(let t=0;t<8;t++)this.isPeaceOnFirstLine(this.chess.board()[7][t],"w")&&(e-=.1),this.isPeaceOnFirstLine(this.chess.board()[0][t],"b")&&(e+=.1);return e}isPeaceOnFirstLine(e,t){return(null==e?void 0:e.color)==t&&("n"===(null==e?void 0:e.type)||"b"===(null==e?void 0:e.type)||"q"===(null==e?void 0:e.type))}}class h0{constructor(e,t=0){this.move=e,this.score=t,this.check=0,this.scoreList=new Map}}class hT{constructor(e){this.chess=e}description(){return"OpenLine"}score(){let e=0,t=this.chess.board();for(let r=0;r<8;r++){let i=!0,s=!0,o=!0,l=0,c=0;for(let h=0;h<8;h++){let f=t[h][r];"r"===(null==f?void 0:f.type)||"q"===(null==f?void 0:f.type)?"w"===(null==f?void 0:f.color)&&h>1?l++:"b"===f.color&&h<6&&c++:"p"===(null==f?void 0:f.type)&&(i=!1,"w"===(null==f?void 0:f.color)?s=!1:o=!1)}i?e+=.1*(l-c):s?e+=.05*l:o&&(e-=.05*c)}return e}}class fT{constructor(e){this.chess=e}description(){return"LastRanks"}score(){return.25*(this.countForWhite()-this.countForBlack())}countForWhite(){let e=this.chess.board(),t=0;for(let r=0;r<2;r++)for(let i=0;i<8;i++){let s=e[r][i];("r"===(null==s?void 0:s.type)||"q"===(null==s?void 0:s.type))&&"w"===(null==s?void 0:s.color)&&t++}return t}countForBlack(){let e=this.chess.board(),t=0;for(let r=6;r<8;r++)for(let i=0;i<8;i++){let s=e[r][i];("r"===(null==s?void 0:s.type)||"q"===(null==s?void 0:s.type))&&"b"===(null==s?void 0:s.color)&&t++}return t}}class VB{constructor(e){this.chess=e}description(){return"PassedPawn"}score(){let e=0;return e+=this.scoreWhite(),e+=this.scoreBlack(),e}scoreWhite(){let e=0,t=this.chess.board(),r=new Array,i=8;for(let s=1;s<7&&0!=i;s++)for(let o=0;o<8;o++){let l=t[s][o];"p"===(null==l?void 0:l.type)&&("b"===(null==l?void 0:l.color)?(r[o]=!1,i--,o>0&&null==r[o-1]&&(r[o-1]=!1,i--),o<7&&null==r[o+1]&&!this.isWhitePawn(t[s][o+1])&&(r[o+1]=!1,i--)):"w"===(null==l?void 0:l.color)&&0!=r[o]&&(r[o]=!0,e+=(7-s)*(7-s)*.02,i--))}return e}scoreBlack(){let e=0,t=this.chess.board(),r=new Array,i=8;for(let s=7;s>0&&0!=i;s--)for(let o=0;o<8;o++){let l=t[s][o];"p"===(null==l?void 0:l.type)&&("w"===(null==l?void 0:l.color)?(r[o]=!1,i--,o>0&&null==r[o-1]&&(r[o-1]=!1,i--),o<7&&null==r[o+1]&&!this.isBlackPawn(t[s][o+1])&&(r[o+1]=!1,i--)):"b"===(null==l?void 0:l.color)&&0!=r[o]&&(r[o]=!0,e-=s*s*.02,i--))}return e}isWhitePawn(e){return"p"===(null==e?void 0:e.type)&&"w"===(null==e?void 0:e.color)}isBlackPawn(e){return"p"===(null==e?void 0:e.type)&&"b"===(null==e?void 0:e.color)}}var HB=O(478),pT=O.n(HB),jB=O(74);class UB{constructor(){this.token="lip_U2PnD9AVg0rt8zcIsjYk",this.baseURL="https://lichess.org/",this.headers={Authorization:`Bearer ${this.token}`},this.axiosConfig={baseURL:this.baseURL,headers:this.headers}}getOnlineBots(){return this.get("api/bot/online")}acceptChallenge(e){return this.post(`api/challenge/${e}/accept`)}declineChallenge(e){return this.post(`api/challenge/${e}/decline`)}upgrade(){return this.post("api/bot/account/upgrade")}accountInfo(){return this.get("api/account")}makeMove(e,t){return this.post(`api/bot/game/${e}/move/${t}`)}abortGame(e){return this.post(`api/bot/game/${e}/abort`)}resignGame(e){return this.post(`api/bot/game/${e}/resign`)}streamEvents(e){return this.stream("api/stream/event",e)}streamGame(e,t){return this.stream(`api/bot/game/stream/${e}`,t)}chat(e,t,r){return this.post(`api/bot/game/${e}/chat`,{room:t,text:r})}logAndReturn(e){return console.log(JSON.stringify(e.data)),e}challenge(e){return this.post(`api/challenge/${e}`,{rated:!0,clock:{limit:60,increment:1},variant:"standard",keepAliveStream:"false"})}get(e){return console.log(`GET ${e}`),pT().get(e+"?v="+Date.now(),this.axiosConfig).then(this.logAndReturn).catch(t=>console.log(t))}post(e,t){return console.log(`POST ${e} `+JSON.stringify(t||{})),pT().post(e,t||{},this.axiosConfig).then(this.logAndReturn).catch(r=>console.log(r.response||r))}stream(e,t){console.log(`GET ${e} stream`),jB({method:"GET",url:this.baseURL+e,headers:this.headers}).node("!",function(r){console.log("STREAM data : "+JSON.stringify(r)),t(r)}).fail(function(r){console.error(JSON.stringify(r))})}}function gT(n,e,t,r,i,s,o){try{var l=n[s](o),c=l.value}catch(h){return void t(h)}l.done?e(c):Promise.resolve(c).then(r,i)}function mT(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){gT(s,r,i,o,l,"next",c)}function l(c){gT(s,r,i,o,l,"throw",c)}o(void 0)})}}class $B{constructor(e,t,r,i){this.gameId="",this.colour="",this.api=e,this.name=t,this.replyChat=r,this.getNextMove=i}start(e){this.gameId=e,this.api.streamGame(e,t=>this.handler(t))}handleChatLine(e){if(e.username!==this.name){const t=this.replyChat(e);t&&this.api.chat(this.gameId,e.room,t)}}handler(e){switch(e.type){case"chatLine":this.handleChatLine(e);break;case"gameFull":this.colour=this.playingAs(e),this.playNextMove(e.state.moves);break;case"gameState":this.playNextMove(e.moves,this.getRemainingTime(e));break;default:console.log("Unhandled game event : "+JSON.stringify(e))}}getRemainingTime(e){return"white"===this.colour?e.wtime:e.btime}playNextMove(e,t){const r=""===e?[]:e.split(" ");if(this.isTurn(this.colour,r)){const i=this.getNextMove(r,t);i&&(console.log(this.name+" as "+this.colour+" to move "+i),this.api.makeMove(this.gameId,i))}}playingAs(e){return e.white.name===this.name?"white":"black"}isTurn(e,t){var r=t.length%2;return"white"===e?0===r:1===r}}class WB{constructor(e,t,r){this.api=e,this.replyChat=t,this.getNextMove=r}start(){var e=this;return mT(function*(){return e.account=yield e.api.accountInfo(),console.log("Playing as "+e.account.data.username),e.api.streamEvents(t=>e.eventHandler(t)),e.account})()}eventHandler(e){switch(e.type){case"challenge":this.handleChallenge(e.challenge);break;case"gameStart":this.handleGameStart(e.game.id);break;default:console.log("Unhandled event : "+JSON.stringify(e))}}handleGameStart(e){new $B(this.api,this.account.data.username,this.replyChat,this.getNextMove).start(e)}handleChallenge(e){var t=this;return mT(function*(){if("marcinlebot"!==e.challenger.id)if(e.rated){console.log("Declining rated challenge from "+e.challenger.id);const r=yield t.api.declineChallenge(e.id);console.log("Declined",r.data||r)}else{console.log("Accepting unrated challenge from "+e.challenger.id);const r=yield t.api.acceptChallenge(e.id);console.log("Accepted",r.data||r)}})()}}class _T{constructor(){this.pawns=0,this.knighs=0,this.bishops=0,this.rooks=0,this.queens=0}clear(){this.pawns=0,this.knighs=0,this.bishops=0,this.rooks=0,this.queens=0}score(){let e=this.pawns+3*this.knighs+3*this.bishops+5*this.rooks+9*this.queens;return 2==this.bishops&&(e+=.5),e}getAllPeaces(){return this.knighs+this.bishops+this.rooks+this.queens}}class KB{constructor(e){this.chess=e,this.whiteCount=new _T,this.blackCount=new _T,this.whiteKingPosition={x:-1,y:-1},this.whitePawnsPositions=Array(),this.whiteQueensPositions=Array(),this.whiteRooksPositions=Array(),this.whiteBishopsPositions=Array(),this.whiteKnightsPositions=Array(),this.blackKingPosition={x:-1,y:-1},this.blackPawnsPositions=Array(),this.blackQueensPositions=Array(),this.blackRooksPositions=Array(),this.blackBishopsPositions=Array(),this.blackKnightsPositions=Array()}description(){return"Material"}score(){let e=0;return this.checkMaterial(),e=this.whiteCount.score()-this.blackCount.score(),e}checkMaterial(){this.clear();let e=this.chess.board();for(let t=0;t<8;t++)for(let r=0;r<8;r++){let i=e[t][r];i&&("w"==(null==i?void 0:i.color)?(this.countPieceMaterial(null==i?void 0:i.type,this.whiteCount),"k"===(null==i?void 0:i.type)?this.whiteKingPosition={x:r,y:t}:"q"===(null==i?void 0:i.type)?this.whiteQueensPositions.push({x:r,y:t}):"r"===(null==i?void 0:i.type)?this.whiteRooksPositions.push({x:r,y:t}):"b"===(null==i?void 0:i.type)?this.whiteBishopsPositions.push({x:r,y:t}):"n"===(null==i?void 0:i.type)?this.whiteKnightsPositions.push({x:r,y:t}):"p"===(null==i?void 0:i.type)&&this.whitePawnsPositions.push({x:r,y:t})):(this.countPieceMaterial(null==i?void 0:i.type,this.blackCount),"k"===(null==i?void 0:i.type)?this.blackKingPosition={x:r,y:t}:"q"===(null==i?void 0:i.type)?this.blackQueensPositions.push({x:r,y:t}):"r"===(null==i?void 0:i.type)?this.blackRooksPositions.push({x:r,y:t}):"b"===(null==i?void 0:i.type)?this.blackBishopsPositions.push({x:r,y:t}):"n"===(null==i?void 0:i.type)?this.blackKnightsPositions.push({x:r,y:t}):"p"===(null==i?void 0:i.type)&&this.blackPawnsPositions.push({x:r,y:t})))}this.whitePawnsPositions.sort((t,r)=>t.x-r.x),this.blackPawnsPositions.sort((t,r)=>t.x-r.x)}countPieceMaterial(e,t){switch(e){case"p":t.pawns++;break;case"n":t.knighs++;break;case"b":t.bishops++;break;case"r":t.rooks++;break;case"q":t.queens++}}evaluatePieceMaterial(e){switch(e){case"p":return 1;case"n":return 3;case"b":return"w"==this.chess.turn()&&2==this.blackCount.bishops||"b"==this.chess.turn()&&2==this.whiteCount.bishops?3.5:3;case"r":return 5;case"q":return 9;default:return 0}}refreshPeacesPosition(){this.checkMaterial()}getAllWhitePeacesPosition(){return this.whiteQueensPositions.concat(this.whiteRooksPositions,this.whiteBishopsPositions,this.whiteKnightsPositions,this.whitePawnsPositions)}getAllBlackPeacesPosition(){return this.blackQueensPositions.concat(this.blackRooksPositions,this.blackBishopsPositions,this.blackKnightsPositions,this.blackPawnsPositions)}clear(){this.whiteCount.clear(),this.blackCount.clear(),this.whiteKingPosition={x:-1,y:-1},this.whitePawnsPositions=Array(),this.whiteQueensPositions=Array(),this.whiteRooksPositions=Array(),this.whiteBishopsPositions=Array(),this.whiteKnightsPositions=Array(),this.blackKingPosition={x:-1,y:-1},this.blackPawnsPositions=Array(),this.blackQueensPositions=Array(),this.blackRooksPositions=Array(),this.blackBishopsPositions=Array(),this.blackKnightsPositions=Array()}}class He{constructor(e,t,r){this.decription=e,this.fen=t,this.bestMove=r}}class GB{constructor(e,t){this.loadFen=e,this.getNextMove=t,this.verbose=!1}test(){console.log("TEST START");let e=0,t=0;this.loadTests().forEach(r=>{this.loadFen(r.fen);let i=this.getNextMove(),s=`${i.move.from}${i.move.to}`;this.verbose?(console.log("TEST - "+r.decription),console.log(`${s} | ${r.bestMove}`)):`${s}`!=`${r.bestMove}`?(console.warn(`${r.decription} | ${s} | ${r.bestMove}`),t++):e++}),console.log(`Total:${e+t} | Passed:${e} | Faild:${t}`),console.log("TEST END")}loadTests(){let e=[];return e.push(...this.center()),e.push(...this.peaces()),e.push(...this.castle()),e.push(...this.openLine()),e.push(...this.lastRank()),e.push(...this.passedPawn()),e.push(...this.exchange()),e.push(...this.twoBishops()),e.push(...this.promotion()),e.push(...this.kingRing()),e.push(...this.doubledPawns()),e.push(...this.hangingPeaces()),e}center(){let e=[];return e.push(new He("Center - c4","rnbqkbnr/pppppppp/8/8/3PPP2/5N2/PPPNB1PP/R1BQ1RK1 w Qkq - 0 1","c2c4")),e.push(new He("Center - d4","rnbqkbnr/pppppppp/8/8/2P1PP2/2N2N2/PPQPB1PP/R1B2RK1 w Qkq - 0 1","d2d4")),e.push(new He("Center - e4","rnbqkbnr/pppppppp/8/8/2PP1P2/1QNB1N2/PP1BP1PP/R4RK1 w Qkq - 0 1","e2e4")),e.push(new He("Center - f4","rnbqkbnr/pppppppp/8/8/2PPP3/1QNB4/PP1BNPPP/R4RK1 w Qkq - 0 1","f2f4")),e.push(new He("Center - c5","r1bq1rk1/pppnb1pp/5n2/3ppp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","c7c5")),e.push(new He("Center - d5","r1b2rk1/ppqpb1pp/n4n2/2p1pp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","d7d5")),e.push(new He("Center - e5","r4rk1/ppqbp1pp/n2b1n2/2pp1p2/8/6P1/PPPPPP1P/RNBQKBNR b KQq - 0 1","e7e5")),e.push(new He("Center - f5","r4rk1/ppqbnppp/n2b4/2ppp3/8/6P1/PPPPPP1P/RNBQKBNR b KQq - 0 1","f7f5")),e}peaces(){let e=[];return e.push(new He("Peaces - Nb1","rnbqkbnr/pppppppp/8/8/2PPPP2/P4N2/1PQBB1PP/RN3RK1 w Qkq - 0 1","b1c3")),e.push(new He("Peaces - Ng1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1N4P/1PQBB1P1/2KR2NR w Kkq - 0 1","g1f3")),e.push(new He("Peaces - Bc1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1NBN3/1PQ3PP/R1B2RK1 w Qkq - 0 1","c1d2")),e.push(new He("Peaces - Bf1","rnbqkbnr/pppppppp/8/8/2PPPP2/P1NQ1N1P/1P1B2P1/2KR1B1R w Kkq - 0 1","f1e2")),e.push(new He("Peaces - Qd1","rnbqkbnr/pppppppp/8/8/2PPPP2/PPN2N1P/3BB1P1/R2Q1RK1 w kq - 0 1","d1c2")),e.push(new He("Peaces - Nb8","rn3rk1/1pqbb1pp/p4n2/2pppp2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","b8c6")),e.push(new He("Peaces - Ng8","2kr2nr/1pqbb1p1/p1n4p/2pppp2/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","g8f6")),e.push(new He("Peaces - Bc8","r1b2rk1/pp2qppp/3bnn2/2ppp3/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","c8d7")),e.push(new He("Peaces - Bf8","2kr1b1r/ppqn1ppp/3p1n2/2pbp3/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","f8e7")),e.push(new He("Peaces - Qd8","r2q1rk1/p2bbppp/1pn2n2/2ppp3/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","d8c7")),e}castle(){let e=[];return e.push(new He("Castel white - 0-0","rnbqkbnr/pppppppp/8/8/3PP3/2N2NP1/PPPBQPBP/1R2K2R w Kkq - 0 1","e1g1")),e.push(new He("Castel white - 0-0-0","rnbqkbnr/pppppppp/8/8/3PP3/2N2NP1/PPPBQPBP/R3K1R1 w Qkq - 0 1","e1c1")),e.push(new He("Castel black - 0-0","1r2k2r/pppq1ppp/2n2n2/2bppb2/8/8/PPPPPPPP/RNBQKBNR b KQk - 0 1","e8g8")),e.push(new He("Castel black - 0-0-0","r3k1r1/pppq1ppp/2n2n2/2bppb2/8/8/PPPPPPPP/RNBQKBNR b KQq - 0 1","e8c8")),e}openLine(){let e=[];return e.push(new He("Semi-open line - white","rn2k2r/pppbbppp/4pn2/8/8/2NB1N2/PPPP1PPP/R1B2RK1 w Qkq - 0 1","f1e1")),e.push(new He("Semi-open line - black","rn3rk1/1p1b1ppp/p1p1pn2/2b5/8/2NB1N2/PPPP1PPP/R1B2RK1 b Qq - 0 1","f8d8")),e.push(new He("open line vs semi-open - white","rn2k2r/pp1bbppp/4pn2/8/8/N2B1N2/PP1P1PPP/5RK1 w kq - 0 1","f1c1")),e.push(new He("open line vs semi-open - black","rn3rk1/1p1nb2p/p1b3p1/4pp2/8/N2B1N2/PP1P1PPP/5RK1 b q - 0 1","f8c8")),e}lastRank(){let e=[];return e.push(new He("7th rank","4rk2/5ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c7")),e.push(new He("8th rank, no checkmate","5k2/r4ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c8")),e.push(new He("8th rank with checkmate","6k1/r4ppp/8/8/8/8/4PPP1/2R2K2 w - - 0 1","c1c8")),e.push(new He("2nd rank","5k2/r4ppp/8/8/8/8/4PPP1/2R2K2 b - - 0 1","a7a2")),e.push(new He("1st rank, no checkmate","5k2/r4ppp/8/8/8/8/2R1PP2/5K2 b - - 0 1","a7a1")),e.push(new He("1st rank with checkmate","5k2/r4ppp/8/8/8/8/2R1PPP1/5K2 b - - 0 1","a7a1")),e}passedPawn(){let e=[];return e.push(new He("passed pawn white","5k2/5ppp/1P6/8/8/3K1P2/P7/8 w - - 0 1","b6b7")),e.push(new He("passed pawn black","5k2/6pp/1P6/5p2/8/3K1P2/P7/8 b - - 0 1","h7h5")),e.push(new He("push passed pawn is better than center - white","8/8/8/8/4P3/8/8/k6K w - - 0 1","e4e5")),e.push(new He("push passed pawn is better than center - black","1RK5/p3b3/k6p/2p4P/1p6/8/4r3/8 b - - 1 62","c5c4")),e.push(new He("push passed pawn is better then promotion if new peaces can be captured","8/7p/P1bk4/8/8/2K3R1/6pr/8 b - - 9 54","h7h5")),e}exchange(){let e=[];return e.push(new He("exchange peace when material is in plus","8/4pp2/1p2nk2/3B4/2P2P2/6P1/PP3K2/8 w - - 0 1","d5e6")),e.push(new He("exhange pawns when have advantage and more pawns then 2","8/p1p1p1p1/1p2nk2/2P5/5P2/4P1P1/P2PBK1P/8 w - - 0 1","c5b6")),e.push(new He("don't exhange pawns when have advantage and less pawns then 2","8/p7/1p5k/2P5/8/8/4BK2/8 w - - 0 1","c5c6")),e.push(new He("exhange pawns when opponent has advantage","8/p1p1pp2/1p3kn1/2P5/3P1P2/4P1P1/PP2BK2/8 b - - 0 1","b6c5")),e.push(new He("don't exhange peaces when opponeny has advantage","8/p1p1p3/1p2k1n1/2P5/3P1P1B/6P1/PP3K2/8 b - - 0 1","b6c5")),e}twoBishops(){let e=[];return e.push(new He("exchange knight for bishop to have bishop pair","8/p1pbp1b1/1p2k1n1/8/2P2P1B/1P1P2P1/P1BN1K2/8 b - - 0 1","g6h4")),e.push(new He("if have bishop pair don't exhange bishop for knight","8/p1pbpkb1/1p3n2/8/2P2P1B/1N4P1/PPBP1K2/8 w - - 0 1","d2d4")),e}promotion(){let e=[];return e.push(new He("promotion for white","2R5/p3P3/kp5p/2p4P/8/P6K/2rb4/8 w - - 3 49","e7e8")),e.push(new He("promotion for black","8/p5K1/7p/2p3bP/k7/8/1p6/8 b - - 1 72","b2b1")),e}kingRing(){let e=[];return e.push(new He("king ring for white","rnbq1rk1/ppp1bpp1/4pn1p/3p4/3P4/1P2PN2/PBP2PPP/RNQ1RBK1 w Qq - 0 1","f1d3")),e.push(new He("king ring for black","1n1q1rk1/1p1b2pp/p1pnp3/3p1p2/3P4/1P1BP3/PBPN1PPP/RN1Q1RK1 b Q - 0 1","d8h4")),e}doubledPawns(){let e=[];return e.push(new He("recapture for white","rn1qkbnr/ppp1pp1p/3p2p1/8/2PP4/4Pb2/PP2QPPP/RNB1KB1R w KQkq - 0 1","e2f3")),e.push(new He("recapture for black","rnb1kb1r/ppp1qppp/4pB2/3p4/3P4/4PN2/PPP2PPP/RN1QKB1R b KQkq - 0 1","e7f6")),e}hangingPeaces(){let e=[];return e.push(new He("move hanging peace - white","kr3r2/1p1n3p/p5p1/4pp2/8/NP3N2/P4PPP/6K1 w - - 0 1","a3c4")),e.push(new He("defece hanging peace - white","r4r1k/1p1n1p1p/p5p1/3N4/8/1P3N2/P1P1PPPP/6K1 w - - 0 1","c2c4")),e.push(new He("move hanging peace - black","6k1/1p1pp2p/p5p1/5p2/6n1/NP6/P3NPPP/6K1 b - - 0 1","e7e5")),e.push(new He("defece hanging peace - black","r2k1r2/1p1np3/pPp3p1/P1P2p1p/2NP4/5N2/4PPPP/6K1 b - - 0 1","a8b8")),e}}class zB{constructor(e,t){this.chess=e,this.material=t}description(){return"PawnsStructures"}score(){let e=0;return e+=this.scoreDoublePawns(),e}scoreDoublePawns(){var e,t;let i,s,r=0;for(let o=0;o<8;o++){i=0,s=0;for(let l=1;l<7;l++)"p"===(null===(e=this.chess.board()[l][o])||void 0===e?void 0:e.type)&&("w"===(null===(t=this.chess.board()[l][o])||void 0===t?void 0:t.color)?i++:s++);r+=s>1?.1*(s-1):0,r-=i>1?.1*(i-1):0}return r}}class qB{constructor(e,t,r){this.chess=e,this.material=t,this.SQUARES=r}description(){return"HangingPeaces"}score(){return-.01*(this.countForWhite()-this.countForBlack())}countForWhite(){let e=0;return this.material.getAllWhitePeacesPosition().forEach(t=>{this.chess.isAttacked(this.SQUARES[8*t.y+t.x],"w")||e++}),e}countForBlack(){let e=0;return this.material.getAllBlackPeacesPosition().forEach(t=>{this.chess.isAttacked(this.SQUARES[8*t.y+t.x],"b")||e++}),e}}let f0;try{f0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){f0=!1}let lf,p0,QB=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Mk(n){return n===jA}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(Ae(Em))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uf(n){return function ZB(){if(null==lf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lf=!0}))}finally{lf=lf||!1}return lf}()?n:!!n.capture}function yT(n){if(function YB(){if(null==p0){const n="undefined"!=typeof document?document.head:null;p0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return p0}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function o_(n){return n.composedPath?n.composedPath()[0]:n.target}function bT(n){return null!=n&&"false"!=`${n}`}function Si(n){return n instanceof Vr?n.nativeElement:n}class m2 extends k{constructor(e,t){super()}schedule(e,t=0){return this}}const a_={setInterval(n,e,...t){const{delegate:r}=a_;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=a_;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class g0 extends m2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return a_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;a_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const DT={now:()=>(DT.delegate||Date).now(),delegate:void 0};class cf{constructor(e,t=cf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}cf.now=DT.now;class m0 extends cf{constructor(e,t=cf.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const _0=new m0(g0),_2=_0;function ST(n=0,e,t=_2){let r=-1;return null!=e&&(xf(e)?t=e:r=e),new R(i=>{let s=function v2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const df={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=df;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new k(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=df;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=df;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},AT=new class C2 extends m0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class b2 extends g0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=df.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(df.cancelAnimationFrame(t),e._scheduled=void 0)}});function v0(n){return _e((e,t)=>{Wr(n).subscribe(de(t,()=>t.complete(),oe)),!t.closed&&e.subscribe(t)})}let y0,E2=1;const l_={};function PT(n){return n in l_&&(delete l_[n],!0)}const w2={setImmediate(n){const e=E2++;return l_[e]=!0,y0||(y0=Promise.resolve()),y0.then(()=>PT(e)&&n()),e},clearImmediate(n){PT(n)}},{setImmediate:D2,clearImmediate:S2}=w2,u_={setImmediate(...n){const{delegate:e}=u_;return((null==e?void 0:e.setImmediate)||D2)(...n)},clearImmediate(n){const{delegate:e}=u_;return((null==e?void 0:e.clearImmediate)||S2)(n)},delegate:void 0};new class P2 extends m0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class A2 extends g0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=u_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(u_.clearImmediate(t),e._scheduled=void 0)}});let O2=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new J,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function I2(n,e=_0){return function M2(n){return _e((e,t)=>{let r=!1,i=null,s=null,o=!1;const l=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const h=i;i=null,t.next(h)}o&&t.complete()},c=()=>{s=null,o&&t.complete()};e.subscribe(de(t,h=>{r=!0,i=h,s||Wr(n(h)).subscribe(s=de(t,l,c))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>ST(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(Ae(QB),Ae(yn),Ae(Gn,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})();const F2=new Ve("cdk-dir-doc",{providedIn:"root",factory:function k2(){return Xa(Gn)}}),N2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let B2=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Nt,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function L2(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?N2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(F2,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b0(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function pc(n,e){const t=e?"":"none";b0(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function TT(n,e,t){b0(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function c_(n,e){return e&&"none"!=e?n+" "+e:n}function MT(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function C0(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function E0(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function w0(n,e,t){const{top:r,bottom:i,left:s,right:o}=n;return t>=r&&t<=i&&e>=s&&e<=o}function hf(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function IT(n,e,t,r){const{top:i,right:s,bottom:o,left:l,width:c,height:h}=n,f=c*e,g=h*e;return r>i-g&&r<o+g&&t>l-f&&t<s+f}class RT{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:E0(t)})})}handleScroll(e){const t=o_(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let s,o;if(t===this._document){const h=this.getViewportScrollPosition();s=h.top,o=h.left}else s=t.scrollTop,o=t.scrollLeft;const l=i.top-s,c=i.left-o;return this.positions.forEach((h,f)=>{h.clientRect&&t!==f&&t.contains(f)&&hf(h.clientRect,l,c)}),i.top=s,i.left=o,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function OT(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?kT(n,e):("input"===r||"select"===r||"textarea"===r)&&FT(n,e),xT("canvas",n,e,kT),xT("input, textarea, select",n,e,FT),e}function xT(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const s=t.querySelectorAll(n);for(let o=0;o<i.length;o++)r(i[o],s[o])}}let H2=0;function FT(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${H2++}`)}function kT(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const NT=uf({passive:!0}),d_=uf({passive:!1}),D0=new Set(["position"]);class U2{constructor(e,t,r,i,s,o){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new J,this._pointerMoveSubscription=k.EMPTY,this._pointerUpSubscription=k.EMPTY,this._scrollSubscription=k.EMPTY,this._resizeSubscription=k.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new J,this.started=new J,this.released=new J,this.ended=new J,this.entered=new J,this.exited=new J,this.dropped=new J,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const C=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),P=this._dropContainer;if(!C)return void this._endDragSequence(l);(!P||!P.isDragging()&&!P.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const h=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,c);else{const f=this._activeTransform;f.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:l,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new RT(r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=bT(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>pc(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Si(r)),this._handles.forEach(r=>pc(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Si(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,d_),t.addEventListener("touchstart",this._pointerDown,NT),t.addEventListener("dragstart",this._nativeDragStart,d_)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Si(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),pc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),pc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){ff(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();i.insertBefore(o,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),TT(r,!1,D0),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,l).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=ff(t),s=!i&&0!==t.button,o=this._rootElement,l=o_(t),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=i?function p2(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function f2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),r||s||c||h)return;if(this._handles.length){const v=o.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=E0(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){TT(this._rootElement,!0,D0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),o=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,o,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const s=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(r,e.context);o.detectChanges(),i=BT(o,this._document),this._previewRef=o,e.matchSize?VT(i,s):i.style.transform=h_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;i=OT(s),VT(i,s.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return b0(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},D0),pc(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>i.classList.add(s)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function V2(n){const e=getComputedStyle(n),t=C0(e,"transition-property"),r=t.find(l=>"transform"===l||"all"===l);if(!r)return 0;const i=t.indexOf(r),s=C0(e,"transition-duration"),o=C0(e,"transition-delay");return MT(s[i])+MT(o[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=o=>{var l;(!o||o_(o)===this._preview&&"transform"===o.propertyName)&&(null===(l=this._preview)||void 0===l||l.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=BT(this._placeholderRef,this._document)):r=OT(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,s=i?i.getBoundingClientRect():r,o=ff(t)?t.targetTouches[0]:t,l=this._getViewportScrollPosition();return{x:s.left-r.left+(o.pageX-s.left-l.left),y:s.top-r.top+(o.pageY-s.top-l.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=ff(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,s=r.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const l=this._ownerSVGElement.createSVGPoint();return l.x=i,l.y=s,l.matrixTransform(o.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:o}=this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:h}=this._getPreviewRect(),f=l.top+o,g=l.bottom-(h-o);r=LT(r,l.left+s,l.right-(c-s)),i=LT(i,f,g)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),l=Math.abs(r-s.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,pc(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,d_),e.removeEventListener("touchstart",this._pointerDown,NT),e.removeEventListener("dragstart",this._nativeDragStart,d_)}_applyRootElementTransform(e,t){const r=h_(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=c_(r,this._initialTransform)}_applyPreviewTransform(e,t){var r;const i=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,s=h_(e,t);this._preview.style.transform=c_(s,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,l=r.top-i.top,c=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),o>0&&(e-=o)):e=0,r.height>i.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:ff(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=o_(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&hf(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=yT(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Si(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function h_(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function LT(n,e,t){return Math.max(e,Math.min(t,n))}function ff(n){return"t"===n.type[0]}function BT(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function VT(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=h_(e.left,e.top)}function pf(n,e){return Math.max(0,Math.min(e,n))}class W2{constructor(e,t,r,i,s){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new J,this.entered=new J,this.exited=new J,this.dropped=new J,this.sorted=new J,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=k.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new J,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function y2(n=0,e=_0){return n<0&&(n=0),ST(n,n,e)}(0,AT).pipe(v0(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-l):2===this._verticalScrollDirection&&o.scrollBy(0,l),1===this._horizontalScrollDirection?o.scrollBy(-l,0):2===this._horizontalScrollDirection&&o.scrollBy(l,0)})},this.element=Si(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new RT(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let s;this._draggingStarted(),null==i?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,r))):s=i;const o=this._activeDraggables,l=o.indexOf(e),c=e.getPlaceholderElement();let h=o[s];if(h===e&&(h=o[s+1]),!h&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(h=o[0]),l>-1&&o.splice(l,1),h&&!this._dragDropRegistry.isDragging(h)){const f=h.getRootElement();f.parentElement.insertBefore(c,f),o.splice(s,0,e)}else Si(this.element).appendChild(c),o.push(e);c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,s,o,l){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:o,dropPoint:l})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Si(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!IT(this._clientRect,.05,t,r))return;const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===o&&s.length>0)return;const l="horizontal"===this._orientation,c=s.findIndex(Q=>Q.drag===e),h=s[o],g=h.clientRect,v=c>o?1:-1,C=this._getItemOffsetPx(s[c].clientRect,g,v),P=this._getSiblingOffsetPx(c,s,v),j=s.slice();(function $2(n,e,t){const r=pf(e,n.length-1),i=pf(t,n.length-1);if(r===i)return;const s=n[r],o=i<r?-1:1;for(let l=r;l!==i;l+=o)n[l]=n[l+o];n[i]=s})(s,c,o),this.sorted.next({previousIndex:c,currentIndex:o,container:this,item:e}),s.forEach((Q,ae)=>{if(j[ae]===Q)return;const $=Q.drag===e,be=$?C:P,ke=$?e.getPlaceholderElement():Q.drag.getRootElement();Q.offset+=be,l?(ke.style.transform=c_(`translate3d(${Math.round(Q.offset)}px, 0, 0)`,Q.initialTransform),hf(Q.clientRect,0,be)):(ke.style.transform=c_(`translate3d(0, ${Math.round(Q.offset)}px, 0)`,Q.initialTransform),hf(Q.clientRect,be,0))}),this._previousSwap.overlaps=w0(g,t,r),this._previousSwap.drag=h.drag,this._previousSwap.delta=l?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((o,l)=>{l===this._document||!o.clientRect||r||IT(o.clientRect,.05,e,t)&&([i,s]=function K2(n,e,t,r){const i=UT(e,r),s=$T(e,t);let o=0,l=0;if(i){const c=n.scrollTop;1===i?c>0&&(o=1):n.scrollHeight-c>n.clientHeight&&(o=2)}if(s){const c=n.scrollLeft;1===s?c>0&&(l=1):n.scrollWidth-c>n.clientWidth&&(l=2)}return[o,l]}(l,o.clientRect,e,t),(i||s)&&(r=l))}),!i&&!s){const{width:o,height:l}=this._viewportRuler.getViewportSize(),c={width:o,height:l,top:0,right:o,bottom:l,left:0};i=UT(c,t),s=$T(c,e),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Si(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Si(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:E0(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=Si(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var r;const i=t.getRootElement();if(i){const s=null===(r=this._itemPositions.find(o=>o.drag===t))||void 0===r?void 0:r.initialTransform;i.style.transform=s||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,s=t[e].clientRect,o=t[e+-1*r];let l=s[i?"width":"height"]*r;if(o){const c=i?"left":"top",h=i?"right":"bottom";-1===r?l-=o.clientRect[c]-s[h]:l+=s[c]-o.clientRect[h]}return l}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let s=i?t.left-e.left:t.top-e.top;return-1===r&&(s+=i?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const o=r[r.length-1].clientRect;return i?e>=o.right:t>=o.bottom}{const o=r[0].clientRect;return i?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,r,i){const s="horizontal"===this._orientation,o=this._itemPositions.findIndex(({drag:l,clientRect:c})=>{if(l===e)return!1;if(i){const h=s?i.x:i.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return s?t>=Math.floor(c.left)&&t<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return-1!==o&&this.sortPredicate(o,e,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&w0(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!w0(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const s=Si(this.element);return i===s||s.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{hf(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=yT(Si(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function UT(n,e){const{top:t,bottom:r,height:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}function $T(n,e){const{left:t,right:r,width:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}const f_=uf({passive:!1,capture:!0});let G2=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new J,this.pointerUp=new J,this.scroll=new J,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,f_)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,f_)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:f_}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:f_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new R(i=>this._ngZone.runOutsideAngular(()=>{const o=l=>{this._activeDragInstances.length&&i.next(l)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),Ul(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(Ae(yn),Ae(Gn))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z2={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let WT=(()=>{class n{constructor(t,r,i,s){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(t,r=z2){return new U2(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new W2(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn),Ae(yn),Ae(O2),Ae(G2))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KT=new Ve("CDK_DRAG_PARENT"),q2=new Ve("CDK_DRAG_CONFIG"),Q2=new Ve("CdkDropList"),GT=new Ve("CdkDragHandle"),Z2=new Ve("CdkDragPlaceholder"),Y2=new Ve("CdkDragPreview");let J2=(()=>{class n{constructor(t,r,i,s,o,l,c,h,f,g,v){this.element=t,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=o,this._dir=c,this._changeDetectorRef=f,this._selfHandle=g,this._parentDrag=v,this._destroyed=new J,this.started=new Nt,this.released=new Nt,this.ended=new Nt,this.entered=new Nt,this.exited=new Nt,this.dropped=new Nt,this.moved=new R(C=>{const P=this._dragRef.moved.pipe(ve(j=>({source:this,pointerPosition:j.pointerPosition,event:j.event,delta:j.delta,distance:j.distance}))).subscribe(C);return()=>{P.unsubscribe()}}),this._dragRef=h.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:null==l?void 0:l.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),l&&this._assignDefaults(l),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=bT(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(so(1),v0(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const r=this.element.nativeElement;let i=r;this.rootElementSelector&&(i=void 0!==r.closest?r.closest(this.rootElementSelector):null===(t=r.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||r)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Si(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function XB(n,e=0){return function JB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(so(1)).subscribe(()=>{var r;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent((null===(r=n._dragInstances.find(s=>s.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:o,boundaryElement:l,draggingDisabled:c,rootElementSelector:h,previewContainer:f}=t;this.disabled=null!=c&&c,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),o&&(this.previewClass=o),l&&(this.boundaryElement=l),h&&(this.rootElementSelector=h),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(UC(this._handles),li(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),ba(t=>Ul(...t.map(r=>r._stateChanges.pipe(UC(r))))),v0(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(se(Vr),se(Q2,12),se(Gn),se(yn),se(Zi),se(q2,8),se(B2,8),se(WT),se(sc),se(GT,10),se(KT,12))},n.\u0275dir=Ge({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(rc(i,Y2,5),rc(i,Z2,5),rc(i,GT,5)),2&t){let s;Zs(s=Ys())&&(r._previewTemplate=s.first),Zs(s=Ys())&&(r._placeholderTemplate=s.first),Zs(s=Ys())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&_l("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[dn([{provide:KT,useExisting:n}]),Un]}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({providers:[WT],imports:[x2]}),n})();var tV=O(489);const nV=["myModal"];function rV(n,e){if(1&n){const t=wo();ct(0,"div",5)(1,"div",6),Rt("click",function(){return an(t),xt().changeSelection(1)}),Ar(2,"img",7),dt(),ct(3,"div",6),Rt("click",function(){return an(t),xt().changeSelection(2)}),Ar(4,"img",8),dt(),ct(5,"div",6),Rt("click",function(){return an(t),xt().changeSelection(3)}),Ar(6,"img",9),dt(),ct(7,"div",6),Rt("click",function(){return an(t),xt().changeSelection(4)}),Ar(8,"img",10),dt()()}if(2&n){const t=xt();xe(2),Bt("src",t.getPieceIcon("queen"),Ln),xe(2),Bt("src",t.getPieceIcon("rook"),Ln),xe(2),Bt("src",t.getPieceIcon("bishop"),Ln),xe(2),Bt("src",t.getPieceIcon("knight"),Ln)}}function iV(n,e){if(1&n){const t=wo();ct(0,"div",5)(1,"div",6),Rt("click",function(){return an(t),xt().changeSelection(1)}),hn(2,"\u265b"),dt(),ct(3,"div",6),Rt("click",function(){return an(t),xt().changeSelection(2)}),hn(4,"\u265c"),dt(),ct(5,"div",6),Rt("click",function(){return an(t),xt().changeSelection(3)}),hn(6,"\u265d"),dt(),ct(7,"div",6),Rt("click",function(){return an(t),xt().changeSelection(4)}),hn(8,"\u265e"),dt()()}}const sV=["boardRef"],oV=["modal"];function aV(n,e){if(1&n){const t=wo();ct(0,"div",11),Rt("cdkDragEnded",function(i){return an(t),xt().dragEnded(i)})("cdkDragMoved",function(i){return an(t),xt().dragMoved(i)})("cdkDragStarted",function(i){return an(t),xt().dragStart(i)}),dt()}if(2&n){const t=e.$implicit,r=xt();Do("transform","translate3d("+t.point.col*r.pieceSize+"px, "+t.point.row*r.pieceSize+"px,0px)")("max-height",r.pieceSize+"px")("font-size",.8*r.pieceSize+"px")("width",r.pieceSize+"px")("height",r.pieceSize+"px"),Bt("cdkDragDisabled",r.engineFacade.dragDisabled)("innerHTML",r.engineFacade.pieceIconManager.isDefaultIcons()?t.constant.icon:"",Zp)("ngStyle",r.engineFacade.pieceIconManager.isDefaultIcons()?"":r.getCustomPieceIcons(t))}}function lV(n,e){if(1&n&&(ct(0,"span",18),hn(1),dt()),2&n){const t=xt(2).index,r=xt();Do("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),xe(1),vl(" ",r.engineFacade.coords.yCoords[t]," ")}}function uV(n,e){if(1&n&&(ct(0,"span",19),hn(1),dt()),2&n){const t=xt().index,r=xt(2);Do("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),xe(1),vl(" ",r.engineFacade.coords.xCoords[t]," ")}}function cV(n,e){if(1&n&&(ct(0,"div",20),Ar(1,"div",21),dt()),2&n){const t=xt(3);xe(1),Do("font-size",t.pieceSize+"px"),Bt("ngClass","piece")}}function dV(n,e){if(1&n&&(ct(0,"div",14),nr(1,lV,2,5,"span",15),nr(2,uV,2,5,"span",16),nr(3,cV,2,3,"div",17),dt()),2&n){const t=e.index,r=xt().index,i=xt();Do("background-color",i.getTileBackgroundColor(r,t)),_l("current-selection",i.showActivePiece&&i.engineFacade.board.isXYInActiveMove(r,t))("king-check",i.engineFacade.board.isKingChecked(i.engineFacade.board.getPieceByPoint(r,t)))("point-circle",i.engineFacade.board.isXYInPointSelection(r,t))("possible-capture",i.showPossibleCaptures&&i.engineFacade.board.isXYInPossibleCaptures(r,t))("possible-point",i.engineFacade.board.isXYInPossibleMoves(r,t)&&i.showLegalMoves),xe(1),Bt("ngIf",i.showCoords&&7===t),xe(1),Bt("ngIf",i.showCoords&&7===r),xe(1),Bt("ngIf",i.engineFacade.board.getPieceByPoint(r,t))}}function hV(n,e){if(1&n&&(ct(0,"div",12),nr(1,dV,4,15,"div",13),dt()),2&n){const t=e.$implicit;xe(1),Bt("ngForOf",t)}}function fV(n,e){if(1&n&&($a(),ct(0,"defs")(1,"marker",22),Ar(2,"path",23),dt()()),2&n){const t=e.$implicit;xe(1),Bt("id",t+"Arrow"),xe(1),Do("fill",t)}}function pV(n,e){if(1&n&&($a(),Ar(0,"line",24)),2&n){const t=e.$implicit;wi("marker-end","url(#"+t.end.color+"Arrow)")("stroke",t.end.color)("x1",t.start.x)("x2",t.end.x)("y1",t.start.y)("y2",t.end.y)}}function gV(n,e){if(1&n&&($a(),Ar(0,"circle",25)),2&n){const t=e.$implicit,r=xt();wi("cx",t.drawPoint.x)("cy",t.drawPoint.y)("r",r.engineFacade.heightAndWidth/18)("stroke",t.drawPoint.color)}}const mV=function(){return["red","green","blue","orange"]};var w=(()=>{return(n=w||(w={}))[n.WHITE=0]="WHITE",n[n.BLACK=1]="BLACK",w;var n})();class gc{constructor(e,t,r,i,s){this.checkPoints=[],this.color=t,this.constant=r,this.point=e,this.relValue=i,this.board=s}}class H{constructor(e,t){this.row=e,this.col=t}isEqual(e){return e&&this.row===e.row&&this.col===e.col}hasCoordsEqual(e,t){return e&&t&&this.row===e&&this.col===t}isInRange(){return this.row>=0&&this.row<=7&&this.col>=0&&this.col<=7}clone(){return new H(this.row,this.col)}}class rr extends gc{constructor(e,t,r,i){super(e,t,r,5,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new H(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new H(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new H(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new H(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldEmpty(i,r))e.push(new H(i,r));else if(!(this.board.getPieceByField instanceof Ut)){e.push(new H(i,r));break}for(let i=t-1;i>=0;--i)if(this.board.isFieldEmpty(i,r))e.push(new H(i,r));else if(!(this.board.getPieceByField instanceof Ut)){e.push(new H(i,r));break}for(let i=r-1;i>=0;--i)if(this.board.isFieldEmpty(t,i))e.push(new H(t,i));else if(!(this.board.getPieceByField instanceof Ut)){e.push(new H(t,i));break}for(let i=r+1;i<8;++i)if(this.board.isFieldEmpty(t,i))e.push(new H(t,i));else if(!(this.board.getPieceByField instanceof Ut)){e.push(new H(t,i));break}return e}}class Ut extends gc{constructor(e,t,r,i){super(e,t,r,0,i),this.castledAlready=!1,this.shortCastled=!1,this.longCastled=!1,this.isCastling=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;if(this.board.isFieldEmpty(t,r-1)&&!this.board.isFieldUnderAttack(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t,r-1)),this.board.isFieldEmpty(t,r+1)&&!this.board.isFieldUnderAttack(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t,r+1)),this.board.isFieldEmpty(t+1,r)&&!this.board.isFieldUnderAttack(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r)),this.board.isFieldEmpty(t-1,r)&&!this.board.isFieldUnderAttack(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r)),this.board.isFieldEmpty(t-1,r-1)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r-1)),this.board.isFieldEmpty(t-1,r+1)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r+1)),this.board.isFieldEmpty(t+1,r-1)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r-1)),this.board.isFieldEmpty(t+1,r+1)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r+1)),!this.isMovedAlready){let i=!0;for(let o=r-1;o>0;--o)if(!this.board.isFieldEmpty(t,o)||this.board.isFieldUnderAttack(t,o,this.color===w.WHITE?w.BLACK:w.WHITE)){i=!1;break}if(i&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,0)){const o=this.board.getPieceByField(t,0);o instanceof rr&&(o.isMovedAlready||e.push(new H(t,r-2)))}let s=!0;for(let o=r+1;o<7;++o)if(!this.board.isFieldEmpty(t,o)||this.board.isFieldUnderAttack(t,o,this.color===w.WHITE?w.BLACK:w.WHITE)){s=!1;break}if(s&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,7)){const o=this.board.getPieceByField(t,7);o instanceof rr&&(o.isMovedAlready||e.push(new H(t,r+2)))}}return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t,r-1)),this.board.isFieldTakenByEnemy(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t,r+1)),this.board.isFieldTakenByEnemy(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r)),this.board.isFieldTakenByEnemy(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r)),this.board.isFieldTakenByEnemy(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r+1)),this.board.isFieldTakenByEnemy(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new H(t,r-1)),e.push(new H(t,r+1)),e.push(new H(t+1,r)),e.push(new H(t-1,r)),e.push(new H(t-1,r-1)),e.push(new H(t-1,r+1)),e.push(new H(t+1,r-1)),e.push(new H(t+1,r+1)),e}}class es extends gc{constructor(e,t,r,i){super(e,t,r,3,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new H(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new H(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new H(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new H(i,s));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}return e}}class ts extends gc{constructor(e,t,r,i){super(e,t,r,3,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldEmpty(t-2,r-1)&&e.push(new H(t-2,r-1)),this.board.isFieldEmpty(t-2,r+1)&&e.push(new H(t-2,r+1)),this.board.isFieldEmpty(t-1,r-2)&&e.push(new H(t-1,r-2)),this.board.isFieldEmpty(t-1,r+2)&&e.push(new H(t-1,r+2)),this.board.isFieldEmpty(t+1,r-2)&&e.push(new H(t+1,r-2)),this.board.isFieldEmpty(t+1,r+2)&&e.push(new H(t+1,r+2)),this.board.isFieldEmpty(t+2,r-1)&&e.push(new H(t+2,r-1)),this.board.isFieldEmpty(t+2,r+1)&&e.push(new H(t+2,r+1)),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t-2,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-2,r-1)),this.board.isFieldTakenByEnemy(t-2,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-2,r+1)),this.board.isFieldTakenByEnemy(t-1,r-2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r-2)),this.board.isFieldTakenByEnemy(t-1,r+2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r+2)),this.board.isFieldTakenByEnemy(t+1,r-2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r-2)),this.board.isFieldTakenByEnemy(t+1,r+2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r+2)),this.board.isFieldTakenByEnemy(t+2,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+2,r-1)),this.board.isFieldTakenByEnemy(t+2,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+2,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new H(t-2,r-1)),e.push(new H(t-2,r+1)),e.push(new H(t-1,r-2)),e.push(new H(t-1,r+2)),e.push(new H(t+1,r-2)),e.push(new H(t+1,r+2)),e.push(new H(t+2,r-1)),e.push(new H(t+2,r+1)),e}}class ir extends gc{constructor(e,t,r,i){super(e,t,r,1,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?this.board.isFieldEmpty(t-1,r)&&(e.push(new H(t-1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t-2,r)&&e.push(new H(t-2,r))):this.board.isFieldEmpty(t+1,r)&&(e.push(new H(t+1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t+2,r)&&e.push(new H(t+2,r))),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?(this.board.isFieldTakenByEnemy(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t-1,r+1))):(this.board.isFieldTakenByEnemy(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new H(t+1,r+1))),this.board.enPassantPoint&&this.board.enPassantPiece.color===(this.color===w.WHITE?w.BLACK:w.WHITE)&&t===this.board.enPassantPiece.point.row&&1===Math.abs(this.board.enPassantPiece.point.col-r)&&e.push(this.board.enPassantPoint),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?(e.push(new H(t-1,r-1)),e.push(new H(t-1,r+1))):(e.push(new H(t+1,r-1)),e.push(new H(t+1,r+1))),e}}class to extends gc{constructor(e,t,r,i){super(e,t,r,9,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new H(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new H(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new H(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new H(i,s));for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new H(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new H(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new H(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new H(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new H(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof Ut||e.push(new H(i,r));break}e.push(new H(i,r))}for(let i=t-1;i>=0;--i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof Ut||e.push(new H(i,r));break}e.push(new H(i,r))}for(let i=r-1;i>=0;--i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof Ut||e.push(new H(t,i));break}e.push(new H(t,i))}for(let i=r+1;i<8;++i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof Ut||e.push(new H(t,i));break}e.push(new H(t,i))}for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ut||e.push(new H(i,s));break}e.push(new H(i,s))}return e}}const Ye={WHITE_KING:{name:"King",icon:"&#x2654;"},WHITE_QUEEN:{name:"Queen",icon:"&#x2655;"},WHITE_KNIGHT:{name:"Knight",icon:"&#x2658"},WHITE_ROOK:{name:"Rook",icon:"&#x2656"},WHITE_PAWN:{name:"Pawn",icon:"&#x2659"},WHITE_BISHOP:{name:"Bishop",icon:"&#x2657"},BLACK_KING:{name:"King",icon:"&#x265A"},BLACK_QUEEN:{name:"Queen",icon:"&#x265B"},BLACK_KNIGHT:{name:"Knight",icon:"&#x265E"},BLACK_ROOK:{name:"Rook",icon:"&#x265C"},BLACK_PAWN:{name:"Pawn",icon:"&#x265F"},BLACK_BISHOP:{name:"Bishop",icon:"&#x265D"}};class zT{process(e,t){let r=e;if(!e)throw Error("Incorrect FEN provided");{t.board.reverted=!1,t.board.pieces=[];const i=r.split("/");for(let s=0;s<8;++s){let o=0;for(let l=0;l<i[s].split(" ")[0].length;++l){const c=i[s].charAt(l);if(c.match(/[0-9]/))o+=Number(c);else{switch(c){case"r":t.board.pieces.push(new rr(new H(s,o),w.BLACK,Ye.BLACK_ROOK,t.board));break;case"n":t.board.pieces.push(new ts(new H(s,o),w.BLACK,Ye.BLACK_KNIGHT,t.board));break;case"b":t.board.pieces.push(new es(new H(s,o),w.BLACK,Ye.BLACK_BISHOP,t.board));break;case"q":t.board.pieces.push(new to(new H(s,o),w.BLACK,Ye.BLACK_QUEEN,t.board));break;case"k":t.board.pieces.push(new Ut(new H(s,o),w.BLACK,Ye.BLACK_KING,t.board));break;case"p":{const h=new ir(new H(s,o),w.BLACK,Ye.BLACK_PAWN,t.board);(h.color===w.BLACK&&1!==h.point.row||h.color===w.WHITE&&6!==h.point.row)&&(h.isMovedAlready=!0),t.board.pieces.push(h);break}case"R":t.board.pieces.push(new rr(new H(s,o),w.WHITE,Ye.WHITE_ROOK,t.board));break;case"N":t.board.pieces.push(new ts(new H(s,o),w.WHITE,Ye.WHITE_KNIGHT,t.board));break;case"B":t.board.pieces.push(new es(new H(s,o),w.WHITE,Ye.WHITE_BISHOP,t.board));break;case"Q":t.board.pieces.push(new to(new H(s,o),w.WHITE,Ye.WHITE_QUEEN,t.board));break;case"K":t.board.pieces.push(new Ut(new H(s,o),w.WHITE,Ye.WHITE_KING,t.board));break;case"P":{const h=new ir(new H(s,o),w.WHITE,Ye.WHITE_PAWN,t.board);(h.color===w.BLACK&&1!==h.point.row||h.color===w.WHITE&&6!==h.point.row)&&(h.isMovedAlready=!0),t.board.pieces.push(h);break}}++o}}}this.setCurrentPlayer(t.board,r),this.setCastles(t.board,r),this.setEnPassant(r),this.setFullMoveCount(r),t.board.fen=r}}setCurrentPlayer(e,t){if(t){const r=t.split(" ");e.currentWhitePlayer="w"===r[1]}}setCastles(e,t){if(t){const i=t.split(" ")[2];i.includes("K")||this.setRookAlreadyMoved(e,w.WHITE,7),i.includes("Q")||this.setRookAlreadyMoved(e,w.WHITE,0),i.includes("k")||this.setRookAlreadyMoved(e,w.BLACK,7),i.includes("q")||this.setRookAlreadyMoved(e,w.BLACK,0)}}setFullMoveCount(e){}setEnPassant(e){!e||e.split(" ")}setRookAlreadyMoved(e,t,r){const i=e.pieces.find(s=>s.color===t&&s instanceof rr&&s.point.col===r);i&&(i.isMovedAlready=!0)}}class _V{constructor(e,t,r){this._xAxis=e,this._yAxis=t,this._reverted=r}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e}get reverted(){return this._reverted}set reverted(e){this._reverted=e}}class Le{static willMoveCauseCheck(e,t,r,i,s,o){const l=o.getPieceByField(t,r),c=o.getPieceByField(i,s);l&&(l.point.row=i,l.point.col=s),c&&(o.pieces=o.pieces.filter(f=>f!==c));const h=o.isKingInCheck(e,o.pieces);return l&&(l.point.col=r,l.point.row=t),c&&o.pieces.push(c),h}static format(e,t,r){if(r){const s=104-t.col;return String.fromCharCode(104-e.col)+(e.row+1)+String.fromCharCode(s)+(t.row+1)}return String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)+String.fromCharCode(t.col+97)+(Math.abs(t.row-7)+1)}static translateCoordsToIndex(e,t){let r,i;return t?(r=104-e.charCodeAt(0),i=+e.charAt(1)-1):(r=e.charCodeAt(0)-97,i=Math.abs(+e.charAt(1)-8)),new _V(r,i,t)}static findPieceByPossibleMovesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new H(i.yAxis,i.xAxis),o=[];for(let l of t.pieces.filter(c=>c.color===r))for(let c of l.getPossibleMoves())!Le.willMoveCauseCheck(l.color,l.point.row,l.point.col,i.yAxis,i.xAxis,t)&&c.isEqual(s)&&o.push(l);return o}static findPieceByPossibleCapturesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new H(i.yAxis,i.xAxis),o=[];for(let l of t.pieces.filter(c=>c.color===r))for(let c of l.getPossibleCaptures())!Le.willMoveCauseCheck(l.color,l.point.row,l.point.col,i.yAxis,i.xAxis,t)&&c.isEqual(s)&&o.push(l);return o}static formatSingle(e,t){return t?String.fromCharCode(104-e.col)+(e.row+1):String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)}static getFirstLetterPiece(e){return e instanceof ir?"P":e instanceof ts?"N":e instanceof es?"B":e instanceof rr?"R":e instanceof Ut?"K":e instanceof to?"Q":""}static reverse(e,t){return e.reverted?t+1:Math.abs(t-7)+1}static formatCol(e,t){return String.fromCharCode(e.reverted?104-t:97+t)}}class qT{static loadDefaultPieces(e){e.pieces=[];for(let t=0;t<8;++t)e.pieces.push(new ir(new H(1,t),w.BLACK,Ye.BLACK_PAWN,e));e.pieces.push(new rr(new H(0,0),w.BLACK,Ye.BLACK_ROOK,e)),e.pieces.push(new ts(new H(0,1),w.BLACK,Ye.BLACK_KNIGHT,e)),e.pieces.push(new es(new H(0,2),w.BLACK,Ye.BLACK_BISHOP,e)),e.pieces.push(new to(new H(0,3),w.BLACK,Ye.BLACK_QUEEN,e)),e.pieces.push(new Ut(new H(0,4),w.BLACK,Ye.BLACK_KING,e)),e.pieces.push(new es(new H(0,5),w.BLACK,Ye.BLACK_BISHOP,e)),e.pieces.push(new ts(new H(0,6),w.BLACK,Ye.BLACK_KNIGHT,e)),e.pieces.push(new rr(new H(0,7),w.BLACK,Ye.BLACK_ROOK,e));for(let t=0;t<8;++t)e.pieces.push(new ir(new H(6,t),w.WHITE,Ye.WHITE_PAWN,e));e.pieces.push(new rr(new H(7,0),w.WHITE,Ye.WHITE_ROOK,e)),e.pieces.push(new ts(new H(7,1),w.WHITE,Ye.WHITE_KNIGHT,e)),e.pieces.push(new es(new H(7,2),w.WHITE,Ye.WHITE_BISHOP,e)),e.pieces.push(new to(new H(7,3),w.WHITE,Ye.WHITE_QUEEN,e)),e.pieces.push(new Ut(new H(7,4),w.WHITE,Ye.WHITE_KING,e)),e.pieces.push(new es(new H(7,5),w.WHITE,Ye.WHITE_BISHOP,e)),e.pieces.push(new ts(new H(7,6),w.WHITE,Ye.WHITE_KNIGHT,e)),e.pieces.push(new rr(new H(7,7),w.WHITE,Ye.WHITE_ROOK,e)),e.calculateFEN()}}class vV{process(e,t){if(e){t.board.reverted=!1,t.board.pieces=[],t.reset(),qT.loadDefaultPieces(t.board);let r=this.extractMoves(e),i=-1;for(let s of r){++i,s=s.replace(/[+#]/g,"");let o="";s.includes("=")&&(o=this.resolvePromotion(s.substring(s.length-1)),s=s.substring(0,s.length-2));let l=0===i||i%2==0?w.WHITE:w.BLACK;if(/^[a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleMovesContaining(s,t.board,l).find(h=>h instanceof ir);c||(c=Le.findPieceByPossibleCapturesContaining(s,t.board,l).find(h=>h instanceof ir)),c&&t.move(Le.formatSingle(c.point,!1)+s+o)}else if(/^[A-Z][a-h]\d$/g.test(s)){let h=Le.findPieceByPossibleMovesContaining(s.substring(1),t.board,l).find(f=>this.resolvePieceByFirstChar(s.charAt(0),f));h&&t.move(Le.formatSingle(h.point,!1)+s.substring(1)+o)}else if("O-O"===s)t.move(l===w.WHITE?"e1g1":"e8g8");else if(/^[a-z]x[a-z]\d$/g.test(s)){let h,c=Le.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>f instanceof ir);h=c.length>1?this.resolveByCol(c,s.substring(0,1)):c[0],h&&t.move(Le.formatSingle(h.point,!1)+s.substring(s.indexOf("x")+1)+o)}else if(/^[A-Z]x[a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).find(h=>this.resolvePieceByFirstChar(s.substring(0,1),h));c&&t.move(Le.formatSingle(c.point,!1)+s.substring(s.indexOf("x")+1)+o)}else if("O-O-O"===s)t.move(l===w.WHITE?"e1c1":"e8c8");else if(/^[A-Z]\dx[a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),h=this.resolveByRow(c,s.substring(1,2));h&&t.move(Le.formatSingle(h.point,!1)+s.substring(s.indexOf("x")+1)+o)}else if(/^[A-Z][a-z][a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleMovesContaining(s.substring(2,4),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),h=this.resolveByCol(c,s.substring(1,2));h&&t.move(Le.formatSingle(h.point,!1)+s.substring(2,4)+o)}else if(/^[A-Z][a-z]x[a-z]\d$/g.test(s)){let c=Le.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,l).filter(f=>this.resolvePieceByFirstChar(s.charAt(0),f)),h=this.resolveByCol(c,s.substring(1,2));h&&t.move(Le.formatSingle(h.point,!1)+s.substring(s.indexOf("x")+1)+o)}else this.processR1f2(s,t,l,o)}}}processR1f2(e,t,r,i){if(/^[A-Z]\d[a-z]\d$/g.test(e)){let s=Le.findPieceByPossibleMovesContaining(e.substring(2,4),t.board,r).filter(l=>this.resolvePieceByFirstChar(e.charAt(0),l)),o=this.resolveByRow(s,e.substring(1,2));o&&t.move(Le.formatSingle(o.point,!1)+e.substring(2,4)+i)}}extractMoves(e){return e.substring(e.lastIndexOf("]")+1).replace(/[0-9]+\./g,"").replace(/\s+/g," ").replace(/{[^}]*}/g,"").trim().split(" ").filter(t=>t)}movePiece(e,t,r){let i=Le.translateCoordsToIndex(r,t.reverted);e.point.col=i.xAxis,e.point.row=i.yAxis}hasUpperCase(e){return/[A-Z]/.test(e)}resolvePieceByFirstChar(e,t){let r="";return t instanceof Ut?r="K":t instanceof to?r="Q":t instanceof rr?r="R":t instanceof es?r="B":t instanceof ts?r="N":t instanceof ir&&(r="P"),e===r}isShortCastle(e){return"O-O"===e}removePiece(e,t){let r=Le.translateCoordsToIndex(e,t.reverted);t.pieces=t.pieces.filter(i=>!i.point.isEqual(new H(r.yAxis,r.xAxis)))}isLongCastle(e){return"O-O-O"===e}resolveByCol(e,t){let r=Le.formatSingle(e[0].point,!1);return Le.formatSingle(e[1].point,!1),r.substring(0,1)===t?e[0]:e[1]}resolveByRow(e,t){let r=Le.formatSingle(e[0].point,!1);return Le.formatSingle(e[1].point,!1),r.substring(1,2)===t?e[0]:e[1]}replacePromotion(e){return e.replace("=Q","1").replace("=R","2").replace("=B","3").replace("=K","4")}resolvePromotion(e){switch(e){case"Q":return"1";case"R":return"2";case"B":return"3";case"N":return"4"}return""}}class S0{static getProcessor(e){switch(e){case Pl.FEN:return new zT;case Pl.PGN:return new vV}}static getDefaultProcessor(){return new zT}}var Pl=(()=>{return(n=Pl||(Pl={}))[n.FEN=1]="FEN",n[n.PGN=2]="PGN",Pl;var n})();class yV{constructor(e,t,r){this.x=e+.5,this.y=t+.5,this.color=r}isEqual(e){return e&&e.x===this.x&&this.y===e.y}}class A0{static getClickPoint(e,t,r,i,s){return new H(Math.floor((e.y-t)/(r/8)),Math.floor((e.x-i)/(s/8)))}static getDrawingPoint(e,t,r,i,s,o,l,c,h){const f=e/8,g=Math.floor((r-c)/f),v=Math.floor((i-h)/f);let C=t.resolve(s,l,o);return new yV(Math.floor(g*f+f/2),Math.floor(v*f+f/2),C)}}class bV{constructor(e,t,r,i){this.move=e,this.piece=t,this.color=r,this.x=i}setGameStates(e,t,r){this.check=e,this.stalemate=t,this.mate=r}}class CV{constructor(){this.historyMovesSubject$=new jr([])}get historyMoves(){return this.historyMovesSubject$.value}set historyMoves(e){this.historyMovesSubject$.next(e)}addMove(e){this.historyMoves=[...this.historyMoves,e]}pop(){const e=this.getLastMove();return this.historyMoves=this.historyMoves.filter(t=>t!==e),e}getAll(){return this.historyMoves}clear(){this.historyMoves=[]}getLastMove(){return this.historyMoves[this.getLastMoveIndex()]}getLastMoveIndex(){return this.historyMoves.length-1}}let Oo=(()=>{class n{}return n.DEFAULT_DARK_TILE_COLOR="rgb(97, 84, 61)",n.DEFAULT_LIGHT_TILE_COLOR="#BAA378",n.DEFAULT_SIZE=500,n.MIN_BOARD_SIZE=100,n.MAX_BOARD_SIZE=4e3,n.DEFAULT_SOURCE_POINT_COLOR="rgba(146, 111, 26, 0.79)",n.DEFAULT_DESTINATION_POINT_COLOR="#b28e1a",n.DEFAULT_LEGAL_MOVE_POINT_COLOR="radial-gradient(#13262F 15%, transparent 20%);",n})();class EV{constructor(){this._defaultIcons=!1}get pieceIconInput(){return this._pieceIconInput}set pieceIconInput(e){this._pieceIconInput=e}get defaultIcons(){return this._defaultIcons}set defaultIcons(e){this._defaultIcons=e}isDefaultIcons(){return null==this.pieceIconInput}getPieceIcon(e){let t=e.color===w.WHITE;switch(e.constructor){case Ut:return t?this.pieceIconInput.whiteKingUrl:this.pieceIconInput.blackKingUrl;case to:return t?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;case rr:return t?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;case es:return t?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;case ts:return t?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;case ir:return t?this.pieceIconInput.whitePawnUrl:this.pieceIconInput.blackPawnUrl}}loadDefaultData(){this.pieceIconInput={blackBishopUrl:"",blackKingUrl:"",blackKnightUrl:"",blackQueenUrl:"",blackRookUrl:"",whiteBishopUrl:"",whiteKingUrl:"",whiteKnightUrl:"",whitePawnUrl:"",whiteQueenUrl:"",whiteRookUrl:"",blackPawnUrl:"a"}}}class wV{constructor(){this.defaultXCoords=["a","b","c","d","e","f","g","h"],this.defaultYCoords=[8,7,6,5,4,3,2,1],this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}get xCoords(){return this.currentXCoords}get yCoords(){return this.currentYCoords}reverse(){this.currentXCoords=this.currentXCoords.reverse(),this.currentYCoords=this.currentYCoords.reverse()}reset(){this.init()}init(){this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}}class DV{dragEnded(e,t,r){t||r&&(e.source._dragRef.getRootElement().style.transform=r)}}class SV{constructor(){this.dragEndProcessor=new DV}process(e,t,r){this.dragEndProcessor.dragEnded(e,t,r)}setDragEndProcessor(e){this.dragEndProcessor=e}}class AV{dragStarted(e){const t=e.source.getRootElement().style;t.zIndex="1000",t.position="absolute"}}class PV{constructor(){this.dragStartProcessor=new AV}process(e){this.dragStartProcessor.dragStarted(e)}setDragStartProcessor(e){this.dragStartProcessor=e}}class TV{resolve(e,t,r){let i="green";return(e||t)&&(i="red"),r&&(i="blue"),(t||e)&&r&&(i="orange"),i}}class MV{constructor(){this.colorProcessor=new TV}resolve(e,t,r){return this.colorProcessor.resolve(e,t,r)}setColorProcessor(e){this.colorProcessor=e}}class IV{constructor(){this.arrowsSubject$=new jr([]),this.circlesSubject$=new jr([]),this.arrows$=this.arrowsSubject$.asObservable(),this.circles$=this.circlesSubject$.asObservable()}get circles(){return this.circlesSubject$.value}set circles(e){this.circlesSubject$.next(e)}get arrows(){return this.arrowsSubject$.value}set arrows(e){this.arrowsSubject$.next(e)}addCircle(e){this.circles=[...this.circles,e]}reomveCircle(e){this.circles=this.circles.filter(t=>!t.isEqual(e))}addArrow(e){this.arrows=[...this.arrows,e]}removeArrow(e){this.arrows=this.arrows.filter(t=>!t.isEqual(e))}containsCircle(e){return this.circles.some(t=>t.isEqual(e))}containsArrow(e){return this.arrows.some(t=>t.isEqual(e))}clear(){this.arrows=[],this.circles=[]}}class OV extends class RV{constructor(){this.pgn="",this.currentIndex=.5}getPGN(){return this.pgn}processChecks(e,t,r){e?this.pgn+="#":t&&(this.pgn+="+")}reset(){this.pgn="",this.currentIndex=.5}addPromotionChoice(e){switch(e){case 1:this.pgn+="=Q";break;case 2:this.pgn+="=R";break;case 3:this.pgn+="=B";break;case 4:this.pgn+="=N"}}removeLast(){if(this.currentIndex>=.5){this.currentIndex-=.5;const e=new RegExp(/\d+\./g);e.test(this.pgn),this.pgn=this.pgn.substring(0,e.lastIndex).trim()}}}{process(e,t,r,i){this.currentIndex+=.5,this.pgn+=this.currentIndex%Math.floor(this.currentIndex)==0?" "+this.currentIndex+". ":" ";let s=[],o=[];i&&(s=Le.findPieceByPossibleCapturesContaining(Le.formatSingle(r,e.reverted),e,t.color).filter(l=>l.constructor.name===t.constructor.name)),o=Le.findPieceByPossibleMovesContaining(Le.formatSingle(r,e.reverted),e,t.color).filter(l=>l.constructor.name===t.constructor.name),t instanceof ir&&!i&&0===s.length?this.pgn+=Le.formatSingle(r,e.reverted):t instanceof ir&&i?this.pgn+=Le.formatSingle(t.point,e.reverted).substring(0,1)+"x"+Le.formatSingle(r,e.reverted):t instanceof Ut&&2===Math.abs(t.point.col-r.col)?this.pgn+=e.reverted?r.col<2?"O-O":"O-O-O":r.col<3?"O-O-O":"O-O":!(t instanceof ir)&&0===s.length&&o.length<2?this.pgn+=Le.getFirstLetterPiece(t)+Le.formatSingle(r,e.reverted):o&&2===o.length&&0===s.length?this.isEqualByCol(o[0],o[1])?this.pgn+=Le.getFirstLetterPiece(t)+Le.reverse(e,t.point.row)+Le.formatSingle(r,e.reverted):this.pgn+=Le.getFirstLetterPiece(t)+Le.formatCol(e,t.point.col)+Le.formatSingle(r,e.reverted):s.length>1?this.isEqualByCol(s[0],s[1])?this.pgn+=Le.getFirstLetterPiece(t)+Le.reverse(e,t.point.row)+"x"+Le.formatSingle(r,e.reverted):this.pgn+=Le.getFirstLetterPiece(t)+Le.formatCol(e,t.point.col)+"x"+Le.formatSingle(r,e.reverted):this.pgn+=Le.getFirstLetterPiece(t)+"x"+Le.formatSingle(r,e.reverted),this.pgn=this.pgn.trim()}resolvePieceByFirstChar(e,t){return Le.getFirstLetterPiece(t)===e}isEqualByCol(e,t){return e.point.col===t.point.col}}class FV{constructor(e,t){this.engineFacade=e,this.notationProcessor=t||S0.getDefaultProcessor()}addPieces(){qT.loadDefaultPieces(this.engineFacade.board)}loadFEN(e){this.notationProcessor.process(e,this.engineFacade)}loadPGN(e){this.notationProcessor.process(e,this.engineFacade)}setEngineFacade(e){this.engineFacade=e}setNotationProcessor(e){this.notationProcessor=e}}class QT{constructor(e){this.board=e}}class kV{constructor(){this.statesSubject$=new jr([])}get states(){return this.statesSubject$.value}set states(e){this.statesSubject$.next(e)}addMove(e){this.states=[...this.states,e]}getStates(){return this.states}pop(){const e=this.getLastState();return this.states=this.states.filter(t=>t!==e),e}isEmpty(){return 0===this.states.length}clear(){this.states=[]}getLastState(){return this.states[this.getLastStateIndex()]}getLastStateIndex(){return this.states.length-1}}class NV{isEqual(e){return e&&this.start.isEqual(e.start)&&this.end.isEqual(e.end)}}class LV{isEqual(e){return e&&this.drawPoint.isEqual(e.drawPoint)}}class ZT extends class BV{constructor(e){this.piece=e}}{constructor(e,t,r,i){super(e),this.pointClicked=t,this.color=r,this.board=i}getPossibleCaptures(){return this.piece.getPossibleCaptures().filter(e=>!Le.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}getPossibleMoves(){return this.piece.getPossibleMoves().filter(e=>!Le.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}}class YT{static resolvePromotionChoice(e,t,r){const i=t.color===w.WHITE;switch(r){case 1:e.pieces.push(new to(t.point,t.color,i?Ye.WHITE_QUEEN:Ye.BLACK_QUEEN,e));break;case 2:e.pieces.push(new rr(t.point,t.color,i?Ye.WHITE_ROOK:Ye.BLACK_ROOK,e));break;case 3:e.pieces.push(new es(t.point,t.color,i?Ye.WHITE_BISHOP:Ye.BLACK_BISHOP,e));break;case 4:e.pieces.push(new ts(t.point,t.color,i?Ye.WHITE_KNIGHT:Ye.BLACK_KNIGHT,e))}}}var xo=(()=>{return(n=xo||(xo={}))[n.KING=1]="KING",n[n.QUEEN=2]="QUEEN",n[n.BISHOP=3]="BISHOP",n[n.KNIGHT=4]="KNIGHT",n[n.ROOK=5]="ROOK",n[n.PAWN=6]="PAWN",xo;var n})(),p_=(()=>{return(n=p_||(p_={}))[n.LIGHT=1]="LIGHT",n[n.DARK=2]="DARK",p_;var n})();class HV extends class xV{constructor(e){this.dragStartStrategy=new PV,this.dragEndStrategy=new SV,this.pgnProcessor=new OV,this.colorStrategy=new MV,this.coords=new wV,this.heightAndWidth=Oo.DEFAULT_SIZE,this.freeMode=!1,this.drawProvider=new IV,this.pieceIconManager=new EV,this.moveHistoryProvider=new CV,this.disabling=!1,this.board=e}checkIfPawnFirstMove(e){e instanceof ir&&(e.isMovedAlready=!0)}checkIfRookMoved(e){e instanceof rr&&(e.isMovedAlready=!0)}checkIfKingMoved(e){e instanceof Ut&&(e.isMovedAlready=!0)}getMoveHistory(){return this.moveHistoryProvider.getAll()}}{constructor(e,t){super(e),this._selected=!1,this.moveChange=t,this.boardLoader=new FV(this),this.boardLoader.addPieces(),this.boardStateProvider=new kV}reset(){this.boardStateProvider.clear(),this.moveHistoryProvider.clear(),this.boardLoader.addPieces(),this.board.reset(),this.coords.reset(),this.drawProvider.clear(),this.pgnProcessor.reset()}undo(){if(!this.boardStateProvider.isEmpty()){const e=this.boardStateProvider.pop().board;this.board.reverted&&e.reverse(),this.board=e,this.board.possibleCaptures=[],this.board.possibleMoves=[],this.board.activePiece=null,this.moveHistoryProvider.pop(),this.board.calculateFEN(),this.pgnProcessor.removeLast()}}saveMoveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.moveStateProvider.addMove(new QT(e))}move(e){if(e){const t=Le.translateCoordsToIndex(e.substring(0,2),this.board.reverted),r=Le.translateCoordsToIndex(e.substring(2,4),this.board.reverted),i=this.board.getPieceByPoint(t.yAxis,t.xAxis);if(i){if(this.board.currentWhitePlayer&&i.color===w.BLACK||!this.board.currentWhitePlayer&&i.color===w.WHITE)return;this.prepareActivePiece(i,i.point),this.board.isPointInPossibleMoves(new H(r.yAxis,r.xAxis))||this.board.isPointInPossibleCaptures(new H(r.yAxis,r.xAxis))?(this.saveClone(),this.movePiece(i,new H(r.yAxis,r.xAxis),5===e.length?+e.substring(4,5):0),this.board.lastMoveSrc=new H(t.yAxis,t.xAxis),this.board.lastMoveDest=new H(r.yAxis,r.xAxis),this.disableSelection()):this.disableSelection()}}}prepareActivePiece(e,t){this.board.activePiece=e,this._selected=!0,this.board.possibleCaptures=new ZT(e,t,this.board.currentWhitePlayer?w.WHITE:w.BLACK,this.board).getPossibleCaptures(),this.board.possibleMoves=new ZT(e,t,this.board.currentWhitePlayer?w.WHITE:w.BLACK,this.board).getPossibleMoves()}onPieceClicked(e,t){this.board.currentWhitePlayer&&e.color===w.BLACK||!this.board.currentWhitePlayer&&e.color===w.WHITE||this.prepareActivePiece(e,t)}handleClickEvent(e,t){let r=!1;(this.board.isPointInPossibleMoves(e)||this.board.isPointInPossibleCaptures(e)||this.freeMode)&&e.isInRange()&&(this.saveClone(),this.board.lastMoveSrc=new H(this.board.activePiece.point.row,this.board.activePiece.point.col),this.board.lastMoveDest=e.clone(),this.movePiece(this.board.activePiece,e),this.board.activePiece.point.isEqual(this.board.lastMoveSrc)||(r=!0)),(t||r)&&this.disableSelection(),this.disableSelection();const i=this.board.getPieceByPoint(e.row,e.col);i&&!r&&(this.onFreeMode(i),this.onPieceClicked(i,e))}onMouseDown(e,t,r,i){if(this.moveDone=!1,0!==e.button)return void(this.drawPoint=A0.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i));if(this.drawProvider.clear(),this.board.activePiece&&t.isEqual(this.board.activePiece.point))return void(this.disabling=!0);const s=this.board.getPieceByPoint(t.row,t.col);if(this.freeMode&&s){if(e.ctrlKey)return void(this.board.pieces=this.board.pieces.filter(o=>o!==s));this.board.currentWhitePlayer=s.color===w.WHITE}this.isPieceDisabled(s)||(this._selected?this.handleClickEvent(t,!0):s&&(this.onFreeMode(s),this.onPieceClicked(s,t)))}onMouseUp(e,t,r,i){if(this.moveDone=!1,0!==e.button&&!this.drawDisabled)return void this.addDrawPoint(e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i);if(this.drawProvider.clear(),this.dragDisabled)return;if(this.board.activePiece&&t.isEqual(this.board.activePiece.point)&&this.disabling)return this.disableSelection(),void(this.disabling=!1);const s=this.board.getPieceByPoint(t.row,t.col);this.isPieceDisabled(s)||this._selected&&this.handleClickEvent(t,!1)}saveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.boardStateProvider.addMove(new QT(e))}movePiece(e,t,r){const i=this.board.pieces.find(s=>s.point.col===t.col&&s.point.row===t.row);if(this.pgnProcessor.process(this.board,e,t,i),i&&e.color!==i.color)this.board.pieces=this.board.pieces.filter(s=>s!==i);else if(i&&e.color===i.color)return;if(this.historyMoveCandidate=new bV(Le.format(e.point,t,this.board.reverted),e.constant.name,e.color===w.WHITE?"white":"black",!!i),this.moveHistoryProvider.addMove(this.historyMoveCandidate),e instanceof Ut&&Math.abs(t.col-e.point.col)>1)if(t.col<3){const o=this.board.getPieceByField(e.point.row,0);this.freeMode||(o.point.col=this.board.reverted?2:3)}else{const o=this.board.getPieceByField(e.point.row,7);this.freeMode||(o.point.col=this.board.reverted?4:5)}e instanceof ir?(this.board.checkIfPawnTakesEnPassant(t),this.board.checkIfPawnEnpassanted(e,t)):(this.board.enPassantPoint=null,this.board.enPassantPiece=null),e.point=t,this.increaseFullMoveCount(),this.board.currentWhitePlayer=!this.board.currentWhitePlayer,this.checkForPawnPromote(e,r)||this.afterMoveActions()}checkForPawnPromote(e,t){if(e instanceof ir&&(0===e.point.row||7===e.point.row))return this.board.pieces=this.board.pieces.filter(r=>r!==e),t?(YT.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)):this.openPromoteDialog(e),!0}afterMoveActions(e){this.checkIfPawnFirstMove(this.board.activePiece),this.checkIfRookMoved(this.board.activePiece),this.checkIfKingMoved(this.board.activePiece),this.board.blackKingChecked=this.board.isKingInCheck(w.BLACK,this.board.pieces),this.board.whiteKingChecked=this.board.isKingInCheck(w.WHITE,this.board.pieces);const t=this.board.blackKingChecked||this.board.whiteKingChecked,r=this.checkForPossibleMoves(w.BLACK)||this.checkForPossibleMoves(w.WHITE),i=this.checkForPat(w.BLACK)||this.checkForPat(w.WHITE);this.historyMoveCandidate.setGameStates(t,i,r),this.pgnProcessor.processChecks(r,t,i),this.pgnProcessor.addPromotionChoice(e),this.disabling=!1,this.board.calculateFEN();const s=this.moveHistoryProvider.getLastMove();s&&e&&(s.move+=e),this.moveChange.emit(Object.assign(Object.assign({},s),{check:t,checkmate:r,stalemate:i,fen:this.board.fen,pgn:{pgn:this.pgnProcessor.getPGN()},freeMode:this.freeMode})),this.moveDone=!0}checkForPat(e){return e===w.WHITE&&!this.board.whiteKingChecked||e===w.BLACK&&!this.board.blackKingChecked?this.checkForPossibleMoves(e):void 0}openPromoteDialog(e){e.color===this.board.activePiece.color&&this.modal.open(t=>{YT.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)})}checkForPossibleMoves(e){return!this.board.pieces.filter(t=>t.color===e).some(t=>t.getPossibleMoves().some(r=>!Le.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board))||t.getPossibleCaptures().some(r=>!Le.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board)))}disableSelection(){this._selected=!1,this.board.possibleCaptures=[],this.board.activePiece=null,this.board.possibleMoves=[]}onFreeMode(e){!this.freeMode||null==e||(this.board.currentWhitePlayer=e.color===w.WHITE)}isPieceDisabled(e){return!(e&&e.point&&this.board.possibleCaptures.find(r=>r.col===e.point.col&&r.row===e.point.row))&&e&&(this.lightDisabled&&e.color===w.WHITE||this.darkDisabled&&e.color===w.BLACK)}addDrawPoint(e,t,r,i,s,o,l){const c=A0.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e,t,r,i,s,o,l);if(this.drawPoint.isEqual(c)){const h=new LV;h.drawPoint=c,this.drawProvider.containsCircle(h)?this.drawProvider.reomveCircle(h):this.drawProvider.addCircle(h)}else{const h=new NV;h.start=this.drawPoint,h.end=c,this.drawProvider.containsArrow(h)?this.drawProvider.removeArrow(h):this.drawProvider.addArrow(h)}}increaseFullMoveCount(){this.board.currentWhitePlayer||++this.board.fullMoveCount}addPiece(e,t,r){if(this.freeMode&&r&&e>0&&t>0){let i=Le.translateCoordsToIndex(r,this.board.reverted),s=this.board.getPieceByPoint(i.yAxis,i.xAxis);s&&(this.board.pieces=this.board.pieces.filter(l=>l!==s));let o=class VV{static create(e,t,r,i){let s,o=r===p_.LIGHT?w.WHITE:w.BLACK;switch(t){case xo.QUEEN:s=new to(new H(e.yAxis,e.xAxis),o,o===w.WHITE?Ye.WHITE_QUEEN:Ye.BLACK_QUEEN,i);break;case xo.KING:s=new Ut(new H(e.yAxis,e.xAxis),o,o===w.WHITE?Ye.WHITE_KING:Ye.BLACK_KING,i);break;case xo.KNIGHT:s=new ts(new H(e.yAxis,e.xAxis),o,o===w.WHITE?Ye.WHITE_KNIGHT:Ye.BLACK_KNIGHT,i);break;case xo.BISHOP:s=new es(new H(e.yAxis,e.xAxis),o,o===w.WHITE?Ye.WHITE_BISHOP:Ye.BLACK_BISHOP,i);break;case xo.ROOK:s=new rr(new H(e.yAxis,e.xAxis),o,o===w.WHITE?Ye.WHITE_ROOK:Ye.BLACK_ROOK,i);break;case xo.PAWN:s=new ir(new H(e.yAxis,e.xAxis),o,o===w.WHITE?Ye.WHITE_PAWN:Ye.BLACK_PAWN,i)}return s}}.create(i,e,t,this.board);this.saveClone(),this.board.pieces.push(o),this.afterMoveActions()}}}class jV{constructor(){this.board=[],this.pieces=[],this.enPassantPoint=null,this.enPassantPiece=null,this.lastMoveSrc=null,this.lastMoveDest=null,this.possibleCaptures=[],this.possibleMoves=[],this.currentWhitePlayer=!0,this.reverted=!1,this.fullMoveCount=1;for(let e=0;e<8;++e){this.board[e]=[];for(let t=0;t<8;++t)this.board[e][t]=0}}isXYInPossibleMoves(e,t){return this.possibleMoves.some(r=>r.row===e&&r.col===t)}isXYInPossibleCaptures(e,t){return this.possibleCaptures.some(r=>r.row===e&&r.col===t)}isXYInSourceMove(e,t){return this.lastMoveSrc&&this.lastMoveSrc.row===e&&this.lastMoveSrc.col===t}isXYInDestMove(e,t){return this.lastMoveDest&&this.lastMoveDest.row===e&&this.lastMoveDest.col===t}isXYInActiveMove(e,t){return this.activePiece&&this.activePiece.point.row===e&&this.activePiece.point.col===t}isPointInPossibleMoves(e){return this.possibleMoves.some(t=>t.row===e.row&&t.col===e.col)}isPointInPossibleCaptures(e){return this.possibleCaptures.some(t=>t.row===e.row&&t.col===e.col)}reset(){this.lastMoveDest=null,this.lastMoveSrc=null,this.whiteKingChecked=!1,this.blackKingChecked=!1,this.possibleCaptures=[],this.possibleMoves=[],this.activePiece=null,this.reverted=!1,this.currentWhitePlayer=!0,this.enPassantPoint=null,this.enPassantPiece=null,this.fullMoveCount=1,this.calculateFEN()}reverse(){this.reverted=!this.reverted,this.activePiece=null,this.possibleMoves=[],this.possibleCaptures=[],this.pieces.forEach(e=>this.reversePoint(e.point)),this.reversePoint(this.lastMoveSrc),this.reversePoint(this.lastMoveDest),this.enPassantPoint&&this.enPassantPiece&&this.reversePoint(this.enPassantPoint)}clone(){return(0,tV.cloneDeep)(this)}isFieldTakenByEnemy(e,t,r){return!(e>7||e<0||t>7||t<0)&&this.pieces.some(i=>i.point.col===t&&i.point.row===e&&i.color===r)}isFieldEmpty(e,t){return!(e>7||e<0||t>7||t<0||this.pieces.some(r=>r.point.col===t&&r.point.row===e))}isFieldUnderAttack(e,t,r){return this.pieces.filter(i=>i.color===r).some(i=>i.getCoveredFields().some(s=>s.col===t&&s.row===e))}getPieceByField(e,t){if(!this.isFieldEmpty(e,t))return this.pieces.find(r=>r.point.col===t&&r.point.row===e)}isKingInCheck(e,t){const r=t.find(i=>i.color===e&&i instanceof Ut);return!!r&&t.some(i=>i.getPossibleCaptures().some(s=>s.col===r.point.col&&s.row===r.point.row)&&i.color!==e)}getKingByColor(e){return this.pieces.find(t=>t instanceof Ut&&t.color===e)}getCastleFENString(e){const t=this.getKingByColor(e);if(!t||t.isMovedAlready)return"";let r="";const i=this.getPieceByField(t.point.row,0),s=this.getPieceByField(t.point.row,7);return s instanceof rr&&s.color===e&&(s.isMovedAlready||(r+=this.reverted?"q":"k")),i instanceof rr&&i.color===e&&(i.isMovedAlready||(r+=this.reverted?"k":"q")),r=r.split("").sort().join(""),e===w.BLACK?r:r.toUpperCase()}getEnPassantFENString(){return this.enPassantPoint?this.reverted?String.fromCharCode(104-this.enPassantPoint.col)+(this.enPassantPoint.row+1):String.fromCharCode(97+this.enPassantPoint.col)+(Math.abs(this.enPassantPoint.row-7)+1):"-"}calculateFEN(){let e="";for(let s=0;s<8;++s){let o=0;for(let l=0;l<8;++l){const c=this.pieces.find(h=>h.point.col===l&&h.point.row===s);c?(o>0&&(e+=o,o=0),c instanceof rr?e+=c.color===w.BLACK?"r":"R":c instanceof ts?e+=c.color===w.BLACK?"n":"N":c instanceof es?e+=c.color===w.BLACK?"b":"B":c instanceof to?e+=c.color===w.BLACK?"q":"Q":c instanceof Ut?e+=c.color===w.BLACK?"k":"K":c instanceof ir&&(e+=c.color===w.BLACK?"p":"P")):++o}o>0&&(e+=o),e+="/"}e=e.substr(0,e.length-1),this.reverted&&(e=e.split("").reverse().join("")),e+=" "+(this.currentWhitePlayer?"w":"b");let i=this.getCastleFENString(w.WHITE)+this.getCastleFENString(w.BLACK);i||(i="-"),e+=" "+i,e+=" "+this.getEnPassantFENString(),e+=" 0",e+=" "+this.fullMoveCount,this.fen=e}isXYInPointSelection(e,t){return!1}reversePoint(e){e&&(e.row=Math.abs(e.row-7),e.col=Math.abs(e.col-7))}getPieceByPoint(e,t){return e=Math.floor(e),t=Math.floor(t),this.pieces.find(r=>r.point.col===t&&r.point.row===e)}checkIfPawnTakesEnPassant(e){e.isEqual(this.enPassantPoint)&&(this.pieces=this.pieces.filter(t=>t!==this.enPassantPiece),this.enPassantPoint=null,this.enPassantPiece=null)}checkIfPawnEnpassanted(e,t){Math.abs(e.point.row-t.row)>1?(this.enPassantPiece=e,this.enPassantPoint=new H((e.point.row+t.row)/2,e.point.col)):(this.enPassantPoint=null,this.enPassantPiece=null)}isKingChecked(e){if(e instanceof Ut)return e.color===w.WHITE?this.whiteKingChecked:this.blackKingChecked}getCurrentPlayerColor(){return this.currentWhitePlayer?w.WHITE:w.BLACK}}let P0=(()=>{class n{constructor(){this.componentMethodCallSource=new J,this.componentMethodCalled$=this.componentMethodCallSource.asObservable()}reset(){this.componentMethodCallSource.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UV=(()=>{class n{constructor(){this.color="white",this.opened=!1}open(t){this.opened=!0,this.onCloseCallback=t,this.modal.nativeElement.style.display="block"}changeSelection(t){this.modal.nativeElement.style.display="none",this.opened=!1,this.onCloseCallback(t)}getPieceIcon(t){let r="";switch(t.toLowerCase()){case"queen":r="white"===this.color?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;break;case"rook":r="white"===this.color?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;break;case"bishop":r="white"===this.color?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;break;case"knight":r="white"===this.color?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl}return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ps({type:n,selectors:[["app-piece-promotion-modal"]],viewQuery:function(t,r){if(1&t&&Hh(nV,5),2&t){let i;Zs(i=Ys())&&(r.modal=i.first)}},inputs:{pieceIconInput:"pieceIconInput",color:"color"},decls:6,vars:2,consts:[[1,"container"],["myModal",""],[1,"wrapper"],[1,"content"],["class","piece-wrapper",4,"ngIf"],[1,"piece-wrapper"],[1,"piece",3,"click"],["alt","Queen",3,"src"],["alt","Rook",3,"src"],["alt","Bishop",3,"src"],["alt","Knight",3,"src"]],template:function(t,r){1&t&&(ct(0,"div",0,1)(2,"div",2)(3,"div",3),nr(4,rV,9,4,"div",4),nr(5,iV,9,0,"div",4),dt()()()),2&t&&(xe(4),Bt("ngIf",r.pieceIconInput),xe(1),Bt("ngIf",!r.pieceIconInput))},directives:[Lm],styles:[".container[_ngcontent-%COMP%]{display:none;position:absolute;z-index:9999;top:0;color:#000;width:100%;height:100%;overflow:auto;background-color:#0006}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;position:relative;top:30%;font-size:100%;height:40%;padding:10px;border:1px solid #888;width:90%}.piece[_ngcontent-%COMP%]{font-size:5rem;height:100%;width:25%;cursor:pointer;display:inline-block;text-align:center}.piece[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.piece[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:5px}.piece-wrapper[_ngcontent-%COMP%]{height:80%;width:100%}#close-button[_ngcontent-%COMP%]{border-radius:4px;background-color:#4caf50;border:none;color:#fff;padding-left:5px;padding-right:5px;text-align:center;text-decoration:none;display:inline-block}.selected[_ngcontent-%COMP%]{border:2px solid #00B919;border-radius:4px;box-sizing:border-box}"]}),n})(),$V=(()=>{class n{constructor(t){this.ngxChessBoardService=t,this.darkTileColor=Oo.DEFAULT_DARK_TILE_COLOR,this.lightTileColor=Oo.DEFAULT_LIGHT_TILE_COLOR,this.showCoords=!0,this.sourcePointColor=Oo.DEFAULT_SOURCE_POINT_COLOR,this.destinationPointColor=Oo.DEFAULT_DESTINATION_POINT_COLOR,this.legalMovesPointColor=Oo.DEFAULT_LEGAL_MOVE_POINT_COLOR,this.showLastMove=!0,this.showLegalMoves=!0,this.showActivePiece=!0,this.showPossibleCaptures=!0,this.moveChange=new Nt,this.checkmate=new Nt,this.stalemate=new Nt,this.selected=!1,this.isDragging=!1,this.startTransition="",this.engineFacade=new HV(new jV,this.moveChange)}set size(t){this.engineFacade.heightAndWidth=t&&t>=Oo.MIN_BOARD_SIZE&&t<=Oo.MAX_BOARD_SIZE?t:Oo.DEFAULT_SIZE,this.engineFacade.drawProvider.clear(),this.calculatePieceSize()}set freeMode(t){this.engineFacade.freeMode=t}set dragDisabled(t){this.engineFacade.dragDisabled=t}set drawDisabled(t){this.engineFacade.drawDisabled=t}set pieceIcons(t){this.engineFacade.pieceIconManager.pieceIconInput=t}set lightDisabled(t){this.engineFacade.lightDisabled=t}set darkDisabled(t){this.engineFacade.darkDisabled=t}onRightClick(t){t.preventDefault()}ngOnChanges(t){(t.lightDisabled&&this.lightDisabled&&this.engineFacade.board.currentWhitePlayer||t.darkDisabled&&this.darkDisabled&&!this.engineFacade.board.currentWhitePlayer)&&(this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[])}ngOnInit(){this.ngxChessBoardService.componentMethodCalled$.subscribe(()=>{this.engineFacade.reset()})}ngAfterViewInit(){this.engineFacade.modal=this.modal,this.calculatePieceSize()}onMouseUp(t){this.engineFacade.onMouseUp(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}reverse(){this.selected=!1,this.engineFacade.board.reverse(),this.engineFacade.coords.reverse()}updateBoard(t){this.engineFacade.board=t,this.boardLoader.setEngineFacade(this.engineFacade),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[]}setFEN(t){try{this.engineFacade.boardLoader.setNotationProcessor(S0.getProcessor(Pl.FEN)),this.engineFacade.boardLoader.loadFEN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){this.engineFacade.boardLoader.addPieces()}}setPGN(t){try{this.engineFacade.pgnProcessor.reset(),this.engineFacade.boardLoader.setNotationProcessor(S0.getProcessor(Pl.PGN)),this.engineFacade.boardLoader.loadPGN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){console.log(r),this.engineFacade.boardLoader.addPieces()}}getFEN(){return this.engineFacade.board.fen}dragEnded(t){this.isDragging=!1,this.engineFacade.dragEndStrategy.process(t,this.engineFacade.moveDone,this.startTransition)}dragStart(t){this.isDragging=!0;let r=t.source.getRootElement().style.transform.split(") ");this.startTransition=2===r.length?r[1]:r[0],this.engineFacade.dragStartStrategy.process(t)}onMouseDown(t){this.engineFacade.onMouseDown(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}getClickPoint(t){return A0.getClickPoint(t,this.boardRef.nativeElement.getBoundingClientRect().top,this.boardRef.nativeElement.getBoundingClientRect().height,this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().width)}calculatePieceSize(){this.pieceSize=this.engineFacade.heightAndWidth/8}getCustomPieceIcons(t){return JSON.parse(`{ "background-image": "url('${this.engineFacade.pieceIconManager.getPieceIcon(t)}')"}`)}move(t){this.engineFacade.move(t)}getMoveHistory(){return this.engineFacade.getMoveHistory()}reset(){this.engineFacade.reset()}undo(){this.engineFacade.undo()}addPiece(t,r,i){this.engineFacade.addPiece(t,r,i)}getPGN(){return this.engineFacade.pgnProcessor.getPGN()}dragMoved(t){let r=t.pointerPosition.x-t.source.getRootElement().parentElement.getBoundingClientRect().left-this.pieceSize/2,i=t.pointerPosition.y-t.source.getRootElement().parentElement.getBoundingClientRect().top-this.pieceSize/2;t.source.getRootElement().style.transform="translate3d("+r+"px, "+i+"px,0px)"}getTileBackgroundColor(t,r){let i=(t+r)%2==0?this.lightTileColor:this.darkTileColor;return this.showLastMove&&(this.engineFacade.board.isXYInSourceMove(t,r)&&(i=this.sourcePointColor),this.engineFacade.board.isXYInDestMove(t,r)&&(i=this.destinationPointColor)),i}}return n.\u0275fac=function(t){return new(t||n)(se(P0))},n.\u0275cmp=Ps({type:n,selectors:[["ngx-chess-board"]],viewQuery:function(t,r){if(1&t&&(Hh(sV,5),Hh(oV,5)),2&t){let i;Zs(i=Ys())&&(r.boardRef=i.first),Zs(i=Ys())&&(r.modal=i.first)}},hostBindings:function(t,r){1&t&&Rt("contextmenu",function(s){return r.onRightClick(s)})},inputs:{darkTileColor:"darkTileColor",lightTileColor:"lightTileColor",showCoords:"showCoords",sourcePointColor:"sourcePointColor",destinationPointColor:"destinationPointColor",legalMovesPointColor:"legalMovesPointColor",showLastMove:"showLastMove",showLegalMoves:"showLegalMoves",showActivePiece:"showActivePiece",showPossibleCaptures:"showPossibleCaptures",size:"size",freeMode:"freeMode",dragDisabled:"dragDisabled",drawDisabled:"drawDisabled",pieceIcons:"pieceIcons",lightDisabled:"lightDisabled",darkDisabled:"darkDisabled"},outputs:{moveChange:"moveChange",checkmate:"checkmate",stalemate:"stalemate"},features:[Un],decls:13,vars:18,consts:[["id","board",3,"pointerdown","pointerup"],["boardRef",""],["id","drag"],["class","single-piece","cdkDrag","",3,"cdkDragDisabled","innerHTML","ngStyle","transform","max-height","font-size","width","height","cdkDragEnded","cdkDragMoved","cdkDragStarted",4,"ngFor","ngForOf"],["class","board-row",4,"ngFor","ngForOf"],[2,"position","absolute","top","0","pointer-events","none"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngFor","ngForOf"],["fill-opacity","0.0","stroke-width","2",4,"ngFor","ngForOf"],[3,"pieceIconInput","color"],["modal",""],["cdkDrag","",1,"single-piece",3,"cdkDragDisabled","innerHTML","ngStyle","cdkDragEnded","cdkDragMoved","cdkDragStarted"],[1,"board-row"],["class","board-col",3,"current-selection","king-check","point-circle","possible-capture","possible-point","background-color",4,"ngFor","ngForOf"],[1,"board-col"],["class","yCoord",3,"color","font-size",4,"ngIf"],["class","xCoord",3,"color","font-size",4,"ngIf"],["style","height:100%; width:100%",4,"ngIf"],[1,"yCoord"],[1,"xCoord"],[2,"height","100%","width","100%"],[3,"ngClass"],["markerHeight","13","markerWidth","13","orient","auto","refX","9","refY","6",3,"id"],["d","M2,2 L2,11 L10,6 L2,2"],[1,"arrow"],["fill-opacity","0.0","stroke-width","2"]],template:function(t,r){if(1&t){const i=wo();ct(0,"div",0,1),Rt("pointerdown",function(o){return an(i),!om(12).opened&&r.onMouseDown(o)})("pointerup",function(o){return an(i),!om(12).opened&&r.onMouseUp(o)}),ct(2,"div",2),nr(3,aV,1,13,"div",3),nr(4,hV,2,1,"div",4),dt(),$a(),ct(5,"svg",5),nr(6,fV,3,3,"defs",6),nr(7,pV,1,6,"line",7),mm(8,"async"),nr(9,gV,1,4,"circle",8),mm(10,"async"),dt(),function iu(){!function _o(){ze.lFrame.currentNamespace=null}()}(),Ar(11,"app-piece-promotion-modal",9,10),dt()}2&t&&(Do("height",r.engineFacade.heightAndWidth,"px")("width",r.engineFacade.heightAndWidth,"px"),xe(3),Bt("ngForOf",r.engineFacade.board.pieces),xe(1),Bt("ngForOf",r.engineFacade.board.board),xe(1),wi("height",r.engineFacade.heightAndWidth)("width",r.engineFacade.heightAndWidth),xe(1),Bt("ngForOf",function mS(n,e,t){const r=hr()+n,i=ce();return i[r]===Je?zs(i,r,t?e.call(t):e()):function Ph(n,e){return n[e]}(i,r)}(17,mV)),xe(1),Bt("ngForOf",_m(8,13,r.engineFacade.drawProvider.arrows$)),xe(2),Bt("ngForOf",_m(10,15,r.engineFacade.drawProvider.circles$)),xe(2),Bt("pieceIconInput",r.engineFacade.pieceIconManager.pieceIconInput)("color",r.engineFacade.board.getCurrentPlayerColor()?"white":"black"))},directives:[UV,Nm,J2,NA,Lm,OA],pipes:[LA],styles:['@charset "UTF-8";#board[_ngcontent-%COMP%]{font-family:Courier New,serif;position:relative}.board-row[_ngcontent-%COMP%]{display:block;width:100%;height:12.5%;position:relative}.board-col[_ngcontent-%COMP%]{position:relative;display:inline-block;width:12.5%;vertical-align:top;cursor:default;height:100%}.piece[_ngcontent-%COMP%]{height:100%;cursor:-webkit-grab;cursor:grab;width:100%;-moz-user-select:none;user-select:none;-webkit-user-select:none;background-size:cover;justify-content:center;text-align:center;color:#000!important;box-sizing:border-box}.piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}#drag[_ngcontent-%COMP%]{height:100%;width:100%}.possible-point[_ngcontent-%COMP%]{background:radial-gradient(#13262F 15%,transparent 20%)}.possible-point[_ngcontent-%COMP%]:hover, .possible-capture[_ngcontent-%COMP%]:hover{opacity:.4}.possible-capture[_ngcontent-%COMP%]{background:radial-gradient(transparent 0%,transparent 80%,#13262F 80%);opacity:.5;box-sizing:border-box;margin:0;padding:0}.king-check[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,red 0%,#e70000 25%,rgba(169,0,0,0) 89%,rgba(158,0,0,0) 100%)}.current-selection[_ngcontent-%COMP%]{background-color:#72620b!important}.yCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;right:.2em;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.xCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;left:.2em;bottom:0;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.hovering[_ngcontent-%COMP%]{background-color:red!important}.arrow[_ngcontent-%COMP%]{stroke-width:2}svg[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0px #111) drop-shadow(-1px 1px 0px #111) drop-shadow(1px -1px 0px #111) drop-shadow(-1px -1px 0px #111)}[_nghost-%COMP%]{display:inline-block!important}.single-piece[_ngcontent-%COMP%]{position:absolute;z-index:999;justify-content:center;text-align:center;-moz-user-select:none;user-select:none;-webkit-user-select:none;color:#000!important;cursor:-webkit-grab;cursor:grab;background-size:cover}.single-piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .2s cubic-bezier(0,.3,.14,.49)}']}),n})(),WV=(()=>{class n{static forRoot(){return{ngModule:n,providers:[P0]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({imports:[[HA,eV]]}),n})();function KV(n,e){if(1&n&&(ct(0,"h3"),hn(1),dt()),2&n){const t=e.$implicit;xe(1),kb(" ",t.key,"=",t.value," ")}}let GV=(()=>{class n{constructor(){this.selectedMove=new Nt}ngOnInit(){}makeMove(){this.selectedMove.emit(this.moveEvaluation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ps({type:n,selectors:[["app-chess-move"]],inputs:{moveEvaluation:"moveEvaluation"},outputs:{selectedMove:"selectedMove"},decls:11,vars:6,consts:[[1,"move",3,"click"],[1,"details"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(ct(0,"div",0),Rt("click",function(){return r.makeMove()}),ct(1,"p"),hn(2),dt(),ct(3,"p"),hn(4),dt(),Ar(5,"br"),ct(6,"div",1)(7,"h3"),hn(8),nr(9,KV,2,2,"h3",2),mm(10,"keyvalue"),dt()()()),2&t&&(xe(2),um(r.moveEvaluation.move.san),xe(2),um(r.moveEvaluation.score),xe(4),vl(" Check=",r.moveEvaluation.check," "),xe(1),Bt("ngForOf",_m(10,4,r.moveEvaluation.scoreList)))},directives:[Nm],pipes:[BA],styles:[".move[_ngcontent-%COMP%]{min-width:30px;border:solid 1px;text-align:center;margin-right:2px}.move[_ngcontent-%COMP%]:hover{background-color:#7fffd4}h3[_ngcontent-%COMP%]{font-size:12px}.details[_ngcontent-%COMP%]{display:none}.move[_ngcontent-%COMP%]:hover > .details[_ngcontent-%COMP%]{display:block}"]}),n})();const Pr=new Ve("NgValidators"),Da=new Ve("NgAsyncValidators");function c1(n){return null!=n}function d1(n){const e=Th(n)?In(n):n;return Rb(e),e}function h1(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function f1(n,e){return e.map(t=>t(n))}function p1(n){return n.map(e=>function JV(n){return!n.validate}(e)?e:t=>e.validate(t))}function M0(n){return null!=n?function g1(n){if(!n)return null;const e=n.filter(c1);return 0==e.length?null:function(t){return h1(f1(t,e))}}(p1(n)):null}function I0(n){return null!=n?function m1(n){if(!n)return null;const e=n.filter(c1);return 0==e.length?null:function(t){return function zV(...n){const e=Tc(n),{args:t,keys:r}=nP(n),i=new R(s=>{const{length:o}=t;if(!o)return void s.complete();const l=new Array(o);let c=o,h=o;for(let f=0;f<o;f++){let g=!1;Wr(t[f]).subscribe(de(s,v=>{g||(g=!0,h--),l[f]=v},()=>c--,void 0,()=>{(!c||!g)&&(h||s.next(r?iP(r,l):l),s.complete())}))}});return e?i.pipe(rP(e)):i}(f1(t,e).map(d1)).pipe(ve(h1))}}(p1(n)):null}function _1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function R0(n){return n?Array.isArray(n)?n:[n]:[]}function m_(n,e){return Array.isArray(n)?n.includes(e):n===e}function b1(n,e){const t=R0(e);return R0(n).forEach(i=>{m_(t,i)||t.push(i)}),t}function C1(n,e){return R0(e).filter(t=>!m_(n,t))}class Ur extends class E1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=I0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}{get formDirective(){return null}get path(){return null}}let D1=(()=>{class n extends class w1{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(se(Ur,10))},n.\u0275dir=Ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&_l("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Zt]}),n})();function b_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function F0(n,e){const t=function v1(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(_1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function y1(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(_1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();b_(e._rawValidators,i),b_(e._rawAsyncValidators,i)}function A1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function L0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const mf="VALID",E_="INVALID",mc="PENDING",_f="DISABLED";function V0(n){return(w_(n)?n.validators:n)||null}function I1(n){return Array.isArray(n)?M0(n):n||null}function H0(n,e){return(w_(e)?e.asyncValidators:n)||null}function R1(n){return Array.isArray(n)?I0(n):n||null}function w_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const j0=n=>n instanceof $0;function x1(n){return(n=>n instanceof N1)(n)?n.value:n.getRawValue()}function F1(n,e){const t=j0(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new Se(1e3,"");if(!r[e])throw new Se(1001,"")}function k1(n,e){j0(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new Se(1002,"")})}class U0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=I1(this._rawValidators),this._composedAsyncValidatorFn=R1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mf}get invalid(){return this.status===E_}get pending(){return this.status==mc}get disabled(){return this.status===_f}get enabled(){return this.status!==_f}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=I1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=R1(e)}addValidators(e){this.setValidators(b1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(b1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(C1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(C1(e,this._rawAsyncValidators))}hasValidator(e){return m_(this._rawValidators,e)}hasAsyncValidator(e){return m_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_f,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mf||this.status===mc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_f:mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mc,this._hasOwnPendingAsyncValidator=!0;const t=d1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function pH(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=j0(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof mH)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Nt,this.statusChanges=new Nt}_calculateStatus(){return this._allControlsDisabled()?_f:this.errors?E_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mc)?mc:this._anyControlsHaveStatus(E_)?E_:mf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){w_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class N1 extends U0{constructor(e=null,t,r){super(V0(t),H0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),w_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){L0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){L0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $0 extends U0{constructor(e,t,r){super(V0(t),H0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){k1(this,e),Object.keys(e).forEach(r=>{F1(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=x1(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class mH extends U0{constructor(e,t,r){super(V0(t),H0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){k1(this,e),e.forEach((r,i)=>{F1(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>x1(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const _H={provide:Ur,useExisting:Gt(()=>D_)},vf=(()=>Promise.resolve(null))();let D_=(()=>{class n extends Ur{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Nt,this.form=new $0({},M0(t),I0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vf.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),function gf(n,e){F0(n,e),e.valueAccessor.writeValue(n.value),function lH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&A1(n,e)})}(n,e),function cH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&A1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function aH(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vf.then(()=>{const r=this._findContainer(t.path),i=new $0({});(function P1(n,e){F0(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){vf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function M1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(se(Pr,10),se(Da,10))},n.\u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Rt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dn([_H]),Zt]}),n})(),j1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),$1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({}),n})(),WH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({imports:[[$1]]}),n})(),KH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({imports:[WH]}),n})();const GH=["board"];function zH(n,e){if(1&n){const t=wo();ct(0,"div")(1,"app-chess-move",5),Rt("selectedMove",function(i){return an(t),xt(2).makeMove(i)}),dt()()}if(2&n){const t=e.$implicit;xe(1),Bt("moveEvaluation",t)}}function qH(n,e){if(1&n){const t=wo();ct(0,"div")(1,"app-chess-move",5),Rt("selectedMove",function(i){return an(t),xt(2).makeMove(i)}),dt()()}if(2&n){const t=e.$implicit;xe(1),Bt("moveEvaluation",t)}}function QH(n,e){if(1&n){const t=wo();ct(0,"div")(1,"h3"),hn(2),dt(),ct(3,"button",2),Rt("click",function(){return an(t),xt().copyPgn()}),hn(4,"Kopiuj"),dt(),ct(5,"div",3)(6,"h3"),hn(7,"Wszystkie:"),dt(),nr(8,zH,2,1,"div",4),dt(),ct(9,"div",3)(10,"h3"),hn(11,"Kandydaci:"),dt(),nr(12,qH,2,1,"div",4),dt(),ct(13,"div",3)(14,"h3"),hn(15,"Wybrany:"),dt(),ct(16,"app-chess-move",5),Rt("selectedMove",function(i){return an(t),xt().makeMove(i)}),dt()(),ct(17,"form")(18,"button",2),Rt("click",function(){return an(t),xt().moveBack()}),hn(19,"Cofnij"),dt()(),Ar(20,"br"),ct(21,"p"),hn(22,"Ranodm Game"),dt(),ct(23,"form")(24,"button",2),Rt("click",function(){return an(t),xt().startRandomGame()}),hn(25,"New game"),dt(),Ar(26,"br"),ct(27,"button",6),Rt("click",function(){return an(t),xt().stopRandomGame()}),hn(28,"Stop"),dt(),ct(29,"button",6),Rt("click",function(){return an(t),xt().resumeRandomGame()}),hn(30,"Resume"),dt()(),ct(31,"div",7)(32,"ngx-chess-board",8,9),Rt("moveChange",function(i){return an(t),xt().moveCallback(i)}),dt()()()}if(2&n){const t=xt();xe(2),vl("PGN: ",t.pgn,""),xe(6),Bt("ngForOf",t.allMoves),xe(4),Bt("ngForOf",t.candidates),xe(4),Bt("moveEvaluation",t.bestMove),xe(11),Bt("disabled",!t.isRandomGame),xe(2),Bt("disabled",t.isRandomGame),xe(3),Bt("size",400)}}function ZH(n,e){if(1&n){const t=wo();ct(0,"li"),hn(1),ct(2,"button",2),Rt("click",function(){const s=an(t).$implicit;return xt(2).challenge(s.id)}),hn(3,"challenge"),dt()()}if(2&n){const t=e.$implicit,r=e.index;_l("user-bot","marcinlebot"===t.id),xe(1),Nb(" ",r," / ",t.id," - ",t.perfs.bullet.rating," ")}}function YH(n,e){if(1&n&&(ct(0,"div"),hn(1," Bot mode. "),dt(),nr(2,ZH,4,5,"li",10)),2&n){const t=xt();xe(2),Bt("ngForOf",t.onlineBots)}}let XH=(()=>{class n{constructor(t,r){this.cdRef=t,this.ngxChessBoardService=r,this.chess=new kB.qQ,this.scoreList=[],this.minScoreList=[],this.MAX_DEPTH=200,this.scoreMap=new Map,this.currentDepth=1,this.evaluationScore=0,this.castel=new NB(this.chess),this.material=new KB(this.chess),this.fen="",this.pgn="",this.allMoves=[],this.candidates=[],this.bestMove=new h0(this.chess.moves({verbose:!0})[0]),this.newMove="",this.isRandomGame=!1,this.isBotMode=!1,this.lichessApi=new UB,this.SQUARES=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"]}ngAfterViewInit(){this.createScoreList(),this.board.reset(),this.loadFEN("r3r1k1/p3nppp/8/5bN1/5P2/2p5/P3P1PP/3KRB1R w - - 0 21"),this.game()}createScoreList(){this.scoreList.push(new LB(this.chess)),this.scoreList.push(new BB(this.chess)),this.scoreList.push(new hT(this.chess)),this.scoreList.push(new fT(this.chess)),this.scoreList.push(new VB(this.chess)),this.scoreList.push(new zB(this.chess,this.material)),this.scoreList.push(new qB(this.chess,this.material,this.SQUARES)),this.minScoreList.push(new hT(this.chess)),this.minScoreList.push(new fT(this.chess))}startRandomGame(){this.board.reset(),this.chess.reset(),setTimeout(()=>{this.randomGame()},3e3)}randomGame(){this.isRandomGame=!0,this.chess.isGameOver()||this.makeMove(this.bestMove)}game(t){var r=this;if(this.fen=this.chess.fen(),this.chess.isGameOver())return new h0(this.chess.moves({verbose:!0})[0]);this.allMoves=this.getAllMoves();let i=this.getInitialScore(),s=[];return this.currentDepth=1,this.evaluationScore=this.material.score(),this.allMoves.forEach(function(o){r.evaluate(o,t),"w"===r.chess.turn()&&o.score>i||"b"===r.chess.turn()&&o.score<i?(i=o.score,s=[],s.push(o)):o.score==i&&s.push(o)}),this.candidates=s,this.bestMove=s[Math.floor(Math.random()*s.length)],this.cdRef.detectChanges(),this.bestMove}getInitialScore(){return"w"===this.chess.turn()?-1e6:1e6}getAllMoves(){let t=[];return this.chess.moves({verbose:!0}).forEach(r=>{t.push(new h0(r))}),t}evaluate(t,r){let i=this.scoreForMyMove(t.move,this.evaluationScore,!0);this.chess.move(t.move),this.chess.isCheckmate()?"b"===this.chess.turn()?i+=1e3:i-=1e3:this.isGameDrawn()?i=0:(this.chess.isCheck()?(t.check=.1,"b"===this.chess.turn()?i+=.1:i-=.1):i+=.01*this.scoreAttackOnKingRing(),r&&r<15e3?this.minScoreList.forEach(s=>{let o=s.score();t.scoreList.set(s.description(),o),i+=o}):(this.material.refreshPeacesPosition(),this.scoreList.forEach(s=>{let o=s.score();t.scoreList.set(s.description(),o),i+=o}),i+=this.castel.evaluateCastel(t),i+=this.evaluateCapture(i,t.move))),t.score=Math.round(100*i)/100,this.chess.undo()}evaluateCapture(t,r){let i=t;return r.captured&&("b"===this.chess.turn()?i>=5?i+=.5:i>=2?"p"!=r.piece||this.material.whiteCount.pawns>2?i+=.5:i-=.5:i<=-2&&("p"==r.piece?i+=.5:i-=.5):i<=-5?i-=.5:i<=-2?"p"!=r.piece||this.material.blackCount.pawns>2?i-=.5:i+=.5:i>=2&&("p"==r.piece?i-=.5:i+=.5)),i}scoreForOponentMove(t,r){let i=r;if(t.captured&&("w"===this.chess.turn()?i+=this.material.evaluatePieceMaterial(t.captured):i-=this.material.evaluatePieceMaterial(t.captured)),t.promotion){let o=this.material.evaluatePieceMaterial(t.promotion)-1;"w"===this.chess.turn()?i+=o:i-=o}let s=i;return this.currentDepth<this.MAX_DEPTH&&(this.currentDepth++,this.chess.move(t),this.chess.moves({verbose:!0}).forEach(o=>{if(o.captured&&o.to===t.to){let l=this.scoreForMyMove(o,i,!1);(l>s&&"w"===this.chess.turn()||l<s&&"b"===this.chess.turn())&&(s=l)}}),this.chess.undo(),this.currentDepth--),this.scoreMap.set(this.chess.fen(),s),s}scoreForMyMove(t,r,i){let s=r;if(t.captured&&("w"===this.chess.turn()?s+=this.material.evaluatePieceMaterial(t.captured):s-=this.material.evaluatePieceMaterial(t.captured)),t.promotion){let l=this.material.evaluatePieceMaterial(t.promotion)-1;"w"===this.chess.turn()?s+=l:s-=l}let o=s;return this.chess.move(t),this.chess.moves({verbose:!0}).forEach(l=>{if(this.isOponentNextMoveCheckmate(l))o="b"===this.chess.turn()?-1e3:1e3;else if(l.promotion||l.captured&&(i||l.to===t.to)){let c=this.scoreForOponentMove(l,s);(c<o&&"b"===this.chess.turn()||c>o&&"w"===this.chess.turn())&&(o=c)}}),this.chess.undo(),this.scoreMap.set(this.chess.fen(),o),o}isOponentNextMoveCheckmate(t){return this.chess.move(t),this.chess.isCheckmate()?(this.chess.undo(),!0):(this.chess.undo(),!1)}makeMove(t){this.chess.move(t.move);let r=this.getBoardMove(t);this.board.move(r),this.refresh()}getBoardMove(t){let r=t.move.from+t.move.to;if(t.move.promotion)switch(t.move.promotion){case"q":r+="1";break;case"r":r+="2";break;case"b":r+="3";break;case"n":r+="4"}return r}moveBack(){this.chess.undo(),this.board.undo(),this.refresh()}refresh(){setTimeout(()=>{this.game(),this.pgn=this.chess.pgn(),this.isGameDrawn()&&(this.pgn+=" 1/2"),this.newMove="",this.isRandomGame&&this.randomGame()},500)}copyPgn(){document.addEventListener("copy",t=>{var r;null===(r=t.clipboardData)||void 0===r||r.setData("text/plain",this.pgn),t.preventDefault()}),document.execCommand("copy")}moveCallback(t){if(this.chess.turn()===t.color[0]){let r=this.getChessEngineMove(t.move);this.chess.move(r),this.refresh()}}getChessEngineMove(t){let r=t.substring(0,4);if(5===t.length)switch(t[4]){case"1":r+="q";break;case"2":r+="r";break;case"3":r+="b";break;case"4":r+="n"}return r}loadFEN(t){this.chess.load(t),this.board.setFEN(t)}startBot(){this.isBotMode=!0,new WB(this.lichessApi,this.getReply,this.botMove.bind(this)).start(),this.lichessApi.getOnlineBots().then(r=>{this.onlineBots=r.data.trim().split("\n").map(JSON.parse),this.onlineBots.sort((i,s)=>i.perfs.bullet.rating>s.perfs.bullet.rating?1:-1)}),this.cdRef.detectChanges()}botMove(t,r){this.chess.reset(),t.forEach(s=>this.chess.move(s));let i=this.game(r);return i.move.from+i.move.to+("p"===i.move.flags?i.move.piece:"")}getReply(){return"hi"}stopRandomGame(){this.isRandomGame=!1}resumeRandomGame(){this.isRandomGame=!0,this.refresh()}isGameDrawn(){return this.chess.isDraw()||this.chess.isStalemate()||this.chess.isThreefoldRepetition()}challenge(t){this.lichessApi.challenge(t)}testBot(){new GB(this.chess.load.bind(this.chess),this.game.bind(this)).test()}scoreAttackOnKingRing(){let t=0,r=this.getKingRing(this.material.whiteKingPosition);return this.getKingRing(this.material.blackKingPosition).forEach(s=>{this.chess.isAttacked(s,"w")&&t++}),r.forEach(s=>{this.chess.isAttacked(s,"b")&&t--}),t}getKingRing(t){let r=[],i=t.x,s=t.y;for(let o=i-1;o<=i+1;o++)if(!(o<0||o>7))for(let l=s-1;l<=s+1;l++)l<0||l>7||r.push(this.SQUARES[8*l+o]);return r}}return n.\u0275fac=function(t){return new(t||n)(se(sc),se(P0))},n.\u0275cmp=Ps({type:n,selectors:[["app-engine"]],viewQuery:function(t,r){if(1&t&&Hh(GH,5),2&t){let i;Zs(i=Ys())&&(r.board=i.first)}},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["botMode",""],["type","button",1,"btn","btn-success",3,"click"],[1,"moves-list"],[4,"ngFor","ngForOf"],[3,"moveEvaluation","selectedMove"],["type","button",1,"btn","btn-success",3,"disabled","click"],[2,"width","400px","margin-left","auto","margin-right","auto","padding-bottom","100px","max-width","100%"],[3,"size","moveChange"],["board",""],[3,"user-bot",4,"ngFor","ngForOf"]],template:function(t,r){if(1&t&&(nr(0,QH,34,7,"div",0),nr(1,YH,3,1,"ng-template",null,1,IS)),2&t){const i=om(2);Bt("ngIf",!r.isBotMode)("ngIfElse",i)}},directives:[Lm,Nm,GV,j1,D1,D_,$V],styles:[".move[_ngcontent-%COMP%]{min-width:30px;border:solid 1px;text-align:center;margin-right:2px}.move[_ngcontent-%COMP%]:hover{background-color:#7fffd4}.moves-list[_ngcontent-%COMP%]{display:flex}.user-bot[_ngcontent-%COMP%]{color:red}"]}),n})(),JH=(()=>{class n{constructor(){this.title="my-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ps({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&Ar(0,"app-engine")(1,"router-outlet")},directives:[XH,n0],styles:["",'[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']}),n})();class aM{}const Fo="*";function lM(n,e=null){return{type:2,steps:n,options:e}}function uM(n){return{type:6,styles:n,offset:null}}function cM(n){Promise.resolve(null).then(n)}class yf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){cM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?cM(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const It=!1;function hM(n){return new Se(3e3,It)}function Fj(){return"undefined"!=typeof window&&void 0!==window.document}function Y0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Aa(n){switch(n.length){case 0:return new yf;case 1:return n[0];default:return new dM(n)}}function fM(n,e,t,r,i={},s={}){const o=[],l=[];let c=-1,h=null;if(r.forEach(f=>{const g=f.offset,v=g==c,C=v&&h||{};Object.keys(f).forEach(P=>{let j=P,Q=f[P];if("offset"!==P)switch(j=e.normalizePropertyName(j,o),Q){case"!":Q=i[P];break;case Fo:Q=s[P];break;default:Q=e.normalizeStyleValue(P,j,Q,o)}C[j]=Q}),v||l.push(C),h=C,c=g}),o.length)throw function wj(n){return new Se(3502,It)}();return l}function X0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&J0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&J0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&J0(t,"destroy",n)))}}function J0(n,e,t){const r=t.totalTime,s=eE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function eE(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ai(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function pM(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let tE=(n,e)=>!1,gM=(n,e,t)=>[],mM=null;function nE(n){const e=n.parentNode||n.host;return e===mM?null:e}(Y0()||"undefined"!=typeof Element)&&(Fj()?(mM=(()=>document.documentElement)(),tE=(n,e)=>{for(;e;){if(e===n)return!0;e=nE(e)}return!1}):tE=(n,e)=>n.contains(e),gM=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Il=null,_M=!1;function vM(n){Il||(Il=function Nj(){return"undefined"!=typeof document?document.body:null}()||{},_M=!!Il.style&&"WebkitAppearance"in Il.style);let e=!0;return Il.style&&!function kj(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Il.style,!e&&_M&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Il.style)),e}const yM=tE,bM=gM;let CM=(()=>{class n{validateStyleProperty(t){return vM(t)}matchesElement(t,r){return!1}containsElement(t,r){return yM(t,r)}getParentElement(t){return nE(t)}query(t,r,i){return bM(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,l=[],c){return new yf(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),rE=(()=>{class n{}return n.NOOP=new CM,n})();const iE="ng-enter",A_="ng-leave",P_="ng-trigger",T_=".ng-trigger",wM="ng-animating",sE=".ng-animating";function Rl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:oE(parseFloat(e[1]),e[2])}function oE(n,e){return"s"===e?1e3*n:n}function M_(n,e,t){return n.hasOwnProperty("duration")?n:function Vj(n,e,t){let i,s=0,o="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(hM()),{duration:0,delay:0,easing:""};i=oE(parseFloat(l[1]),l[2]);const c=l[3];null!=c&&(s=oE(parseFloat(c),l[4]));const h=l[5];h&&(o=h)}else i=n;if(!t){let l=!1,c=e.length;i<0&&(e.push(function tj(){return new Se(3100,It)}()),l=!0),s<0&&(e.push(function nj(){return new Se(3101,It)}()),l=!0),l&&e.splice(c,0,hM())}return{duration:i,delay:s,easing:o}}(n,e,t)}function _c(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Pa(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else _c(n,t);return t}function SM(n,e,t){return t?e+":"+t+";":""}function AM(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=SM(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=SM(0,Uj(t),n.style[t]));n.setAttribute("style",e)}function ro(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=lE(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Y0()&&AM(n))}function Ol(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=lE(t);n.style[r]=""}),Y0()&&AM(n))}function bf(n){return Array.isArray(n)?1==n.length?n[0]:lM(n):n}const aE=new RegExp("{{\\s*(.+?)\\s*}}","g");function PM(n){let e=[];if("string"==typeof n){let t;for(;t=aE.exec(n);)e.push(t[1]);aE.lastIndex=0}return e}function I_(n,e,t){const r=n.toString(),i=r.replace(aE,(s,o)=>{let l=e[o];return e.hasOwnProperty(o)||(t.push(function ij(n){return new Se(3003,It)}()),l=""),l.toString()});return i==r?n:i}function R_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const jj=/-+([a-z0-9])/g;function lE(n){return n.replace(jj,(...e)=>e[1].toUpperCase())}function Uj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function sj(n){return new Se(3004,It)}()}}function TM(n,e){return window.getComputedStyle(n)[e]}function qj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Qj(n,e,t){if(":"==n[0]){const c=function Zj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function yj(n){return new Se(3016,It)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function vj(n){return new Se(3015,It)}()),e;const i=r[1],s=r[2],o=r[3];e.push(MM(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(MM(o,i))}(r,t,e)):t.push(n),t}const k_=new Set(["true","1"]),N_=new Set(["false","0"]);function MM(n,e){const t=k_.has(n)||N_.has(n),r=k_.has(e)||N_.has(e);return(i,s)=>{let o="*"==n||n==i,l="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?k_.has(n):N_.has(n)),!l&&r&&"boolean"==typeof s&&(l=s?k_.has(e):N_.has(e)),o&&l}}const Yj=new RegExp("s*:selfs*,?","g");function uE(n,e,t,r){return new Xj(n).build(e,t,r)}class Xj{constructor(e){this._driver=e}build(e,t,r){const i=new tU(t);this._resetContextStyleTimingState(i);const s=Pi(this,bf(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function aj(){return new Se(3006,It)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const c=l,h=c.name;h.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,s.push(this.visitState(c,t))}),c.name=h}else if(1==l.type){const c=this.visitTransition(l,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function lj(){return new Se(3007,It)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(l=>{if(L_(l)){const c=l;Object.keys(c).forEach(h=>{PM(c[h]).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}}),s.size&&(R_(s.values()),t.errors.push(function uj(n,e){return new Se(3008,It)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Pi(this,bf(e.animation),t);return{type:1,matchers:qj(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:xl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Pi(this,r,t)),options:xl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const l=Pi(this,o,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:3,steps:s,options:xl(e.options)}}visitAnimate(e,t){const r=function rU(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return cE(M_(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=cE(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||M_(r,e),cE(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:uM({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,l=!1;if(!o){l=!0;const h={};r.easing&&(h.easing=r.easing),o=uM(h)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=l,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Fo?r.push(o):t.errors.push(function cj(n){return new Se(3002,It)}()):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(L_(o)){const l=o,c=l.easing;if(c&&(s=c,delete l.easing),!i)for(let h in l)if(l[h].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(l=>{if(!this._driver.validateStyleProperty(l))return delete o[l],void t.unsupportedCSSPropertiesFound.add(l);const c=t.collectedStyles[t.currentQuerySelector],h=c[l];let f=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function dj(n,e,t,r,i){return new Se(3010,It)}()),f=!1),s=h.startTime),f&&(c[l]={startTime:s,endTime:i}),t.options&&function Hj(n,e,t){const r=e.params||{},i=PM(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function rj(n){return new Se(3001,It)}())})}(o[l],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hj(){return new Se(3011,It)}()),r;let s=0;const o=[];let l=!1,c=!1,h=0;const f=e.steps.map(ae=>{const $=this._makeStyleAst(ae,t);let be=null!=$.offset?$.offset:function nU(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(L_(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(L_(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}($.styles),ke=0;return null!=be&&(s++,ke=$.offset=be),c=c||ke<0||ke>1,l=l||ke<h,h=ke,o.push(ke),$});c&&t.errors.push(function fj(){return new Se(3012,It)}()),l&&t.errors.push(function pj(){return new Se(3200,It)}());const g=e.steps.length;let v=0;s>0&&s<g?t.errors.push(function gj(){return new Se(3202,It)}()):0==s&&(v=1/(g-1));const C=g-1,P=t.currentTime,j=t.currentAnimateTimings,Q=j.duration;return f.forEach((ae,$)=>{const be=v>0?$==C?1:v*$:o[$],ke=be*Q;t.currentTime=P+j.delay+ke,j.duration=ke,this._validateStyleAst(ae,t),ae.offset=be,r.styles.push(ae)}),r}visitReference(e,t){return{type:8,animation:Pi(this,bf(e.animation),t),options:xl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:xl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:xl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Jj(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Yj,"")),n=n.replace(/@\*/g,T_).replace(/@\w+/g,t=>T_+"-"+t.substr(1)).replace(/:animating/g,sE),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ai(t.collectedStyles,t.currentQuerySelector,{});const l=Pi(this,bf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:l,originalSelector:e.selector,options:xl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function mj(){return new Se(3013,It)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:M_(e.timings,t.errors,!0);return{type:12,animation:Pi(this,bf(e.animation),t),timings:r,options:null}}}class tU{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function L_(n){return!Array.isArray(n)&&"object"==typeof n}function xl(n){return n?(n=_c(n)).params&&(n.params=function eU(n){return n?_c(n):null}(n.params)):n={},n}function cE(n,e,t){return{duration:n,delay:e,easing:t}}function dE(n,e,t,r,i,s,o=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:l}}class B_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const oU=new RegExp(":enter","g"),lU=new RegExp(":leave","g");function hE(n,e,t,r,i,s={},o={},l,c,h=[]){return(new uU).buildKeyframes(n,e,t,r,i,s,o,l,c,h)}class uU{buildKeyframes(e,t,r,i,s,o,l,c,h,f=[]){h=h||new B_;const g=new fE(e,t,h,i,s,f,[]);g.options=c,g.currentTimeline.setStyles([o],null,g.errors,c),Pi(this,r,g);const v=g.timelines.filter(C=>C.containsAnimation());if(Object.keys(l).length){let C;for(let P=v.length-1;P>=0;P--){const j=v[P];if(j.element===t){C=j;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([l],null,g.errors,c)}return v.length?v.map(C=>C.buildKeyframes()):[dE(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Rl(r.duration):null,l=null!=r.delay?Rl(r.delay):null;return 0!==o&&e.forEach(c=>{const h=t.appendInstructionToTimeline(c,o,l);s=Math.max(s,h.duration+h.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Pi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=V_);const o=Rl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Pi(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Rl(e.options.delay):0;e.steps.forEach(o=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),Pi(this,o,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return M_(t.params?I_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,l=t.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(c=>{l.forwardTime((c.offset||0)*s),l.setStyles(c.styles,c.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Rl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=V_);let o=r;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let c=null;l.forEach((h,f)=>{t.currentQueryIndex=f;const g=t.createSubContext(e.options,h);s&&g.delayNextStep(s),h===t.element&&(c=g.currentTimeline),Pi(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=l-c;break;case"full":c=r.currentStaggerTime}const f=t.currentTimeline;c&&f.delayNextStep(c);const g=f.currentTime;Pi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const V_={};class fE{constructor(e,t,r,i,s,o,l,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=V_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new H_(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Rl(r.duration)),null!=r.delay&&(i.delay=Rl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=I_(s[l],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new fE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=V_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new cU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let l=[];if(i&&l.push(this.element),e.length>0){e=(e=e.replace(oU,"."+this._enterClassName)).replace(lU,"."+this._leaveClassName);let h=this._driver.query(this.element,e,1!=r);0!==r&&(h=r<0?h.slice(h.length+r,h.length):h.slice(0,r)),l.push(...h)}return!s&&0==l.length&&o.push(function _j(n){return new Se(3014,It)}()),l}}class H_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new H_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Fo,this._currentKeyframe[t]=Fo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function dU(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Fo})):Pa(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(l=>{const c=I_(o[l],s,r);this._pendingStyles[l]=c,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:Fo),this._updateStyle(l,c)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,c)=>{const h=Pa(l,!0);Object.keys(h).forEach(f=>{const g=h[f];"!"==g?e.add(f):g==Fo&&t.add(f)}),r||(h.offset=c/this.duration),i.push(h)});const s=e.size?R_(e.values()):[],o=t.size?R_(t.values()):[];if(r){const l=i[0],c=_c(l);l.offset=0,c.offset=1,i=[l,c]}return dE(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class cU extends H_{constructor(e,t,r,i,s,o,l=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,l=t/o,c=Pa(e[0],!1);c.offset=0,s.push(c);const h=Pa(e[0],!1);h.offset=OM(l),s.push(h);const f=e.length-1;for(let g=1;g<=f;g++){let v=Pa(e[g],!1);v.offset=OM((t+v.offset*r)/o),s.push(v)}r=o,t=0,i="",e=s}return dE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function OM(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class pE{}class hU extends pE{normalizePropertyName(e,t){return lE(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(fU[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function oj(n,e){return new Se(3005,It)}())}return o+s}}const fU=(()=>function pU(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xM(n,e,t,r,i,s,o,l,c,h,f,g,v){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:l,queriedElements:c,preStyleProps:h,postStyleProps:f,totalTime:g,errors:v}}const gE={};class FM{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function gU(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,l,c,h,f){const g=[],v=this.ast.options&&this.ast.options.params||gE,P=this.buildStyles(r,l&&l.params||gE,g),j=c&&c.params||gE,Q=this.buildStyles(i,j,g),ae=new Set,$=new Map,be=new Map,ke="void"===i,vt={params:Object.assign(Object.assign({},v),j)},fn=f?[]:hE(e,t,this.ast.animation,s,o,P,Q,vt,h,g);let Cn=0;if(fn.forEach(Mi=>{Cn=Math.max(Mi.duration+Mi.delay,Cn)}),g.length)return xM(t,this._triggerName,r,i,ke,P,Q,[],[],$,be,Cn,g);fn.forEach(Mi=>{const Ii=Mi.element,yc=Ai($,Ii,{});Mi.preStyleProps.forEach(Ss=>yc[Ss]=!0);const ko=Ai(be,Ii,{});Mi.postStyleProps.forEach(Ss=>ko[Ss]=!0),Ii!==t&&ae.add(Ii)});const Ti=R_(ae.values());return xM(t,this._triggerName,r,i,ke,P,Q,fn,Ti,$,be,Cn)}}class mU{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=_c(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(l=>{let c=o[l];c.length>1&&(c=I_(c,i,t));const h=this.normalizer.normalizePropertyName(l,t);c=this.normalizer.normalizeStyleValue(l,h,c,t),r[h]=c})}}),r}}class vU{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new mU(i.style,i.options&&i.options.params||{},r)}),kM(this.states,"true","1"),kM(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new FM(e,i,this.states))}),this.fallbackTransition=function yU(n,e,t){return new FM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function kM(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const bU=new B_;class CU{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=uE(this._driver,t,r,[]);if(r.length)throw function Dj(n){return new Se(3503,It)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=fM(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const l=new Map;if(s?(o=hE(this._driver,t,s,iE,A_,{},{},r,bU,i),o.forEach(f=>{const g=Ai(l,f.element,{});f.postStyleProps.forEach(v=>g[v]=null)})):(i.push(function Sj(){return new Se(3300,It)}()),o=[]),i.length)throw function Aj(n){return new Se(3504,It)}();l.forEach((f,g)=>{Object.keys(f).forEach(v=>{f[v]=this._driver.computeStyle(g,v,Fo)})});const h=Aa(o.map(f=>{const g=l.get(f.element);return this._buildPlayer(f,{},g)}));return this._playersById[e]=h,h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Pj(n){return new Se(3301,It)}();return t}listen(e,t,r,i){const s=eE(t,"","","");return X0(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const NM="ng-animate-queued",mE="ng-animate-disabled",AU=[],LM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},PU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ns="__ng_removed";class _E{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function RU(n){return null!=n?n:null}(r?e.value:e),r){const s=_c(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Cf="void",vE=new _E(Cf);class TU{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,rs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function Tj(n,e){return new Se(3302,It)}();if(null==r||0==r.length)throw function Mj(n){return new Se(3303,It)}();if(!function OU(n){return"start"==n||"done"==n}(r))throw function Ij(n,e){return new Se(3400,It)}();const s=Ai(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const l=Ai(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(rs(e,P_),rs(e,P_+"-"+t),l[t]=vE),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Rj(n){return new Se(3401,It)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new yE(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(rs(e,P_),rs(e,P_+"-"+t),this._engine.statesByElement.set(e,l={}));let c=l[t];const h=new _E(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&h.absorbOptions(c.options),l[t]=h,c||(c=vE),h.value!==Cf&&c.value===h.value){if(!function kU(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,h.params)){const j=[],Q=s.matchStyles(c.value,c.params,j),ae=s.matchStyles(h.value,h.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Ol(e,Q),ro(e,ae)})}return}const v=Ai(this._engine.playersByElement,e,[]);v.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let C=s.matchTransition(c.value,h.value,e,h.params),P=!1;if(!C){if(!i)return;C=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:c,toState:h,player:o,isFallbackTransition:P}),P||(rs(e,NM),o.onStart(()=>{vc(e,NM)})),o.onDone(()=>{let j=this.players.indexOf(o);j>=0&&this.players.splice(j,1);const Q=this._engine.playersByElement.get(e);if(Q){let ae=Q.indexOf(o);ae>=0&&Q.splice(ae,1)}}),this.players.push(o),v.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,T_,!0);r.forEach(i=>{if(i[ns])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const l=[];if(Object.keys(s).forEach(c=>{if(o.set(c,s[c].value),this._triggers[c]){const h=this.trigger(e,c,Cf,i);h&&l.push(h)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Aa(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers[o].fallbackTransition,h=r[o]||vE,f=new _E(Cf),g=new yE(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:h,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ns];(!s||s===LM)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){rs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==r.triggerName){const c=eE(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,X0(r.player,l.phase,c,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class MU{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new TU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let l=this.driver.getParentElement(t);for(;l;){const c=i.get(l);if(c){const h=r.indexOf(c);r.splice(h+1,0,e),o=!0;break}l=this.driver.getParentElement(l)}}else for(let l=s;l>=0;l--)if(this.driver.containsElement(r[l].hostElement,t)){r.splice(l+1,0,e),o=!0;break}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const l=this._fetchNamespace(o);l&&t.add(l)}}}return t}trigger(e,t,r,i){if(j_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!j_(t))return;const s=t[ns];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),rs(e,mE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vc(e,mE))}removeNode(e,t,r,i){if(j_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ns]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return j_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,T_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,sE,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Aa(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ns];if(r&&r.setForRemoval){if(e[ns]=LM,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(mE))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)rs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Aa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Oj(n){return new Se(3402,It)}()}_flushAnimations(e,t){const r=new B_,i=[],s=new Map,o=[],l=new Map,c=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(Oe=>{f.add(Oe);const We=this.driver.query(Oe,".ng-animate-queued",!0);for(let tt=0;tt<We.length;tt++)f.add(We[tt])});const g=this.bodyNode,v=Array.from(this.statesByElement.keys()),C=HM(v,this.collectedEnterElements),P=new Map;let j=0;C.forEach((Oe,We)=>{const tt=iE+j++;P.set(We,tt),Oe.forEach(Lt=>rs(Lt,tt))});const Q=[],ae=new Set,$=new Set;for(let Oe=0;Oe<this.collectedLeaveElements.length;Oe++){const We=this.collectedLeaveElements[Oe],tt=We[ns];tt&&tt.setForRemoval&&(Q.push(We),ae.add(We),tt.hasAnimation?this.driver.query(We,".ng-star-inserted",!0).forEach(Lt=>ae.add(Lt)):$.add(We))}const be=new Map,ke=HM(v,Array.from(ae));ke.forEach((Oe,We)=>{const tt=A_+j++;be.set(We,tt),Oe.forEach(Lt=>rs(Lt,tt))}),e.push(()=>{C.forEach((Oe,We)=>{const tt=P.get(We);Oe.forEach(Lt=>vc(Lt,tt))}),ke.forEach((Oe,We)=>{const tt=be.get(We);Oe.forEach(Lt=>vc(Lt,tt))}),Q.forEach(Oe=>{this.processLeaveNode(Oe)})});const vt=[],fn=[];for(let Oe=this._namespaceList.length-1;Oe>=0;Oe--)this._namespaceList[Oe].drainQueuedTransitions(t).forEach(tt=>{const Lt=tt.player,sr=tt.element;if(vt.push(Lt),this.collectedEnterElements.length){const $r=sr[ns];if($r&&$r.setForMove){if($r.previousTriggersValues&&$r.previousTriggersValues.has(tt.triggerName)){const Fl=$r.previousTriggersValues.get(tt.triggerName),Ma=this.statesByElement.get(tt.element);Ma&&Ma[tt.triggerName]&&(Ma[tt.triggerName].value=Fl)}return void Lt.destroy()}}const io=!g||!this.driver.containsElement(g,sr),Ri=be.get(sr),Ta=P.get(sr),En=this._buildInstruction(tt,r,Ta,Ri,io);if(En.errors&&En.errors.length)return void fn.push(En);if(io)return Lt.onStart(()=>Ol(sr,En.fromStyles)),Lt.onDestroy(()=>ro(sr,En.toStyles)),void i.push(Lt);if(tt.isFallbackTransition)return Lt.onStart(()=>Ol(sr,En.fromStyles)),Lt.onDestroy(()=>ro(sr,En.toStyles)),void i.push(Lt);const ZM=[];En.timelines.forEach($r=>{$r.stretchStartingKeyframe=!0,this.disabledNodes.has($r.element)||ZM.push($r)}),En.timelines=ZM,r.append(sr,En.timelines),o.push({instruction:En,player:Lt,element:sr}),En.queriedElements.forEach($r=>Ai(l,$r,[]).push(Lt)),En.preStyleProps.forEach(($r,Fl)=>{const Ma=Object.keys($r);if(Ma.length){let kl=c.get(Fl);kl||c.set(Fl,kl=new Set),Ma.forEach(CE=>kl.add(CE))}}),En.postStyleProps.forEach(($r,Fl)=>{const Ma=Object.keys($r);let kl=h.get(Fl);kl||h.set(Fl,kl=new Set),Ma.forEach(CE=>kl.add(CE))})});if(fn.length){const Oe=[];fn.forEach(We=>{Oe.push(function xj(n,e){return new Se(3505,It)}())}),vt.forEach(We=>We.destroy()),this.reportError(Oe)}const Cn=new Map,Ti=new Map;o.forEach(Oe=>{const We=Oe.element;r.has(We)&&(Ti.set(We,We),this._beforeAnimationBuild(Oe.player.namespaceId,Oe.instruction,Cn))}),i.forEach(Oe=>{const We=Oe.element;this._getPreviousPlayers(We,!1,Oe.namespaceId,Oe.triggerName,null).forEach(Lt=>{Ai(Cn,We,[]).push(Lt),Lt.destroy()})});const Mi=Q.filter(Oe=>UM(Oe,c,h)),Ii=new Map;VM(Ii,this.driver,$,h,Fo).forEach(Oe=>{UM(Oe,c,h)&&Mi.push(Oe)});const ko=new Map;C.forEach((Oe,We)=>{VM(ko,this.driver,new Set(Oe),c,"!")}),Mi.forEach(Oe=>{const We=Ii.get(Oe),tt=ko.get(Oe);Ii.set(Oe,Object.assign(Object.assign({},We),tt))});const Ss=[],bc=[],Cc={};o.forEach(Oe=>{const{element:We,player:tt,instruction:Lt}=Oe;if(r.has(We)){if(f.has(We))return tt.onDestroy(()=>ro(We,Lt.toStyles)),tt.disabled=!0,tt.overrideTotalTime(Lt.totalTime),void i.push(tt);let sr=Cc;if(Ti.size>1){let Ri=We;const Ta=[];for(;Ri=Ri.parentNode;){const En=Ti.get(Ri);if(En){sr=En;break}Ta.push(Ri)}Ta.forEach(En=>Ti.set(En,sr))}const io=this._buildAnimation(tt.namespaceId,Lt,Cn,s,ko,Ii);if(tt.setRealPlayer(io),sr===Cc)Ss.push(tt);else{const Ri=this.playersByElement.get(sr);Ri&&Ri.length&&(tt.parentPlayer=Aa(Ri)),i.push(tt)}}else Ol(We,Lt.fromStyles),tt.onDestroy(()=>ro(We,Lt.toStyles)),bc.push(tt),f.has(We)&&i.push(tt)}),bc.forEach(Oe=>{const We=s.get(Oe.element);if(We&&We.length){const tt=Aa(We);Oe.setRealPlayer(tt)}}),i.forEach(Oe=>{Oe.parentPlayer?Oe.syncPlayerEvents(Oe.parentPlayer):Oe.destroy()});for(let Oe=0;Oe<Q.length;Oe++){const We=Q[Oe],tt=We[ns];if(vc(We,A_),tt&&tt.hasAnimation)continue;let Lt=[];if(l.size){let io=l.get(We);io&&io.length&&Lt.push(...io);let Ri=this.driver.query(We,sE,!0);for(let Ta=0;Ta<Ri.length;Ta++){let En=l.get(Ri[Ta]);En&&En.length&&Lt.push(...En)}}const sr=Lt.filter(io=>!io.destroyed);sr.length?xU(this,We,sr):this.processLeaveNode(We)}return Q.length=0,Ss.forEach(Oe=>{this.players.push(Oe),Oe.onDone(()=>{Oe.destroy();const We=this.players.indexOf(Oe);this.players.splice(We,1)}),Oe.play()}),Ss}elementContainsData(e,t){let r=!1;const i=t[ns];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(o=l)}else{const l=this.playersByElement.get(e);if(l){const c=!s||s==Cf;l.forEach(h=>{h.queued||!c&&h.triggerName!=i||o.push(h)})}}return(r||i)&&(o=o.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const h=c.element,f=h!==s,g=Ai(r,h,[]);this._getPreviousPlayers(h,f,o,l,t.toState).forEach(C=>{const P=C.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),C.destroy(),g.push(C)})}Ol(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const l=t.triggerName,c=t.element,h=[],f=new Set,g=new Set,v=t.timelines.map(P=>{const j=P.element;f.add(j);const Q=j[ns];if(Q&&Q.removedBeforeQueried)return new yf(P.duration,P.delay);const ae=j!==c,$=function FU(n){const e=[];return jM(n,e),e}((r.get(j)||AU).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===j),be=s.get(j),ke=o.get(j),vt=fM(0,this._normalizer,0,P.keyframes,be,ke),fn=this._buildPlayer(P,vt,$);if(P.subTimeline&&i&&g.add(j),ae){const Cn=new yE(e,l,j);Cn.setRealPlayer(fn),h.push(Cn)}return fn});h.forEach(P=>{Ai(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function IU(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,P.element,P))}),f.forEach(P=>rs(P,wM));const C=Aa(v);return C.onDestroy(()=>{f.forEach(P=>vc(P,wM)),ro(c,t.toStyles)}),g.forEach(P=>{Ai(i,P,[]).push(C)}),C}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new yf(e.duration,e.delay)}}class yE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new yf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>X0(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ai(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function j_(n){return n&&1===n.nodeType}function BM(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function VM(n,e,t,r,i){const s=[];t.forEach(c=>s.push(BM(c)));const o=[];r.forEach((c,h)=>{const f={};c.forEach(g=>{const v=f[g]=e.computeStyle(h,g,i);(!v||0==v.length)&&(h[ns]=PU,o.push(h))}),n.set(h,f)});let l=0;return t.forEach(c=>BM(c,s[l++])),o}function HM(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(l){if(!l)return 1;let c=s.get(l);if(c)return c;const h=l.parentNode;return c=t.has(h)?h:i.has(h)?1:o(h),s.set(l,c),c}return e.forEach(l=>{const c=o(l);1!==c&&t.get(c).push(l)}),t}function rs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function vc(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function xU(n,e,t){Aa(t).onDone(()=>n.processLeaveNode(e))}function jM(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof dM?jM(r.players,e):e.push(r)}}function UM(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class U_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new MU(e,t,r),this._timelineEngine=new CU(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let l=this._triggerCache[o];if(!l){const c=[],f=uE(this._driver,s,c,[]);if(c.length)throw function Ej(n,e){return new Se(3404,It)}();l=function _U(n,e,t){return new vU(n,e,t)}(i,f,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,i,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=pM(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,l]=pM(r);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let LU=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ro(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ro(this._element,this._initialStyles),this._endStyles&&(ro(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ol(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ol(this._element,this._endStyles),this._endStyles=null),ro(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bE(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];BU(i)&&(e=e||{},e[i]=n[i])}return e}function BU(n){return"display"===n||"position"===n}class $M{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:TM(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class VU{validateStyleProperty(e){return vM(e)}matchesElement(e,t){return!1}containsElement(e,t){return yM(e,t)}getParentElement(e){return nE(e)}query(e,t,r){return bM(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const h={},f=o.filter(v=>v instanceof $M);(function $j(n,e){return 0===n||0===e})(r,i)&&f.forEach(v=>{let C=v.currentSnapshot;Object.keys(C).forEach(P=>h[P]=C[P])}),t=function Wj(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(l=>{s.hasOwnProperty(l)||o.push(l),s[l]=t[l]}),o.length)for(var i=1;i<e.length;i++){let l=e[i];o.forEach(function(c){l[c]=TM(n,c)})}}return e}(e,t=t.map(v=>Pa(v,!1)),h);const g=function NU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=bE(e[0]),e.length>1&&(r=bE(e[e.length-1]))):e&&(t=bE(e)),t||r?new LU(n,t,r):null}(e,t);return new $M(e,t,c,g)}}let HU=(()=>{class n extends aM{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:zr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?lM(t):t;return WM(this._renderer,null,r,"register",[i]),new jU(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Ae(kh),Ae(Gn))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class jU extends class ej{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new UU(this._id,e,t||{},this._renderer)}}class UU{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return WM(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function WM(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const KM="@.disabled";let $U=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const l=null==o?void 0:o.parentNode(s);l&&o.removeChild(l,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new GM("",s,this.engine),this._rendererCache.set(s,f)),f}const o=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const c=f=>{Array.isArray(f)?f.forEach(c):this.engine.registerTrigger(o,l,t,f.name,f)};return r.data.animation.forEach(c),new WU(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Ae(kh),Ae(U_),Ae(yn))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class GM{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==KM?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class WU extends GM{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==KM?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function KU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function GU(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(e,t,r)}}let zU=(()=>{class n extends U_{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Ae(Gn),Ae(rE),Ae(pE))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const zM=new Ve("AnimationModuleType"),qM=[{provide:aM,useClass:HU},{provide:pE,useFactory:function qU(){return new hU}},{provide:U_,useClass:zU},{provide:kh,useFactory:function QU(n,e,t){return new $U(n,e,t)},deps:[Um,U_,yn]}],QM=[{provide:rE,useFactory:()=>new VU},{provide:zM,useValue:"BrowserAnimations"},...qM],ZU=[{provide:rE,useClass:CM},{provide:zM,useValue:"NoopAnimations"},...qM];let YU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ZU:QM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n}),n.\u0275inj=ur({providers:QM,imports:[JA]}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=cr({type:n,bootstrap:[JH]}),n.\u0275inj=ur({providers:[],imports:[[JA,FB,KH,WV.forRoot(),YU]]}),n})();(function Wx(){lA=!1})(),nN().bootstrapModule(XU).catch(n=>console.error(n))},387:(we,q)=>{"use strict";q.qQ=q.Bg=q.yD=q.YH=q.Zf=q.E$=q.H_=q.wz=q.E5=q.Cj=void 0,q.Cj="w",q.E5="b",q.wz="p",q.H_="n",q.E$="b",q.Zf="r",q.YH="q",q.yD="k",q.Bg="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";const E=-1,_={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},T={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},I={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},k={b:[16,32,17,15],w:[-16,-32,-17,-15]},U={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},V=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],ee=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],W={p:1,n:2,b:4,r:8,q:16,k:32},te=[q.H_,q.E$,q.Zf,q.YH],pe={w:[{square:I.a1,flag:T.QSIDE_CASTLE},{square:I.h1,flag:T.KSIDE_CASTLE}],b:[{square:I.a8,flag:T.QSIDE_CASTLE},{square:I.h8,flag:T.KSIDE_CASTLE}]},le={b:1,w:6},ye=["1-0","0-1","1/2-1/2","*"];function ue(Ke){return Ke>>4}function Me(Ke){return 15&Ke}function Pe(Ke){return-1!=="0123456789".indexOf(Ke)}function Ne(Ke){const x=Me(Ke),L=ue(Ke);return"abcdefgh".substring(x,x+1)+"87654321".substring(L,L+1)}function Qe(Ke){return Ke===q.Cj?q.E5:q.Cj}function je(Ke,x,L,R,K,F,me=T.NORMAL){const G=ue(R);if(K!==q.wz||7!==G&&0!==G)Ke.push({color:x,from:L,to:R,piece:K,captured:F,flags:me});else for(let J=0;J<te.length;J++)Ke.push({color:x,from:L,to:R,piece:K,captured:F,promotion:te[J],flags:me|T.PROMOTION})}function At(Ke){let x=Ke.charAt(0);return x>="a"&&x<="h"?Ke.match(/[a-h]\d.*[a-h]\d/)?void 0:q.wz:(x=x.toLowerCase(),"o"===x?q.yD:x)}function pn(Ke){return Ke.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}q.qQ=class Yt{constructor(x=q.Bg){this._board=new Array(128),this._turn=q.Cj,this._header={},this._kings={w:E,b:E},this._epSquare=-1,this._halfMoves=0,this._moveNumber=0,this._history=[],this._comments={},this._castling={w:0,b:0},this.load(x)}clear(x=!1){this._board=new Array(128),this._kings={w:E,b:E},this._turn=q.Cj,this._castling={w:0,b:0},this._epSquare=E,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=x?this._header:{},this._updateSetup(this.fen())}load(x,L=!1){let R=x.split(/\s+/);R.length>=2&&R.length<6&&(x=R.concat(["-","-","0","1"].slice(-(6-R.length))).join(" ")),R=x.split(/\s+/);const{ok:K,error:F}=function Ie(Ke){const x=Ke.split(/\s+/);if(6!==x.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const L=parseInt(x[5],10);if(isNaN(L)||L<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const R=parseInt(x[4],10);if(isNaN(R)||R<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(x[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(x[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(x[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const K=x[0].split("/");if(8!==K.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let me=0;me<K.length;me++){let G=0,J=!1;for(let Re=0;Re<K[me].length;Re++)if(Pe(K[me][Re])){if(J)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};G+=parseInt(K[me][Re],10),J=!0}else{if(!/^[prnbqkPRNBQK]$/.test(K[me][Re]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};G+=1,J=!1}if(8!==G)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==x[3][1]&&"w"==x[1]||"6"==x[3][1]&&"b"==x[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const F=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:me,regex:G}of F){if(!G.test(x[0]))return{ok:!1,error:`Invalid FEN: missing ${me} king`};if((x[0].match(G)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${me} kings`}}return{ok:!0}}(x);if(!K)throw new Error(F);const me=R[0];let G=0;this.clear(L);for(let J=0;J<me.length;J++){const Re=me.charAt(J);if("/"===Re)G+=8;else if(Pe(Re))G+=parseInt(Re,10);else{const wt=Re<"a"?q.Cj:q.E5;this.put({type:Re.toLowerCase(),color:wt},Ne(G)),G++}}this._turn=R[1],R[2].indexOf("K")>-1&&(this._castling.w|=T.KSIDE_CASTLE),R[2].indexOf("Q")>-1&&(this._castling.w|=T.QSIDE_CASTLE),R[2].indexOf("k")>-1&&(this._castling.b|=T.KSIDE_CASTLE),R[2].indexOf("q")>-1&&(this._castling.b|=T.QSIDE_CASTLE),this._epSquare="-"===R[3]?E:I[R[3]],this._halfMoves=parseInt(R[4],10),this._moveNumber=parseInt(R[5],10),this._updateSetup(this.fen())}fen(){var x,L;let R=0,K="";for(let G=I.a8;G<=I.h1;G++){if(this._board[G]){R>0&&(K+=R,R=0);const{color:J,type:Re}=this._board[G];K+=J===q.Cj?Re.toUpperCase():Re.toLowerCase()}else R++;G+1&136&&(R>0&&(K+=R),G!==I.h1&&(K+="/"),R=0,G+=8)}let F="";this._castling[q.Cj]&T.KSIDE_CASTLE&&(F+="K"),this._castling[q.Cj]&T.QSIDE_CASTLE&&(F+="Q"),this._castling[q.E5]&T.KSIDE_CASTLE&&(F+="k"),this._castling[q.E5]&T.QSIDE_CASTLE&&(F+="q"),F=F||"-";let me="-";if(this._epSquare!==E){const G=this._epSquare+(this._turn===q.Cj?16:-16),J=[G+1,G-1];for(const Re of J){if(136&Re)continue;const wt=this._turn;if((null===(x=this._board[Re])||void 0===x?void 0:x.color)===wt&&(null===(L=this._board[Re])||void 0===L?void 0:L.type)===q.wz){this._makeMove({color:wt,from:Re,to:this._epSquare,piece:q.wz,captured:q.wz,flags:T.EP_CAPTURE});const _e=!this._isKingAttacked(wt);if(this._undoMove(),_e){me=Ne(this._epSquare);break}}}}return[K,this._turn,F,me,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(x){this._history.length>0||(x!==q.Bg?(this._header.SetUp="1",this._header.FEN=x):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(q.Bg)}get(x){return this._board[I[x]]||!1}put({type:x,color:L},R){if(-1==="pnbrqkPNBRQK".indexOf(x.toLowerCase())||!(R in I))return!1;const K=I[R];return(x!=q.yD||this._kings[L]==E||this._kings[L]==K)&&(this._board[K]={type:x,color:L},x===q.yD&&(this._kings[L]=K),this._updateSetup(this.fen()),!0)}remove(x){const L=this.get(x);return delete this._board[I[x]],L&&L.type===q.yD&&(this._kings[L.color]=E),this._updateSetup(this.fen()),L}_attacked(x,L){for(let R=I.a8;R<=I.h1;R++){if(136&R){R+=7;continue}if(void 0===this._board[R]||this._board[R].color!==x)continue;const K=this._board[R],F=R-L;if(0===F)continue;const me=F+119;if(V[me]&W[K.type]){if(K.type===q.wz){if(F>0){if(K.color===q.Cj)return!0}else if(K.color===q.E5)return!0;continue}if("n"===K.type||"k"===K.type)return!0;const G=ee[me];let J=R+G,Re=!1;for(;J!==L;){if(null!=this._board[J]){Re=!0;break}J+=G}if(!Re)return!0}}return!1}_isKingAttacked(x){return this._attacked(Qe(x),this._kings[x])}isAttacked(x,L){return this._attacked(L,I[x])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const x={b:0,n:0,r:0,q:0,k:0,p:0},L=[];let R=0,K=0;for(let F=I.a8;F<=I.h1;F++){if(K=(K+1)%2,136&F){F+=7;continue}const me=this._board[F];me&&(x[me.type]=me.type in x?x[me.type]+1:1,me.type===q.E$&&L.push(K),R++)}if(2===R)return!0;if(3===R&&(1===x[q.E$]||1===x[q.H_]))return!0;if(R===x[q.E$]+2){let F=0;const me=L.length;for(let G=0;G<me;G++)F+=L[G];if(0===F||F===me)return!0}return!1}isThreefoldRepetition(){const x=[],L={};let R=!1;for(;;){const K=this._undoMove();if(!K)break;x.push(K)}for(;;){const K=this.fen().split(" ").slice(0,4).join(" ");L[K]=K in L?L[K]+1:1,L[K]>=3&&(R=!0);const F=x.pop();if(!F)break;this._makeMove(F)}return R}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:x=!1,square:L}={}){const R=this._moves({square:L});return R.map(x?K=>this._makePretty(K):K=>this._moveToSan(K,R))}_moves({legal:x=!0,piece:L,square:R}={}){var K;const F=R?R.toLowerCase():void 0,me=null==L?void 0:L.toLowerCase(),G=[],J=this._turn,Re=Qe(J);let wt=I.a8,_e=I.h1,de=!1;if(F){if(!(F in I))return[];wt=_e=I[F],de=!0}for(let ve=wt;ve<=_e;ve++){if(136&ve){ve+=7;continue}if(!this._board[ve]||this._board[ve].color===Re)continue;const{type:rt}=this._board[ve];let Vt;if(rt===q.wz){if(me&&me!==rt)continue;Vt=ve+k[J][0],this._board[Vt]||(je(G,J,ve,Vt,q.wz),Vt=ve+k[J][1],le[J]===ue(ve)&&!this._board[Vt]&&je(G,J,ve,Vt,q.wz,void 0,T.BIG_PAWN));for(let Jt=2;Jt<4;Jt++)Vt=ve+k[J][Jt],!(136&Vt)&&((null===(K=this._board[Vt])||void 0===K?void 0:K.color)===Re?je(G,J,ve,Vt,q.wz,this._board[Vt].type,T.CAPTURE):Vt===this._epSquare&&je(G,J,ve,Vt,q.wz,q.wz,T.EP_CAPTURE))}else{if(me&&me!==rt)continue;for(let Jt=0,Tr=U[rt].length;Jt<Tr;Jt++){const ft=U[rt][Jt];for(Vt=ve;Vt+=ft,!(136&Vt);){if(this._board[Vt]){if(this._board[Vt].color===J)break;je(G,J,ve,Vt,rt,this._board[Vt].type,T.CAPTURE);break}if(je(G,J,ve,Vt,rt),rt===q.H_||rt===q.yD)break}}}}if(!(void 0!==me&&me!==q.yD||de&&_e!==this._kings[J])){if(this._castling[J]&T.KSIDE_CASTLE){const ve=this._kings[J],rt=ve+2;!this._board[ve+1]&&!this._board[rt]&&!this._attacked(Re,this._kings[J])&&!this._attacked(Re,ve+1)&&!this._attacked(Re,rt)&&je(G,J,this._kings[J],rt,q.yD,void 0,T.KSIDE_CASTLE)}if(this._castling[J]&T.QSIDE_CASTLE){const ve=this._kings[J],rt=ve-2;!this._board[ve-1]&&!this._board[ve-2]&&!this._board[ve-3]&&!this._attacked(Re,this._kings[J])&&!this._attacked(Re,ve-1)&&!this._attacked(Re,rt)&&je(G,J,this._kings[J],rt,q.yD,void 0,T.QSIDE_CASTLE)}}if(!x)return G;const Xt=[];for(let ve=0,rt=G.length;ve<rt;ve++)this._makeMove(G[ve]),this._isKingAttacked(J)||Xt.push(G[ve]),this._undoMove();return Xt}move(x,{strict:L=!1}={}){let R=null;if("string"==typeof x)R=this._moveFromSan(x,L);else if("object"==typeof x){const F=this._moves();for(let me=0,G=F.length;me<G;me++)if(x.from===Ne(F[me].from)&&x.to===Ne(F[me].to)&&(!("promotion"in F[me])||x.promotion===F[me].promotion)){R=F[me];break}}if(!R)throw"string"==typeof x?new Error(`Invalid move: ${x}`):new Error(`Invalid move: ${JSON.stringify(x)}`);const K=this._makePretty(R);return this._makeMove(R),K}_push(x){this._history.push({move:x,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(x){const L=this._turn,R=Qe(L);if(this._push(x),this._board[x.to]=this._board[x.from],delete this._board[x.from],x.flags&T.EP_CAPTURE&&(this._turn===q.E5?delete this._board[x.to-16]:delete this._board[x.to+16]),x.promotion&&(this._board[x.to]={type:x.promotion,color:L}),this._board[x.to].type===q.yD){if(this._kings[L]=x.to,x.flags&T.KSIDE_CASTLE){const F=x.to+1;this._board[x.to-1]=this._board[F],delete this._board[F]}else if(x.flags&T.QSIDE_CASTLE){const F=x.to-2;this._board[x.to+1]=this._board[F],delete this._board[F]}this._castling[L]=0}if(this._castling[L])for(let K=0,F=pe[L].length;K<F;K++)if(x.from===pe[L][K].square&&this._castling[L]&pe[L][K].flag){this._castling[L]^=pe[L][K].flag;break}if(this._castling[R])for(let K=0,F=pe[R].length;K<F;K++)if(x.to===pe[R][K].square&&this._castling[R]&pe[R][K].flag){this._castling[R]^=pe[R][K].flag;break}this._epSquare=x.flags&T.BIG_PAWN?L===q.E5?x.to-16:x.to+16:E,x.piece===q.wz||x.flags&(T.CAPTURE|T.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,L===q.E5&&this._moveNumber++,this._turn=R}undo(){const x=this._undoMove();return x?this._makePretty(x):null}_undoMove(){const x=this._history.pop();if(void 0===x)return null;const L=x.move;this._kings=x.kings,this._turn=x.turn,this._castling=x.castling,this._epSquare=x.epSquare,this._halfMoves=x.halfMoves,this._moveNumber=x.moveNumber;const R=this._turn,K=Qe(R);if(this._board[L.from]=this._board[L.to],this._board[L.from].type=L.piece,delete this._board[L.to],L.captured)if(L.flags&T.EP_CAPTURE){let F;F=R===q.E5?L.to-16:L.to+16,this._board[F]={type:q.wz,color:K}}else this._board[L.to]={type:L.captured,color:K};if(L.flags&(T.KSIDE_CASTLE|T.QSIDE_CASTLE)){let F,me;L.flags&T.KSIDE_CASTLE?(F=L.to+1,me=L.to-1):(F=L.to-2,me=L.to+1),this._board[F]=this._board[me],delete this._board[me]}return L}pgn({newline:x="\n",maxWidth:L=0}={}){const R=[];let K=!1;for(const de in this._header)R.push("["+de+' "'+this._header[de]+'"]'+x),K=!0;K&&this._history.length&&R.push(x);const F=de=>{const Xt=this._comments[this.fen()];return void 0!==Xt&&(de=`${de}${de.length>0?" ":""}{${Xt}}`),de},me=[];for(;this._history.length>0;)me.push(this._undoMove());const G=[];let J="";for(0===me.length&&G.push(F(""));me.length>0;){J=F(J);const de=me.pop();if(!de)break;if(this._history.length||"b"!==de.color)"w"===de.color&&(J.length&&G.push(J),J=this._moveNumber+".");else{const Xt=`${this._moveNumber}. ...`;J=J?`${J} ${Xt}`:Xt}J=J+" "+this._moveToSan(de,this._moves({legal:!0})),this._makeMove(de)}if(J.length&&G.push(F(J)),void 0!==this._header.Result&&G.push(this._header.Result),0===L)return R.join("")+G.join(" ");const Re=function(){return R.length>0&&" "===R[R.length-1]&&(R.pop(),!0)},wt=function(de,Xt){for(const ve of Xt.split(" "))if(ve){if(de+ve.length>L){for(;Re();)de--;R.push(x),de=0}R.push(ve),de+=ve.length,R.push(" "),de++}return Re()&&de--,de};let _e=0;for(let de=0;de<G.length;de++)_e+G[de].length>L&&G[de].includes("{")?_e=wt(_e,G[de]):(_e+G[de].length>L&&0!==de?(" "===R[R.length-1]&&R.pop(),R.push(x),_e=0):0!==de&&(R.push(" "),_e++),R.push(G[de]),_e+=G[de].length);return R.join("")}header(...x){for(let L=0;L<x.length;L+=2)"string"==typeof x[L]&&"string"==typeof x[L+1]&&(this._header[x[L]]=x[L+1]);return this._header}loadPgn(x,{strict:L=!1,newlineChar:R="\r?\n"}={}){function K(ft){return ft.replace(/\\/g,"\\")}x=x.trim();const G=new RegExp("^(\\[((?:"+K(R)+")|.)*\\])((?:\\s*"+K(R)+"){2}|(?:\\s*"+K(R)+")*$)").exec(x),J=G&&G.length>=2?G[1]:"";this.reset();const Re=function F(ft){const Ze={},or=ft.split(new RegExp(K(R)));let ui="",Mr="";for(let Pt=0;Pt<or.length;Pt++){const wn=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;ui=or[Pt].replace(wn,"$1"),Mr=or[Pt].replace(wn,"$2"),ui.trim().length>0&&(Ze[ui]=Mr)}return Ze}(J);let wt="";for(const ft in Re)"fen"===ft.toLowerCase()&&(wt=Re[ft]),this.header(ft,Re[ft]);if(L){if("1"===Re.SetUp){if(!("FEN"in Re))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(Re.FEN,!0)}}else wt&&this.load(wt,!0);const Xt=function(ft){return`{${function _e(ft){return Array.from(ft).map(function(Ze){return Ze.charCodeAt(0)<128?Ze.charCodeAt(0).toString(16):encodeURIComponent(Ze).replace(/%/g,"").toLowerCase()}).join("")}((ft=ft.replace(new RegExp(K(R),"g")," ")).slice(1,ft.length-1))}}`},ve=function(ft){if(ft.startsWith("{")&&ft.endsWith("}"))return function de(ft){return 0==ft.length?"":decodeURIComponent("%"+(ft.match(/.{1,2}/g)||[]).join("%"))}(ft.slice(1,ft.length-1))};let rt=x.replace(J,"").replace(new RegExp(`({[^}]*})+?|;([^${K(R)}]*)`,"g"),function(ft,Ze,or){return void 0!==Ze?Xt(Ze):" "+Xt(`{${or.slice(1)}}`)}).replace(new RegExp(K(R),"g")," ");const Vt=/(\([^()]+\))+?/g;for(;Vt.test(rt);)rt=rt.replace(Vt,"");rt=rt.replace(/\d+\.(\.\.)?/g,""),rt=rt.replace(/\.\.\./g,""),rt=rt.replace(/\$\d+/g,"");let Jt=rt.trim().split(new RegExp(/\s+/));Jt=Jt.filter(ft=>""!==ft);let Tr="";for(let ft=0;ft<Jt.length;ft++){const Ze=ve(Jt[ft]);if(void 0!==Ze){this._comments[this.fen()]=Ze;continue}const or=this._moveFromSan(Jt[ft],L);if(null==or){if(!(ye.indexOf(Jt[ft])>-1))throw new Error(`Invalid move in PGN: ${Jt[ft]}`);Tr=Jt[ft]}else Tr="",this._makeMove(or)}Tr&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",Tr)}_moveToSan(x,L){let R="";if(x.flags&T.KSIDE_CASTLE)R="O-O";else if(x.flags&T.QSIDE_CASTLE)R="O-O-O";else{if(x.piece!==q.wz){const K=function X(Ke,x){const L=Ke.from,R=Ke.to,K=Ke.piece;let F=0,me=0,G=0;for(let J=0,Re=x.length;J<Re;J++){const wt=x[J].from,_e=x[J].to;K===x[J].piece&&L!==wt&&R===_e&&(F++,ue(L)===ue(wt)&&me++,Me(L)===Me(wt)&&G++)}return F>0?me>0&&G>0?Ne(L):G>0?Ne(L).charAt(1):Ne(L).charAt(0):""}(x,L);R+=x.piece.toUpperCase()+K}x.flags&(T.CAPTURE|T.EP_CAPTURE)&&(x.piece===q.wz&&(R+=Ne(x.from)[0]),R+="x"),R+=Ne(x.to),x.promotion&&(R+="="+x.promotion.toUpperCase())}return this._makeMove(x),this.isCheck()&&(this.isCheckmate()?R+="#":R+="+"),this._undoMove(),R}_moveFromSan(x,L=!1){const R=pn(x);let K=At(R),F=this._moves({legal:!0,piece:K});for(let de=0,Xt=F.length;de<Xt;de++)if(R===pn(this._moveToSan(F[de],F)))return F[de];if(L)return null;let me,G,J,Re,wt,_e=!1;G=R.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),G?(me=G[1],J=G[2],Re=G[3],wt=G[4],1==J.length&&(_e=!0)):(G=R.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),G&&(me=G[1],J=G[2],Re=G[3],wt=G[4],1==J.length&&(_e=!0))),K=At(R),F=this._moves({legal:!0,piece:me||K});for(let de=0,Xt=F.length;de<Xt;de++)if(J&&Re){if(!(me&&me.toLowerCase()!=F[de].piece||I[J]!=F[de].from||I[Re]!=F[de].to||wt&&wt.toLowerCase()!=F[de].promotion))return F[de];if(_e){const ve=Ne(F[de].from);if(!(me&&me.toLowerCase()!=F[de].piece||I[Re]!=F[de].to||J!=ve[0]&&J!=ve[1]||wt&&wt.toLowerCase()!=F[de].promotion))return F[de]}}return null}ascii(){let x="   +------------------------+\n";for(let L=I.a8;L<=I.h1;L++){if(0===Me(L)&&(x+=" "+"87654321"[ue(L)]+" |"),this._board[L]){const R=this._board[L].type;x+=" "+(this._board[L].color===q.Cj?R.toUpperCase():R.toLowerCase())+" "}else x+=" . ";L+1&136&&(x+="|\n",L+=8)}return x+="   +------------------------+\n",x+="     a  b  c  d  e  f  g  h",x}perft(x){const L=this._moves({legal:!1});let R=0;const K=this._turn;for(let F=0,me=L.length;F<me;F++)this._makeMove(L[F]),this._isKingAttacked(K)||(x-1>0?R+=this.perft(x-1):R++),this._undoMove();return R}_makePretty(x){const{color:L,piece:R,from:K,to:F,flags:me,captured:G,promotion:J}=x;let Re="";for(const Xt in T)T[Xt]&me&&(Re+=_[Xt]);const wt=Ne(K),_e=Ne(F),de={color:L,piece:R,from:wt,to:_e,san:this._moveToSan(x,this._moves({legal:!0})),flags:Re,lan:wt+_e};return G&&(de.captured=G),J&&(de.promotion=J,de.lan+=J),de}turn(){return this._turn}board(){const x=[];let L=[];for(let R=I.a8;R<=I.h1;R++)L.push(null==this._board[R]?null:{square:Ne(R),type:this._board[R].type,color:this._board[R].color}),R+1&136&&(x.push(L),L=[],R+=8);return x}squareColor(x){if(x in I){const L=I[x];return(ue(L)+Me(L))%2==0?"light":"dark"}return null}history({verbose:x=!1}={}){const L=[],R=[];for(;this._history.length>0;)L.push(this._undoMove());for(;;){const K=L.pop();if(!K)break;R.push(x?Object.assign({fen:this.fen()},this._makePretty(K)):this._moveToSan(K,this._moves())),this._makeMove(K)}return R}_pruneComments(){const x=[],L={},R=K=>{K in this._comments&&(L[K]=this._comments[K])};for(;this._history.length>0;)x.push(this._undoMove());for(R(this.fen());;){const K=x.pop();if(!K)break;this._makeMove(K),R(this.fen())}this._comments=L}getComment(){return this._comments[this.fen()]}setComment(x){this._comments[this.fen()]=x.replace("{","[").replace("}","]")}deleteComment(){const x=this._comments[this.fen()];return delete this._comments[this.fen()],x}getComments(){return this._pruneComments(),Object.keys(this._comments).map(x=>({fen:x,comment:this._comments[x]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(x=>{const L=this._comments[x];return delete this._comments[x],{fen:x,comment:L}})}}},489:function(we,q,O){var E;we=O.nmd(we),function(){var _,U="Expected a function",ee="__lodash_hash_undefined__",S="__lodash_placeholder__",R=1/0,K=9007199254740991,G=4294967295,wt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],_e="[object Arguments]",de="[object Array]",ve="[object Boolean]",rt="[object Date]",Jt="[object Error]",Tr="[object Function]",ft="[object GeneratorFunction]",Ze="[object Map]",or="[object Number]",Mr="[object Object]",Pt="[object Promise]",Ir="[object RegExp]",ar="[object Set]",Nl="[object String]",Ec="[object Symbol]",ci="[object WeakMap]",Ll="[object ArrayBuffer]",No="[object DataView]",Ef="[object Float32Array]",wc="[object Float64Array]",wf="[object Int8Array]",Df="[object Int16Array]",Sf="[object Int32Array]",Af="[object Uint8Array]",Bl="[object Uint8ClampedArray]",Vl="[object Uint16Array]",Hl="[object Uint32Array]",Pf=/\b__p \+= '';/g,Tf=/\b(__p \+=) '' \+/g,K_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dc=/&(?:amp|lt|gt|quot|#39);/g,Sc=/[&<>"']/g,Mf=RegExp(Dc.source),If=RegExp(Sc.source),Wr=/<%-([\s\S]+?)%>/g,G_=/<%([\s\S]+?)%>/g,Rf=/<%=([\s\S]+?)%>/g,z_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q_=/^\w*$/,Of=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ac=/[\\^$.*+?()[\]{}|]/g,Q_=RegExp(Ac.source),di=/^\s+/,Z_=/\s/,Mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ia=/\{\n\/\* \[wrapped with (.+)\] \*/,is=/,? & /,wE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Y_=/[()=,{}\[\]\/\s]/,xf=/\\(\\)?/g,Pc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tc=/\w*$/,Ra=/^[-+]0x[0-9a-f]+$/i,X_=/^0b[01]+$/i,Ff=/^\[object .+?Constructor\]$/,kf=/^0o[0-7]+$/i,J_=/^(?:0|[1-9]\d*)$/,ev=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jl=/($^)/,tv=/['\n\r\u2028\u2029\\]/g,Oa="\\ud800-\\udfff",Ul="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",so="\\u2700-\\u27bf",Nf="a-z\\xdf-\\xf6\\xf8-\\xff",$l="A-Z\\xc0-\\xd6\\xd8-\\xde",Lf="\\ufe0e\\ufe0f",Gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bf="["+Oa+"]",iv="["+Gt+"]",Se="["+Ul+"]",Wl="\\d+",it="["+so+"]",qn="["+Nf+"]",Vf="[^"+Oa+Gt+Wl+so+Nf+$l+"]",Hf="\\ud83c[\\udffb-\\udfff]",xa="[^"+Oa+"]",lr="(?:\\ud83c[\\udde6-\\uddff]){2}",jf="[\\ud800-\\udbff][\\udc00-\\udfff]",Lo="["+$l+"]",Oi="(?:"+qn+"|"+Vf+")",SE="(?:"+Lo+"|"+Vf+")",ov="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",av="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",lv="(?:"+Se+"|"+Hf+")?",Uf="["+Lf+"]?",mr=Uf+lv+"(?:\\u200d(?:"+[xa,lr,jf].join("|")+")"+Uf+lv+")*",nn="(?:"+[it,lr,jf].join("|")+")"+mr,TE="(?:"+[xa+Se+"?",Se,lr,jf,Bf].join("|")+")",ME=RegExp("['\u2019]","g"),IE=RegExp(Se,"g"),Xe=RegExp(Hf+"(?="+Hf+")|"+TE+mr,"g"),RE=RegExp([Lo+"?"+qn+"+"+ov+"(?="+[iv,Lo,"$"].join("|")+")",SE+"+"+av+"(?="+[iv,Lo+Oi,"$"].join("|")+")",Lo+"?"+Oi+"+"+ov,Lo+"+"+av,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wl,nn].join("|"),"g"),ur=RegExp("[\\u200d"+Oa+Ul+Lf+"]"),Rc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$f=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cv=-1,rn={};rn[Ef]=rn[wc]=rn[wf]=rn[Df]=rn[Sf]=rn[Af]=rn[Bl]=rn[Vl]=rn[Hl]=!0,rn[_e]=rn[de]=rn[Ll]=rn[ve]=rn[No]=rn[rt]=rn[Jt]=rn[Tr]=rn[Ze]=rn[or]=rn[Mr]=rn[Ir]=rn[ar]=rn[Nl]=rn[ci]=!1;var zt={};zt[_e]=zt[de]=zt[Ll]=zt[No]=zt[ve]=zt[rt]=zt[Ef]=zt[wc]=zt[wf]=zt[Df]=zt[Sf]=zt[Ze]=zt[or]=zt[Mr]=zt[Ir]=zt[ar]=zt[Nl]=zt[Ec]=zt[Af]=zt[Bl]=zt[Vl]=zt[Hl]=!0,zt[Jt]=zt[Tr]=zt[ci]=!1;var dv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nt=parseFloat,xc=parseInt,Kf="object"==typeof global&&global&&global.Object===Object&&global,As="object"==typeof self&&self&&self.Object===Object&&self,Rn=Kf||As||Function("return this")(),hv=q&&!q.nodeType&&q,Kr=hv&&we&&!we.nodeType&&we,Gr=Kr&&Kr.exports===hv,Gf=Gr&&Kf.process,hi=function(){try{return Kr&&Kr.require&&Kr.require("util").types||Gf&&Gf.binding&&Gf.binding("util")}catch(Y){}}(),zr=hi&&hi.isArrayBuffer,zf=hi&&hi.isDate,qf=hi&&hi.isMap,Qf=hi&&hi.isRegExp,fv=hi&&hi.isSet,jt=hi&&hi.isTypedArray;function qr(N,Y,z){switch(z.length){case 0:return N.call(Y);case 1:return N.call(Y,z[0]);case 2:return N.call(Y,z[0],z[1]);case 3:return N.call(Y,z[0],z[1],z[2])}return N.apply(Y,z)}function OE(N,Y,z,Te){for(var st=-1,Ft=null==N?0:N.length;++st<Ft;){var xn=N[st];Y(Te,xn,z(xn),N)}return Te}function Hn(N,Y){for(var z=-1,Te=null==N?0:N.length;++z<Te&&!1!==Y(N[z],z,N););return N}function qt(N,Y){for(var z=null==N?0:N.length;z--&&!1!==Y(N[z],z,N););return N}function Fa(N,Y){for(var z=-1,Te=null==N?0:N.length;++z<Te;)if(!Y(N[z],z,N))return!1;return!0}function xi(N,Y){for(var z=-1,Te=null==N?0:N.length,st=0,Ft=[];++z<Te;){var xn=N[z];Y(xn,z,N)&&(Ft[st++]=xn)}return Ft}function Bo(N,Y){return!(null==N||!N.length)&&oo(N,Y,0)>-1}function Gl(N,Y,z){for(var Te=-1,st=null==N?0:N.length;++Te<st;)if(z(Y,N[Te]))return!0;return!1}function Ot(N,Y){for(var z=-1,Te=null==N?0:N.length,st=Array(Te);++z<Te;)st[z]=Y(N[z],z,N);return st}function Qr(N,Y){for(var z=-1,Te=Y.length,st=N.length;++z<Te;)N[st+z]=Y[z];return N}function Fc(N,Y,z,Te){var st=-1,Ft=null==N?0:N.length;for(Te&&Ft&&(z=N[++st]);++st<Ft;)z=Y(z,N[st],st,N);return z}function Ps(N,Y,z,Te){var st=null==N?0:N.length;for(Te&&st&&(z=N[--st]);st--;)z=Y(z,N[st],st,N);return z}function kc(N,Y){for(var z=-1,Te=null==N?0:N.length;++z<Te;)if(Y(N[z],z,N))return!0;return!1}var Zf=Fi("length");function cr(N,Y,z){var Te;return z(N,function(st,Ft,xn){if(Y(st,Ft,xn))return Te=Ft,!1}),Te}function zl(N,Y,z,Te){for(var st=N.length,Ft=z+(Te?1:-1);Te?Ft--:++Ft<st;)if(Y(N[Ft],Ft,N))return Ft;return-1}function oo(N,Y,z){return Y==Y?function _r(N,Y,z){for(var Te=z-1,st=N.length;++Te<st;)if(N[Te]===Y)return Te;return-1}(N,Y,z):zl(N,dr,z)}function Ge(N,Y,z,Te){for(var st=z-1,Ft=N.length;++st<Ft;)if(Te(N[st],Y))return st;return-1}function dr(N){return N!=N}function jn(N,Y){var z=null==N?0:N.length;return z?ka(N,Y)/z:NaN}function Fi(N){return function(Y){return null==Y?_:Y[N]}}function ss(N){return function(Y){return null==N?_:N[Y]}}function Rr(N,Y,z,Te,st){return st(N,function(Ft,xn,tn){z=Te?(Te=!1,Ft):Y(z,Ft,xn,tn)}),z}function ka(N,Y){for(var z,Te=-1,st=N.length;++Te<st;){var Ft=Y(N[Te]);Ft!==_&&(z=z===_?Ft:z+Ft)}return z}function ao(N,Y){for(var z=-1,Te=Array(N);++z<N;)Te[z]=Y(z);return Te}function Ts(N){return N&&N.slice(0,Qt(N)+1).replace(di,"")}function $t(N){return function(Y){return N(Y)}}function Nc(N,Y){return Ot(Y,function(z){return N[z]})}function Qn(N,Y){return N.has(Y)}function Ee(N,Y){for(var z=-1,Te=N.length;++z<Te&&oo(Y,N[z],0)>-1;);return z}function pt(N,Y){for(var z=N.length;z--&&oo(Y,N[z],0)>-1;);return z}function on(N,Y){for(var z=N.length,Te=0;z--;)N[z]===Y&&++Te;return Te}var Or=ss({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),lo=ss({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function On(N){return"\\"+dv[N]}function en(N){return ur.test(N)}function lt(N){var Y=-1,z=Array(N.size);return N.forEach(function(Te,st){z[++Y]=[st,Te]}),z}function La(N,Y){return function(z){return N(Y(z))}}function xr(N,Y){for(var z=-1,Te=N.length,st=0,Ft=[];++z<Te;){var xn=N[z];(xn===Y||xn===S)&&(N[z]=S,Ft[st++]=z)}return Ft}function Ho(N){var Y=-1,z=Array(N.size);return N.forEach(function(Te){z[++Y]=Te}),z}function fi(N){return en(N)?function gv(N){for(var Y=Xe.lastIndex=0;Xe.test(N);)++Y;return Y}(N):Zf(N)}function gn(N){return en(N)?function ki(N){return N.match(Xe)||[]}(N):function Yf(N){return N.split("")}(N)}function Qt(N){for(var Y=N.length;Y--&&Z_.test(N.charAt(Y)););return Y}var pv=ss({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),co=function N(Y){var a,z=(Y=null==Y?Rn:co.defaults(Rn.Object(),Y,co.pick(Rn,$f))).Array,Te=Y.Date,st=Y.Error,Ft=Y.Function,xn=Y.Math,tn=Y.Object,Jf=Y.RegExp,xE=Y.String,gi=Y.TypeError,Bc=z.prototype,Va=tn.prototype,Vc=Y["__core-js_shared__"],Hc=Ft.prototype.toString,Wt=Va.hasOwnProperty,kE=0,mv=(a=/[^.]+$/.exec(Vc&&Vc.keys&&Vc.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",jc=Va.toString,ep=Hc.call(tn),Uc=Rn._,NE=Jf("^"+Hc.call(Wt).replace(Ac,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$c=Gr?Y.Buffer:_,ho=Y.Symbol,Ni=Y.Uint8Array,tp=$c?$c.allocUnsafe:_,Un=La(tn.getPrototypeOf,tn),Wc=tn.create,np=Va.propertyIsEnumerable,Zl=Bc.splice,Kc=ho?ho.isConcatSpreadable:_,Uo=ho?ho.iterator:_,fo=ho?ho.toStringTag:_,$o=function(){try{var a=Vs(tn,"defineProperty");return a({},"",{}),a}catch(u){}}(),_v=Y.clearTimeout!==Rn.clearTimeout&&Y.clearTimeout,Zr=Te&&Te.now!==Rn.Date.now&&Te.now,Gc=Y.setTimeout!==Rn.setTimeout&&Y.setTimeout,Yl=xn.ceil,Wo=xn.floor,zc=tn.getOwnPropertySymbols,vv=$c?$c.isBuffer:_,Xl=Y.isFinite,yv=Bc.join,qc=La(tn.keys,tn),Fn=xn.max,yt=xn.min,rp=Te.now,bv=Y.parseInt,mn=xn.random,Cv=Bc.reverse,ip=Vs(Y,"DataView"),Ms=Vs(Y,"Map"),vr=Vs(Y,"Promise"),Ko=Vs(Y,"Set"),po=Vs(Y,"WeakMap"),Li=Vs(tn,"create"),Zn=po&&new po,go={},Qc=js(ip),Ev=js(Ms),Is=js(vr),sp=js(Ko),Zc=js(po),ze=ho?ho.prototype:_,Jl=ze?ze.valueOf:_,op=ze?ze.toString:_;function y(a){if(cn(a)&&!ut(a)&&!(a instanceof Ct)){if(a instanceof Yr)return a;if(Wt.call(a,"__wrapped__"))return aa(a)}return new Yr(a)}var Go=function(){function a(){}return function(u){if(!xe(u))return{};if(Wc)return Wc(u);a.prototype=u;var d=new a;return a.prototype=_,d}}();function Ha(){}function Yr(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=_}function Ct(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function sn(a){var u=-1,d=null==a?0:a.length;for(this.clear();++u<d;){var p=a[u];this.set(p[0],p[1])}}function Rs(a){var u=-1,d=null==a?0:a.length;for(this.clear();++u<d;){var p=a[u];this.set(p[0],p[1])}}function Vi(a){var u=-1,d=null==a?0:a.length;for(this.clear();++u<d;){var p=a[u];this.set(p[0],p[1])}}function mo(a){var u=-1,d=null==a?0:a.length;for(this.__data__=new Vi;++u<d;)this.add(a[u])}function Xr(a){var u=this.__data__=new Rs(a);this.size=u.size}function nd(a,u){var d=ut(a),p=!d&&$s(a),m=!d&&!p&&Ws(a),b=!d&&!p&&!m&&gs(a),D=d||p||m||b,M=D?ao(a.length,xE):[],B=M.length;for(var re in a)(u||Wt.call(a,re))&&(!D||!("length"==re||m&&("offset"==re||"parent"==re)||b&&("buffer"==re||"byteLength"==re||"byteOffset"==re)||yi(re,B)))&&M.push(re);return M}function rd(a){var u=a.length;return u?a[yo(0,u-1)]:_}function dp(a,u){return Dd(Cr(a),_o(u,0,a.length))}function ru(a){return Dd(Cr(a))}function id(a,u,d){(d!==_&&!Nr(a[u],d)||d===_&&!(u in a))&&ls(a,u,d)}function Ua(a,u,d){var p=a[u];(!Wt.call(a,u)||!Nr(p,d)||d===_&&!(u in a))&&ls(a,u,d)}function kn(a,u){for(var d=a.length;d--;)if(Nr(a[d][0],u))return d;return-1}function Os(a,u,d,p){return Hi(a,function(m,b,D){u(p,m,d(m),D)}),p}function un(a,u){return a&&Wi(u,Pn(u),a)}function ls(a,u,d){"__proto__"==u&&$o?$o(a,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[u]=d}function iu(a,u){for(var d=-1,p=u.length,m=z(p),b=null==a;++d<p;)m[d]=b?_:Bu(a,u[d]);return m}function _o(a,u,d){return a==a&&(d!==_&&(a=a<=d?a:d),u!==_&&(a=a>=u?a:u)),a}function Jr(a,u,d,p,m,b){var D,M=1&u,B=2&u,re=4&u;if(d&&(D=m?d(a,p,m,b):d(a)),D!==_)return D;if(!xe(a))return a;var ie=ut(a);if(ie){if(D=function oa(a){var u=a.length,d=new a.constructor(u);return u&&"string"==typeof a[0]&&Wt.call(a,"index")&&(d.index=a.index,d.input=a.input),d}(a),!M)return Cr(a,D)}else{var he=Xn(a),Ce=he==Tr||he==ft;if(Ws(a))return Sp(a,M);if(he==Mr||he==_e||Ce&&!m){if(D=B||Ce?{}:Np(a),!M)return B?function Lv(a,u){return Wi(a,kp(a),u)}(a,function $a(a,u){return a&&Wi(u,wr(u),a)}(D,a)):function Nv(a,u){return Wi(a,Fp(a),u)}(a,un(D,a))}else{if(!zt[he])return m?a:{};D=function $v(a,u,d){var p=a.constructor;switch(u){case Ll:return vd(a);case ve:case rt:return new p(+a);case No:return function VE(a,u){var d=u?vd(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}(a,d);case Ef:case wc:case wf:case Df:case Sf:case Af:case Bl:case Vl:case Hl:return br(a,d);case Ze:return new p;case or:case Nl:return new p(a);case Ir:return function HE(a){var u=new a.constructor(a.source,Tc.exec(a));return u.lastIndex=a.lastIndex,u}(a);case ar:return new p;case Ec:return function Ap(a){return Jl?tn(Jl.call(a)):{}}(a)}}(a,he,M)}}b||(b=new Xr);var Fe=b.get(a);if(Fe)return Fe;b.set(a,D),Xd(a)?a.forEach(function($e){D.add(Jr($e,u,d,$e,a,b))}):Zd(a)&&a.forEach(function($e,bt){D.set(bt,Jr($e,u,d,bt,a,b))});var gt=ie?_:(re?B?Cu:sa:B?wr:Pn)(a);return Hn(gt||a,function($e,bt){gt&&($e=a[bt=$e]),Ua(D,bt,Jr($e,u,d,bt,a,b))}),D}function Wa(a,u,d){var p=d.length;if(null==a)return!p;for(a=tn(a);p--;){var m=d[p],D=a[m];if(D===_&&!(m in a)||!(0,u[m])(D))return!1}return!0}function Ka(a,u,d){if("function"!=typeof a)throw new gi(U);return nl(function(){a.apply(_,d)},u)}function xs(a,u,d,p){var m=-1,b=Bo,D=!0,M=a.length,B=[],re=u.length;if(!M)return B;d&&(u=Ot(u,$t(d))),p?(b=Gl,D=!1):u.length>=200&&(b=Qn,D=!1,u=new mo(u));e:for(;++m<M;){var ie=a[m],he=null==d?ie:d(ie);if(ie=p||0!==ie?ie:0,D&&he==he){for(var Ce=re;Ce--;)if(u[Ce]===he)continue e;B.push(ie)}else b(u,he,p)||B.push(ie)}return B}y.templateSettings={escape:Wr,evaluate:G_,interpolate:Rf,variable:"",imports:{_:y}},(y.prototype=Ha.prototype).constructor=y,(Yr.prototype=Go(Ha.prototype)).constructor=Yr,(Ct.prototype=Go(Ha.prototype)).constructor=Ct,sn.prototype.clear=function ap(){this.__data__=Li?Li(null):{},this.size=0},sn.prototype.delete=function ja(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u},sn.prototype.get=function Bi(a){var u=this.__data__;if(Li){var d=u[a];return d===ee?_:d}return Wt.call(u,a)?u[a]:_},sn.prototype.has=function Yc(a){var u=this.__data__;return Li?u[a]!==_:Wt.call(u,a)},sn.prototype.set=function Xc(a,u){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Li&&u===_?ee:u,this},Rs.prototype.clear=function wv(){this.__data__=[],this.size=0},Rs.prototype.delete=function eu(a){var u=this.__data__,d=kn(u,a);return!(d<0||(d==u.length-1?u.pop():Zl.call(u,d,1),--this.size,0))},Rs.prototype.get=function tu(a){var u=this.__data__,d=kn(u,a);return d<0?_:u[d][1]},Rs.prototype.has=function hr(a){return kn(this.__data__,a)>-1},Rs.prototype.set=function os(a,u){var d=this.__data__,p=kn(d,a);return p<0?(++this.size,d.push([a,u])):d[p][1]=u,this},Vi.prototype.clear=function zo(){this.size=0,this.__data__={hash:new sn,map:new(Ms||Rs),string:new sn}},Vi.prototype.delete=function as(a){var u=wu(this,a).delete(a);return this.size-=u?1:0,u},Vi.prototype.get=function Dv(a){return wu(this,a).get(a)},Vi.prototype.has=function lp(a){return wu(this,a).has(a)},Vi.prototype.set=function Sv(a,u){var d=wu(this,a),p=d.size;return d.set(a,u),this.size+=d.size==p?0:1,this},mo.prototype.add=mo.prototype.push=function Jc(a){return this.__data__.set(a,ee),this},mo.prototype.has=function ed(a){return this.__data__.has(a)},Xr.prototype.clear=function td(){this.__data__=new Rs,this.size=0},Xr.prototype.delete=function Av(a){var u=this.__data__,d=u.delete(a);return this.size=u.size,d},Xr.prototype.get=function up(a){return this.__data__.get(a)},Xr.prototype.has=function nu(a){return this.__data__.has(a)},Xr.prototype.set=function cp(a,u){var d=this.__data__;if(d instanceof Rs){var p=d.__data__;if(!Ms||p.length<199)return p.push([a,u]),this.size=++d.size,this;d=this.__data__=new Vi(p)}return d.set(a,u),this.size=d.size,this};var Hi=_u(ji),sd=_u(od,!0);function Tv(a,u){var d=!0;return Hi(a,function(p,m,b){return d=!!u(p,m,b)}),d}function mi(a,u,d){for(var p=-1,m=a.length;++p<m;){var b=a[p],D=u(b);if(null!=D&&(M===_?D==D&&!tr(D):d(D,M)))var M=D,B=b}return B}function hp(a,u){var d=[];return Hi(a,function(p,m,b){u(p,m,b)&&d.push(p)}),d}function $n(a,u,d,p,m){var b=-1,D=a.length;for(d||(d=Au),m||(m=[]);++b<D;){var M=a[b];u>0&&d(M)?u>1?$n(M,u-1,d,p,m):Qr(m,M):p||(m[m.length]=M)}return m}var vo=Za(),su=Za(!0);function ji(a,u){return a&&vo(a,u,Pn)}function od(a,u){return a&&su(a,u,Pn)}function ad(a,u){return xi(u,function(d){return fs(a[d])})}function qo(a,u){for(var d=0,p=(u=us(u,a)).length;null!=a&&d<p;)a=a[Fr(u[d++])];return d&&d==p?a:_}function za(a,u,d){var p=u(a);return ut(a)?p:Qr(p,d(a))}function Yn(a){return null==a?a===_?"[object Undefined]":"[object Null]":fo&&fo in tn(a)?function jv(a){var u=Wt.call(a,fo),d=a[fo];try{a[fo]=_;var p=!0}catch(b){}var m=jc.call(a);return p&&(u?a[fo]=d:delete a[fo]),m}(a):function $E(a){return jc.call(a)}(a)}function qa(a,u){return a>u}function ou(a,u){return null!=a&&Wt.call(a,u)}function fp(a,u){return null!=a&&u in tn(a)}function Fs(a,u,d){for(var p=d?Gl:Bo,m=a[0].length,b=a.length,D=b,M=z(b),B=1/0,re=[];D--;){var ie=a[D];D&&u&&(ie=Ot(ie,$t(u))),B=yt(ie.length,B),M[D]=!d&&(u||m>=120&&ie.length>=120)?new mo(D&&ie):_}ie=a[0];var he=-1,Ce=M[0];e:for(;++he<m&&re.length<B;){var Fe=ie[he],Ue=u?u(Fe):Fe;if(Fe=d||0!==Fe?Fe:0,!(Ce?Qn(Ce,Ue):p(re,Ue,d))){for(D=b;--D;){var gt=M[D];if(!(gt?Qn(gt,Ue):p(a[D],Ue,d)))continue e}Ce&&Ce.push(Ue),re.push(Fe)}}return re}function Ui(a,u,d){var p=null==(a=qv(a,u=us(u,a)))?a:a[Fr(Ln(u))];return null==p?_:qr(p,a,d)}function au(a){return cn(a)&&Yn(a)==_e}function Qo(a,u,d,p,m){return a===u||(null==a||null==u||!cn(a)&&!cn(u)?a!=a&&u!=u:function gp(a,u,d,p,m,b){var D=ut(a),M=ut(u),B=D?de:Xn(a),re=M?de:Xn(u),ie=(B=B==_e?Mr:B)==Mr,he=(re=re==_e?Mr:re)==Mr,Ce=B==re;if(Ce&&Ws(a)){if(!Ws(u))return!1;D=!0,ie=!1}if(Ce&&!ie)return b||(b=new Xr),D||gs(a)?ia(a,u,d,p,m,b):function Hv(a,u,d,p,m,b,D){switch(d){case No:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case Ll:return!(a.byteLength!=u.byteLength||!b(new Ni(a),new Ni(u)));case ve:case rt:case or:return Nr(+a,+u);case Jt:return a.name==u.name&&a.message==u.message;case Ir:case Nl:return a==u+"";case Ze:var M=lt;case ar:if(M||(M=Ho),a.size!=u.size&&!(1&p))return!1;var re=D.get(a);if(re)return re==u;p|=2,D.set(a,u);var ie=ia(M(a),M(u),p,m,b,D);return D.delete(a),ie;case Ec:if(Jl)return Jl.call(a)==Jl.call(u)}return!1}(a,u,B,d,p,m,b);if(!(1&d)){var Fe=ie&&Wt.call(a,"__wrapped__"),Ue=he&&Wt.call(u,"__wrapped__");if(Fe||Ue){var gt=Fe?a.value():a,$e=Ue?u.value():u;return b||(b=new Xr),m(gt,$e,d,p,b)}}return!!Ce&&(b||(b=new Xr),function Op(a,u,d,p,m,b){var D=1&d,M=sa(a),B=M.length;if(B!=sa(u).length&&!D)return!1;for(var he=B;he--;){var Ce=M[he];if(!(D?Ce in u:Wt.call(u,Ce)))return!1}var Fe=b.get(a),Ue=b.get(u);if(Fe&&Ue)return Fe==u&&Ue==a;var gt=!0;b.set(a,u),b.set(u,a);for(var $e=D;++he<B;){var bt=a[Ce=M[he]],Dt=u[Ce];if(p)var si=D?p(Dt,bt,Ce,u,a,b):p(bt,Dt,Ce,a,u,b);if(!(si===_?bt===Dt||m(bt,Dt,d,p,b):si)){gt=!1;break}$e||($e="constructor"==Ce)}if(gt&&!$e){var Dr=a.constructor,pr=u.constructor;Dr!=pr&&"constructor"in a&&"constructor"in u&&!("function"==typeof Dr&&Dr instanceof Dr&&"function"==typeof pr&&pr instanceof pr)&&(gt=!1)}return b.delete(a),b.delete(u),gt}(a,u,d,p,m,b))}(a,u,d,p,Qo,m))}function ld(a,u,d,p){var m=d.length,b=m,D=!p;if(null==a)return!b;for(a=tn(a);m--;){var M=d[m];if(D&&M[2]?M[1]!==a[M[0]]:!(M[0]in a))return!1}for(;++m<b;){var B=(M=d[m])[0],re=a[B],ie=M[1];if(D&&M[2]){if(re===_&&!(B in a))return!1}else{var he=new Xr;if(p)var Ce=p(re,ie,B,a,u,he);if(!(Ce===_?Qo(ie,re,3,p,he):Ce))return!1}}return!0}function Zo(a){return!(!xe(a)||function Wv(a){return!!mv&&mv in a}(a))&&(fs(a)?NE:Ff).test(js(a))}function Qa(a){return"function"==typeof a?a:null==a?Wn:"object"==typeof a?ut(a)?_p(a[0],a[1]):fd(a):bh(a)}function dd(a){if(!el(a))return qc(a);var u=[];for(var d in tn(a))Wt.call(a,d)&&"constructor"!=d&&u.push(d);return u}function cu(a,u){return a<u}function hd(a,u){var d=-1,p=Er(a)?z(a.length):[];return Hi(a,function(m,b,D){p[++d]=u(m,b,D)}),p}function fd(a){var u=xp(a);return 1==u.length&&u[0][2]?Vp(u[0][0],u[0][1]):function(d){return d===a||ld(d,a,u)}}function _p(a,u){return Pu(a)&&Bp(u)?Vp(Fr(a),u):function(d){var p=Bu(d,a);return p===_&&p===u?Vu(d,a):Qo(u,p,3)}}function du(a,u,d,p,m){a!==u&&vo(u,function(b,D){if(m||(m=new Xr),xe(b))!function hu(a,u,d,p,m,b,D){var M=Hp(a,d),B=Hp(u,d),re=D.get(B);if(re)id(a,d,re);else{var ie=b?b(M,B,d+"",a,u,D):_,he=ie===_;if(he){var Ce=ut(B),Fe=!Ce&&Ws(B),Ue=!Ce&&!Fe&&gs(B);ie=B,Ce||Fe||Ue?ut(M)?ie=M:_n(M)?ie=Cr(M):Fe?(he=!1,ie=Sp(B,!0)):Ue?(he=!1,ie=br(B,!0)):ie=[]:ca(B)||$s(B)?(ie=M,$s(M)?ie=Pg(M):(!xe(M)||fs(M))&&(ie=Np(B))):he=!1}he&&(D.set(B,ie),m(ie,B,p,b,D),D.delete(B)),id(a,d,ie)}}(a,u,D,d,du,p,m);else{var M=p?p(Hp(a,D),b,D+"",a,u,m):_;M===_&&(M=b),id(a,D,M)}},wr)}function Yo(a,u){var d=a.length;if(d)return yi(u+=u<0?d:0,d)?a[u]:_}function vp(a,u,d){u=u.length?Ot(u,function(b){return ut(b)?function(D){return qo(D,1===b.length?b[0]:b)}:b}):[Wn];var p=-1;return u=Ot(u,$t(Be())),function ql(N,Y){var z=N.length;for(N.sort(Y);z--;)N[z]=N[z].value;return N}(hd(a,function(b,D,M){return{criteria:Ot(u,function(re){return re(b)}),index:++p,value:b}}),function(b,D){return function na(a,u,d){for(var p=-1,m=a.criteria,b=u.criteria,D=m.length,M=d.length;++p<D;){var B=gu(m[p],b[p]);if(B)return p>=M?B:B*("desc"==d[p]?-1:1)}return a.index-u.index}(b,D,d)})}function pd(a,u,d){for(var p=-1,m=u.length,b={};++p<m;){var D=u[p],M=qo(a,D);d(M,D)&&$i(b,us(D,a),M)}return b}function Nn(a,u,d,p){var m=p?Ge:oo,b=-1,D=u.length,M=a;for(a===u&&(u=Cr(u)),d&&(M=Ot(a,$t(d)));++b<D;)for(var B=0,re=u[b],ie=d?d(re):re;(B=m(M,ie,B,p))>-1;)M!==a&&Zl.call(M,B,1),Zl.call(a,B,1);return a}function fu(a,u){for(var d=a?u.length:0,p=d-1;d--;){var m=u[d];if(d==p||m!==b){var b=m;yi(m)?Zl.call(a,m,1):Ep(a,m)}}return a}function yo(a,u){return a+Wo(mn()*(u-a+1))}function ks(a,u){var d="";if(!a||u<1||u>K)return d;do{u%2&&(d+=a),(u=Wo(u/2))&&(a+=a)}while(u);return d}function ot(a,u){return wd(zv(a,u,Wn),a+"")}function bp(a){return rd(_s(a))}function gd(a,u){var d=_s(a);return Dd(d,_o(u,0,d.length))}function $i(a,u,d,p){if(!xe(a))return a;for(var m=-1,b=(u=us(u,a)).length,D=b-1,M=a;null!=M&&++m<b;){var B=Fr(u[m]),re=d;if("__proto__"===B||"constructor"===B||"prototype"===B)return a;if(m!=D){var ie=M[B];(re=p?p(ie,B,M):_)===_&&(re=xe(ie)?ie:yi(u[m+1])?[]:{})}Ua(M,B,re),M=M[B]}return a}var Rv=Zn?function(a,u){return Zn.set(a,u),a}:Wn,Ov=$o?function(a,u){return $o(a,"toString",{configurable:!0,enumerable:!1,value:gh(u),writable:!0})}:Wn;function Ve(a){return Dd(_s(a))}function ei(a,u,d){var p=-1,m=a.length;u<0&&(u=-u>m?0:m+u),(d=d>m?m:d)<0&&(d+=m),m=u>d?0:d-u>>>0,u>>>=0;for(var b=z(m);++p<m;)b[p]=a[p+u];return b}function BE(a,u){var d;return Hi(a,function(p,m,b){return!(d=u(p,m,b))}),!!d}function md(a,u,d){var p=0,m=null==a?p:a.length;if("number"==typeof u&&u==u&&m<=2147483647){for(;p<m;){var b=p+m>>>1,D=a[b];null!==D&&!tr(D)&&(d?D<=u:D<u)?p=b+1:m=b}return m}return Cp(a,u,Wn,d)}function Cp(a,u,d,p){var m=0,b=null==a?0:a.length;if(0===b)return 0;for(var D=(u=d(u))!=u,M=null===u,B=tr(u),re=u===_;m<b;){var ie=Wo((m+b)/2),he=d(a[ie]),Ce=he!==_,Fe=null===he,Ue=he==he,gt=tr(he);if(D)var $e=p||Ue;else $e=re?Ue&&(p||Ce):M?Ue&&Ce&&(p||!Fe):B?Ue&&Ce&&!Fe&&(p||!gt):!Fe&&!gt&&(p?he<=u:he<u);$e?m=ie+1:b=ie}return yt(b,4294967294)}function xv(a,u){for(var d=-1,p=a.length,m=0,b=[];++d<p;){var D=a[d],M=u?u(D):D;if(!d||!Nr(M,B)){var B=M;b[m++]=0===D?0:D}}return b}function Fv(a){return"number"==typeof a?a:tr(a)?NaN:+a}function ti(a){if("string"==typeof a)return a;if(ut(a))return Ot(a,ti)+"";if(tr(a))return op?op.call(a):"";var u=a+"";return"0"==u&&1/a==-R?"-0":u}function ni(a,u,d){var p=-1,m=Bo,b=a.length,D=!0,M=[],B=M;if(d)D=!1,m=Gl;else if(b>=200){var re=u?null:Vv(a);if(re)return Ho(re);D=!1,m=Qn,B=new mo}else B=u?[]:M;e:for(;++p<b;){var ie=a[p],he=u?u(ie):ie;if(ie=d||0!==ie?ie:0,D&&he==he){for(var Ce=B.length;Ce--;)if(B[Ce]===he)continue e;u&&B.push(he),M.push(ie)}else m(B,he,d)||(B!==M&&B.push(he),M.push(ie))}return M}function Ep(a,u){return null==(a=qv(a,u=us(u,a)))||delete a[Fr(Ln(u))]}function Dn(a,u,d,p){return $i(a,u,d(qo(a,u)),p)}function ea(a,u,d,p){for(var m=a.length,b=p?m:-1;(p?b--:++b<m)&&u(a[b],b,a););return d?ei(a,p?0:b,p?b+1:m):ei(a,p?b+1:0,p?m:b)}function ta(a,u){var d=a;return d instanceof Ct&&(d=d.value()),Fc(u,function(p,m){return m.func.apply(m.thisArg,Qr([p],m.args))},d)}function wp(a,u,d){var p=a.length;if(p<2)return p?ni(a[0]):[];for(var m=-1,b=z(p);++m<p;)for(var D=a[m],M=-1;++M<p;)M!=m&&(b[m]=xs(b[m]||D,a[M],u,d));return ni($n(b,1),u,d)}function Dp(a,u,d){for(var p=-1,m=a.length,b=u.length,D={};++p<m;)d(D,a[p],p<b?u[p]:_);return D}function yr(a){return _n(a)?a:[]}function ri(a){return"function"==typeof a?a:Wn}function us(a,u){return ut(a)?a:Pu(a,u)?[a]:$p(kt(a))}var pu=ot;function ii(a,u,d){var p=a.length;return d=d===_?p:d,!u&&d>=p?a:ei(a,u,d)}var _d=_v||function(a){return Rn.clearTimeout(a)};function Sp(a,u){if(u)return a.slice();var d=a.length,p=tp?tp(d):new a.constructor(d);return a.copy(p),p}function vd(a){var u=new a.constructor(a.byteLength);return new Ni(u).set(new Ni(a)),u}function br(a,u){var d=u?vd(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function gu(a,u){if(a!==u){var d=a!==_,p=null===a,m=a==a,b=tr(a),D=u!==_,M=null===u,B=u==u,re=tr(u);if(!M&&!re&&!b&&a>u||b&&D&&B&&!M&&!re||p&&D&&B||!d&&B||!m)return 1;if(!p&&!b&&!re&&a<u||re&&d&&m&&!p&&!b||M&&d&&m||!D&&m||!B)return-1}return 0}function kv(a,u,d,p){for(var m=-1,b=a.length,D=d.length,M=-1,B=u.length,re=Fn(b-D,0),ie=z(B+re),he=!p;++M<B;)ie[M]=u[M];for(;++m<D;)(he||m<b)&&(ie[d[m]]=a[m]);for(;re--;)ie[M++]=a[m++];return ie}function yd(a,u,d,p){for(var m=-1,b=a.length,D=-1,M=d.length,B=-1,re=u.length,ie=Fn(b-M,0),he=z(ie+re),Ce=!p;++m<ie;)he[m]=a[m];for(var Fe=m;++B<re;)he[Fe+B]=u[B];for(;++D<M;)(Ce||m<b)&&(he[Fe+d[D]]=a[m++]);return he}function Cr(a,u){var d=-1,p=a.length;for(u||(u=z(p));++d<p;)u[d]=a[d];return u}function Wi(a,u,d,p){var m=!d;d||(d={});for(var b=-1,D=u.length;++b<D;){var M=u[b],B=p?p(d[M],a[M],M,d,a):_;B===_&&(B=a[M]),m?ls(d,M,B):Ua(d,M,B)}return d}function mu(a,u){return function(d,p){var m=ut(d)?OE:Os,b=u?u():{};return m(d,a,Be(p,2),b)}}function bo(a){return ot(function(u,d){var p=-1,m=d.length,b=m>1?d[m-1]:_,D=m>2?d[2]:_;for(b=a.length>3&&"function"==typeof b?(m--,b):_,D&&Jn(d[0],d[1],D)&&(b=m<3?_:b,m=1),u=tn(u);++p<m;){var M=d[p];M&&a(u,M,p,b)}return u})}function _u(a,u){return function(d,p){if(null==d)return d;if(!Er(d))return a(d,p);for(var m=d.length,b=u?m:-1,D=tn(d);(u?b--:++b<m)&&!1!==p(D[b],b,D););return d}}function Za(a){return function(u,d,p){for(var m=-1,b=tn(u),D=p(u),M=D.length;M--;){var B=D[a?M:++m];if(!1===d(b[B],B,b))break}return u}}function ra(a){return function(u){var d=en(u=kt(u))?gn(u):_,p=d?d[0]:u.charAt(0),m=d?ii(d,1).join(""):u.slice(1);return p[a]()+m}}function Ns(a){return function(u){return Fc(Kg(dh(u).replace(ME,"")),a,"")}}function Ls(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=Go(a.prototype),p=a.apply(d,u);return xe(p)?p:d}}function Pp(a){return function(u,d,p){var m=tn(u);if(!Er(u)){var b=Be(d,3);u=Pn(u),d=function(M){return b(m[M],M,m)}}var D=a(u,d,p);return D>-1?m[b?u[D]:D]:_}}function Tp(a){return _i(function(u){var d=u.length,p=d,m=Yr.prototype.thru;for(a&&u.reverse();p--;){var b=u[p];if("function"!=typeof b)throw new gi(U);if(m&&!D&&"wrapper"==Eu(b))var D=new Yr([],!0)}for(p=D?p:d;++p<d;){var M=Eu(b=u[p]),B="wrapper"==M?Cd(b):_;D=B&&Tu(B[0])&&424==B[1]&&!B[4].length&&1==B[9]?D[Eu(B[0])].apply(D,B[3]):1==b.length&&Tu(b)?D[M]():D.thru(b)}return function(){var re=arguments,ie=re[0];if(D&&1==re.length&&ut(ie))return D.plant(ie).value();for(var he=0,Ce=d?u[he].apply(this,re):ie;++he<d;)Ce=u[he].call(this,Ce);return Ce}})}function Ya(a,u,d,p,m,b,D,M,B,re){var ie=128&u,he=1&u,Ce=2&u,Fe=24&u,Ue=512&u,gt=Ce?_:Ls(a);return function $e(){for(var bt=arguments.length,Dt=z(bt),si=bt;si--;)Dt[si]=arguments[si];if(Fe)var Dr=vi($e),pr=on(Dt,Dr);if(p&&(Dt=kv(Dt,p,m,Fe)),b&&(Dt=yd(Dt,b,D,Fe)),bt-=pr,Fe&&bt<re){var vn=xr(Dt,Dr);return bu(a,u,Ya,$e.placeholder,d,Dt,vn,M,B,re-bt)}var oi=he?d:this,qi=Ce?oi[a]:a;return bt=Dt.length,M?Dt=WE(Dt,M):Ue&&bt>1&&Dt.reverse(),ie&&B<bt&&(Dt.length=B),this&&this!==Rn&&this instanceof $e&&(qi=gt||Ls(qi)),qi.apply(oi,Dt)}}function Mp(a,u){return function(d,p){return function Mv(a,u,d,p){return ji(a,function(m,b,D){u(p,d(m),b,D)}),p}(d,a,u(p),{})}}function Bs(a,u){return function(d,p){var m;if(d===_&&p===_)return u;if(d!==_&&(m=d),p!==_){if(m===_)return p;"string"==typeof d||"string"==typeof p?(d=ti(d),p=ti(p)):(d=Fv(d),p=Fv(p)),m=a(d,p)}return m}}function vu(a){return _i(function(u){return u=Ot(u,$t(Be())),ot(function(d){var p=this;return a(u,function(m){return qr(m,p,d)})})})}function yu(a,u){var d=(u=u===_?" ":ti(u)).length;if(d<2)return d?ks(u,a):u;var p=ks(u,Yl(a/fi(u)));return en(u)?ii(gn(p),0,a).join(""):p.slice(0,a)}function bd(a){return function(u,d,p){return p&&"number"!=typeof p&&Jn(u,d,p)&&(d=p=_),u=ms(u),d===_?(d=u,u=0):d=ms(d),function Jo(a,u,d,p){for(var m=-1,b=Fn(Yl((u-a)/(d||1)),0),D=z(b);b--;)D[p?b:++m]=a,a+=d;return D}(u,d,p=p===_?u<d?1:-1:ms(p),a)}}function Xa(a){return function(u,d){return"string"==typeof u&&"string"==typeof d||(u=Ei(u),d=Ei(d)),a(u,d)}}function bu(a,u,d,p,m,b,D,M,B,re){var ie=8&u;u|=ie?32:64,4&(u&=~(ie?64:32))||(u&=-4);var gt=[a,u,m,ie?b:_,ie?D:_,ie?_:b,ie?_:D,M,B,re],$e=d.apply(_,gt);return Tu(a)&&Ed($e,gt),$e.placeholder=p,jp($e,a,u)}function Co(a){var u=xn[a];return function(d,p){if(d=Ei(d),(p=null==p?0:yt(ht(p),292))&&Xl(d)){var m=(kt(d)+"e").split("e");return+((m=(kt(u(m[0]+"e"+(+m[1]+p)))+"e").split("e"))[0]+"e"+(+m[1]-p))}return u(d)}}var Vv=Ko&&1/Ho(new Ko([,-0]))[1]==R?function(a){return new Ko(a)}:pl;function Ip(a){return function(u){var d=Xn(u);return d==Ze?lt(u):d==ar?function jo(N){var Y=-1,z=Array(N.size);return N.forEach(function(Te){z[++Y]=[Te,Te]}),z}(u):function Ql(N,Y){return Ot(Y,function(z){return[z,N[z]]})}(u,a(u))}}function cs(a,u,d,p,m,b,D,M){var B=2&u;if(!B&&"function"!=typeof a)throw new gi(U);var re=p?p.length:0;if(re||(u&=-97,p=m=_),D=D===_?D:Fn(ht(D),0),M=M===_?M:ht(M),re-=m?m.length:0,64&u){var ie=p,he=m;p=m=_}var Ce=B?_:Cd(a),Fe=[a,u,d,p,m,ie,he,b,D,M];if(Ce&&function tl(a,u){var d=a[1],p=u[1],m=d|p;if(!(m<131||(128==p&&8==d||128==p&&256==d&&a[7].length<=u[8]||384==p&&u[7].length<=u[8]&&8==d)))return a;1&p&&(a[2]=u[2],m|=1&d?0:4);var M=u[3];if(M){var B=a[3];a[3]=B?kv(B,M,u[4]):M,a[4]=B?xr(a[3],S):u[4]}(M=u[5])&&(a[5]=(B=a[5])?yd(B,M,u[6]):M,a[6]=B?xr(a[5],S):u[6]),(M=u[7])&&(a[7]=M),128&p&&(a[8]=null==a[8]?u[8]:yt(a[8],u[8])),null==a[9]&&(a[9]=u[9]),a[0]=u[0],a[1]=m}(Fe,Ce),a=Fe[0],u=Fe[1],d=Fe[2],p=Fe[3],m=Fe[4],!(M=Fe[9]=Fe[9]===_?B?0:a.length:Fn(Fe[9]-re,0))&&24&u&&(u&=-25),u&&1!=u)Ue=8==u||16==u?function Bv(a,u,d){var p=Ls(a);return function m(){for(var b=arguments.length,D=z(b),M=b,B=vi(m);M--;)D[M]=arguments[M];var re=b<3&&D[0]!==B&&D[b-1]!==B?[]:xr(D,B);return(b-=re.length)<d?bu(a,u,Ya,m.placeholder,_,D,re,_,_,d-b):qr(this&&this!==Rn&&this instanceof m?p:a,this,D)}}(a,u,M):32!=u&&33!=u||m.length?Ya.apply(_,Fe):function Ae(a,u,d,p){var m=1&u,b=Ls(a);return function D(){for(var M=-1,B=arguments.length,re=-1,ie=p.length,he=z(ie+B),Ce=this&&this!==Rn&&this instanceof D?b:a;++re<ie;)he[re]=p[re];for(;B--;)he[re++]=arguments[++M];return qr(Ce,m?d:this,he)}}(a,u,d,p);else var Ue=function jE(a,u,d){var p=1&u,m=Ls(a);return function b(){return(this&&this!==Rn&&this instanceof b?m:a).apply(p?d:this,arguments)}}(a,u,d);return jp((Ce?Rv:Ed)(Ue,Fe),a,u)}function Ja(a,u,d,p){return a===_||Nr(a,Va[d])&&!Wt.call(p,d)?u:a}function ds(a,u,d,p,m,b){return xe(a)&&xe(u)&&(b.set(u,a),du(a,u,_,ds,b),b.delete(u)),a}function Rp(a){return ca(a)?_:a}function ia(a,u,d,p,m,b){var D=1&d,M=a.length,B=u.length;if(M!=B&&!(D&&B>M))return!1;var re=b.get(a),ie=b.get(u);if(re&&ie)return re==u&&ie==a;var he=-1,Ce=!0,Fe=2&d?new mo:_;for(b.set(a,u),b.set(u,a);++he<M;){var Ue=a[he],gt=u[he];if(p)var $e=D?p(gt,Ue,he,u,a,b):p(Ue,gt,he,a,u,b);if($e!==_){if($e)continue;Ce=!1;break}if(Fe){if(!kc(u,function(bt,Dt){if(!Qn(Fe,Dt)&&(Ue===bt||m(Ue,bt,d,p,b)))return Fe.push(Dt)})){Ce=!1;break}}else if(Ue!==gt&&!m(Ue,gt,d,p,b)){Ce=!1;break}}return b.delete(a),b.delete(u),Ce}function _i(a){return wd(zv(a,_,qp),a+"")}function sa(a){return za(a,Pn,Fp)}function Cu(a){return za(a,wr,kp)}var Cd=Zn?function(a){return Zn.get(a)}:pl;function Eu(a){for(var u=a.name+"",d=go[u],p=Wt.call(go,u)?d.length:0;p--;){var m=d[p],b=m.func;if(null==b||b==a)return m.name}return u}function vi(a){return(Wt.call(y,"placeholder")?y:a).placeholder}function Be(){var a=y.iteratee||fl;return a=a===fl?Qa:a,arguments.length?a(arguments[0],arguments[1]):a}function wu(a,u){var d=a.__data__;return function Lp(a){var u=typeof a;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==a:null===a}(u)?d["string"==typeof u?"string":"hash"]:d.map}function xp(a){for(var u=Pn(a),d=u.length;d--;){var p=u[d],m=a[p];u[d]=[p,m,Bp(m)]}return u}function Vs(a,u){var d=function uo(N,Y){return null==N?_:N[Y]}(a,u);return Zo(d)?d:_}var Fp=zc?function(a){return null==a?[]:(a=tn(a),xi(zc(a),function(u){return np.call(a,u)}))}:ga,kp=zc?function(a){for(var u=[];a;)Qr(u,Fp(a)),a=Un(a);return u}:ga,Xn=Yn;function Su(a,u,d){for(var p=-1,m=(u=us(u,a)).length,b=!1;++p<m;){var D=Fr(u[p]);if(!(b=null!=a&&d(a,D)))break;a=a[D]}return b||++p!=m?b:!!(m=null==a?0:a.length)&&Je(m)&&yi(D,m)&&(ut(a)||$s(a))}function Np(a){return"function"!=typeof a.constructor||el(a)?{}:Go(Un(a))}function Au(a){return ut(a)||$s(a)||!!(Kc&&a&&a[Kc])}function yi(a,u){var d=typeof a;return!!(u=null==u?K:u)&&("number"==d||"symbol"!=d&&J_.test(a))&&a>-1&&a%1==0&&a<u}function Jn(a,u,d){if(!xe(d))return!1;var p=typeof u;return!!("number"==p?Er(d)&&yi(u,d.length):"string"==p&&u in d)&&Nr(d[u],a)}function Pu(a,u){if(ut(a))return!1;var d=typeof a;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=a&&!tr(a))||q_.test(a)||!z_.test(a)||null!=u&&a in tn(u)}function Tu(a){var u=Eu(a),d=y[u];if("function"!=typeof d||!(u in Ct.prototype))return!1;if(a===d)return!0;var p=Cd(d);return!!p&&a===p[0]}(ip&&Xn(new ip(new ArrayBuffer(1)))!=No||Ms&&Xn(new Ms)!=Ze||vr&&Xn(vr.resolve())!=Pt||Ko&&Xn(new Ko)!=ar||po&&Xn(new po)!=ci)&&(Xn=function(a){var u=Yn(a),d=u==Mr?a.constructor:_,p=d?js(d):"";if(p)switch(p){case Qc:return No;case Ev:return Ze;case Is:return Pt;case sp:return ar;case Zc:return ci}return u});var Kv=Vc?fs:Ch;function el(a){var u=a&&a.constructor;return a===("function"==typeof u&&u.prototype||Va)}function Bp(a){return a==a&&!xe(a)}function Vp(a,u){return function(d){return null!=d&&d[a]===u&&(u!==_||a in tn(d))}}function zv(a,u,d){return u=Fn(u===_?a.length-1:u,0),function(){for(var p=arguments,m=-1,b=Fn(p.length-u,0),D=z(b);++m<b;)D[m]=p[u+m];m=-1;for(var M=z(u+1);++m<u;)M[m]=p[m];return M[u]=d(D),qr(a,this,M)}}function qv(a,u){return u.length<2?a:qo(a,ei(u,0,-1))}function WE(a,u){for(var d=a.length,p=yt(u.length,d),m=Cr(a);p--;){var b=u[p];a[p]=yi(b,d)?m[b]:_}return a}function Hp(a,u){if(("constructor"!==u||"function"!=typeof a[u])&&"__proto__"!=u)return a[u]}var Ed=Up(Rv),nl=Gc||function(a,u){return Rn.setTimeout(a,u)},wd=Up(Ov);function jp(a,u,d){var p=u+"";return wd(a,function UE(a,u){var d=u.length;if(!d)return a;var p=d-1;return u[p]=(d>1?"& ":"")+u[p],u=u.join(d>2?", ":" "),a.replace(Mn,"{\n/* [wrapped with "+u+"] */\n")}(p,function Ki(a,u){return Hn(wt,function(d){var p="_."+d[0];u&d[1]&&!Bo(a,p)&&a.push(p)}),a.sort()}(function Du(a){var u=a.match(Ia);return u?u[1].split(is):[]}(p),d)))}function Up(a){var u=0,d=0;return function(){var p=rp(),m=16-(p-d);if(d=p,m>0){if(++u>=800)return arguments[0]}else u=0;return a.apply(_,arguments)}}function Dd(a,u){var d=-1,p=a.length,m=p-1;for(u=u===_?p:u;++d<u;){var b=yo(d,m),D=a[b];a[b]=a[d],a[d]=D}return a.length=u,a}var $p=function Hs(a){var u=Ou(a,function(p){return 500===d.size&&d.clear(),p}),d=u.cache;return u}(function(a){var u=[];return 46===a.charCodeAt(0)&&u.push(""),a.replace(Of,function(d,p,m,b){u.push(m?b.replace(xf,"$1"):p||d)}),u});function Fr(a){if("string"==typeof a||tr(a))return a;var u=a+"";return"0"==u&&1/a==-R?"-0":u}function js(a){if(null!=a){try{return Hc.call(a)}catch(u){}try{return a+""}catch(u){}}return""}function aa(a){if(a instanceof Ct)return a.clone();var u=new Yr(a.__wrapped__,a.__chain__);return u.__actions__=Cr(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}var KE=ot(function(a,u){return _n(a)?xs(a,$n(u,1,_n,!0)):[]}),GE=ot(function(a,u){var d=Ln(u);return _n(d)&&(d=_),_n(a)?xs(a,$n(u,1,_n,!0),Be(d,2)):[]}),zE=ot(function(a,u){var d=Ln(u);return _n(d)&&(d=_),_n(a)?xs(a,$n(u,1,_n,!0),_,d):[]});function Td(a,u,d){var p=null==a?0:a.length;if(!p)return-1;var m=null==d?0:ht(d);return m<0&&(m=Fn(p+m,0)),zl(a,Be(u,3),m)}function zp(a,u,d){var p=null==a?0:a.length;if(!p)return-1;var m=p-1;return d!==_&&(m=ht(d),m=d<0?Fn(p+m,0):yt(m,p-1)),zl(a,Be(u,3),m,!0)}function qp(a){return null!=a&&a.length?$n(a,1):[]}function rl(a){return a&&a.length?a[0]:_}var Xv=ot(function(a){var u=Ot(a,yr);return u.length&&u[0]===a[0]?Fs(u):[]}),Sn=ot(function(a){var u=Ln(a),d=Ot(a,yr);return u===Ln(d)?u=_:d.pop(),d.length&&d[0]===a[0]?Fs(d,Be(u,2)):[]}),Zp=ot(function(a){var u=Ln(a),d=Ot(a,yr);return(u="function"==typeof u?u:_)&&d.pop(),d.length&&d[0]===a[0]?Fs(d,_,u):[]});function Ln(a){var u=null==a?0:a.length;return u?a[u-1]:_}var ty=ot(Xp);function Xp(a,u){return a&&a.length&&u&&u.length?Nn(a,u):a}var ZE=_i(function(a,u){var d=null==a?0:a.length,p=iu(a,u);return fu(a,Ot(u,function(m){return yi(m,d)?+m:m}).sort(gu)),p});function Eo(a){return null==a?a:Cv.call(a)}var ly=ot(function(a){return ni($n(a,1,_n,!0))}),uy=ot(function(a){var u=Ln(a);return _n(u)&&(u=_),ni($n(a,1,_n,!0),Be(u,2))}),Od=ot(function(a){var u=Ln(a);return u="function"==typeof u?u:_,ni($n(a,1,_n,!0),_,u)});function Fd(a){if(!a||!a.length)return[];var u=0;return a=xi(a,function(d){if(_n(d))return u=Fn(d.length,u),!0}),ao(u,function(d){return Ot(a,Fi(d))})}function ig(a,u){if(!a||!a.length)return[];var d=Fd(a);return null==u?d:Ot(d,function(p){return qr(u,_,p)})}var sl=ot(function(a,u){return _n(a)?xs(a,u):[]}),hy=ot(function(a){return wp(xi(a,_n))}),fy=ot(function(a){var u=Ln(a);return _n(u)&&(u=_),wp(xi(a,_n),Be(u,2))}),py=ot(function(a){var u=Ln(a);return u="function"==typeof u?u:_,wp(xi(a,_n),_,u)}),gy=ot(Fd),_y=ot(function(a){var u=a.length,d=u>1?a[u-1]:_;return d="function"==typeof d?(a.pop(),d):_,ig(a,d)});function og(a){var u=y(a);return u.__chain__=!0,u}function Mu(a,u){return u(a)}var yy=_i(function(a){var u=a.length,d=u?a[0]:0,p=this.__wrapped__,m=function(b){return iu(b,a)};return!(u>1||this.__actions__.length)&&p instanceof Ct&&yi(d)?((p=p.slice(d,+d+(u?1:0))).__actions__.push({func:Mu,args:[m],thisArg:_}),new Yr(p,this.__chain__).thru(function(b){return u&&!b.length&&b.push(_),b})):this.thru(m)}),ag=mu(function(a,u,d){Wt.call(a,d)?++a[d]:ls(a,d,1)}),kd=Pp(Td),Nd=Pp(zp);function Ld(a,u){return(ut(a)?Hn:Hi)(a,Be(u,3))}function Bd(a,u){return(ut(a)?qt:sd)(a,Be(u,3))}var Vd=mu(function(a,u,d){Wt.call(a,d)?a[d].push(u):ls(a,d,[u])}),ug=ot(function(a,u,d){var p=-1,m="function"==typeof u,b=Er(a)?z(a.length):[];return Hi(a,function(D){b[++p]=m?qr(u,D,d):Ui(D,u,d)}),b}),tw=mu(function(a,u,d){ls(a,d,u)});function hs(a,u){return(ut(a)?Ot:hd)(a,Be(u,3))}var cg=mu(function(a,u,d){a[d?0:1].push(u)},function(){return[[],[]]}),dg=ot(function(a,u){if(null==a)return[];var d=u.length;return d>1&&Jn(a,u[0],u[1])?u=[]:d>2&&Jn(u[0],u[1],u[2])&&(u=[u[0]]),vp(a,$n(u,1),[])}),ua=Zr||function(){return Rn.Date.now()};function Iu(a,u,d){return u=d?_:u,cs(a,128,_,_,_,_,u=a&&null==u?a.length:u)}function fg(a,u){var d;if("function"!=typeof u)throw new gi(U);return a=ht(a),function(){return--a>0&&(d=u.apply(this,arguments)),a<=1&&(u=_),d}}var $d=ot(function(a,u,d){var p=1;if(d.length){var m=xr(d,vi($d));p|=32}return cs(a,p,u,d,m)}),Wd=ot(function(a,u,d){var p=3;if(d.length){var m=xr(d,vi(Wd));p|=32}return cs(u,p,a,d,m)});function Gd(a,u,d){var p,m,b,D,M,B,re=0,ie=!1,he=!1,Ce=!0;if("function"!=typeof a)throw new gi(U);function Fe(vn){var oi=p,qi=m;return p=m=_,re=vn,D=a.apply(qi,oi)}function Ue(vn){return re=vn,M=nl(bt,u),ie?Fe(vn):D}function $e(vn){var oi=vn-B;return B===_||oi>=u||oi<0||he&&vn-re>=b}function bt(){var vn=ua();if($e(vn))return Dt(vn);M=nl(bt,function gt(vn){var bb=u-(vn-B);return he?yt(bb,b-(vn-re)):bb}(vn))}function Dt(vn){return M=_,Ce&&p?Fe(vn):(p=m=_,D)}function pr(){var vn=ua(),oi=$e(vn);if(p=arguments,m=this,B=vn,oi){if(M===_)return Ue(B);if(he)return _d(M),M=nl(bt,u),Fe(B)}return M===_&&(M=nl(bt,u)),D}return u=Ei(u)||0,xe(d)&&(ie=!!d.leading,b=(he="maxWait"in d)?Fn(Ei(d.maxWait)||0,u):b,Ce="trailing"in d?!!d.trailing:Ce),pr.cancel=function si(){M!==_&&_d(M),re=0,p=B=m=M=_},pr.flush=function Dr(){return M===_?D:Dt(ua())},pr}var pg=ot(function(a,u){return Ka(a,1,u)}),Ry=ot(function(a,u,d){return Ka(a,Ei(u)||0,d)});function Ou(a,u){if("function"!=typeof a||null!=u&&"function"!=typeof u)throw new gi(U);var d=function(){var p=arguments,m=u?u.apply(this,p):p[0],b=d.cache;if(b.has(m))return b.get(m);var D=a.apply(this,p);return d.cache=b.set(m,D)||b,D};return d.cache=new(Ou.Cache||Vi),d}function al(a){if("function"!=typeof a)throw new gi(U);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}Ou.Cache=Vi;var mg=pu(function(a,u){var d=(u=1==u.length&&ut(u[0])?Ot(u[0],$t(Be())):Ot($n(u,1),$t(Be()))).length;return ot(function(p){for(var m=-1,b=yt(p.length,d);++m<b;)p[m]=u[m].call(this,p[m]);return qr(a,this,p)})}),ll=ot(function(a,u){var d=xr(u,vi(ll));return cs(a,32,_,u,d)}),zd=ot(function(a,u){var d=xr(u,vi(zd));return cs(a,64,_,u,d)}),xu=_i(function(a,u){return cs(a,256,_,_,_,u)});function Nr(a,u){return a===u||a!=a&&u!=u}var Cg=Xa(qa),nw=Xa(function(a,u){return a>=u}),$s=au(function(){return arguments}())?au:function(a){return cn(a)&&Wt.call(a,"callee")&&!np.call(a,"callee")},ut=z.isArray,Eg=zr?$t(zr):function lu(a){return cn(a)&&Yn(a)==Ll};function Er(a){return null!=a&&Je(a.length)&&!fs(a)}function _n(a){return cn(a)&&Er(a)}var Ws=vv||Ch,wg=zf?$t(zf):function LE(a){return cn(a)&&Yn(a)==rt};function ku(a){if(!cn(a))return!1;var u=Yn(a);return u==Jt||"[object DOMException]"==u||"string"==typeof a.message&&"string"==typeof a.name&&!ca(a)}function fs(a){if(!xe(a))return!1;var u=Yn(a);return u==Tr||u==ft||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Dg(a){return"number"==typeof a&&a==ht(a)}function Je(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=K}function xe(a){var u=typeof a;return null!=a&&("object"==u||"function"==u)}function cn(a){return null!=a&&"object"==typeof a}var Zd=qf?$t(qf):function Iv(a){return cn(a)&&Xn(a)==Ze};function Lu(a){return"number"==typeof a||cn(a)&&Yn(a)==or}function ca(a){if(!cn(a)||Yn(a)!=Mr)return!1;var u=Un(a);if(null===u)return!0;var d=Wt.call(u,"constructor")&&u.constructor;return"function"==typeof d&&d instanceof d&&Hc.call(d)==ep}var cl=Qf?$t(Qf):function ud(a){return cn(a)&&Yn(a)==Ir},Xd=fv?$t(fv):function cd(a){return cn(a)&&Xn(a)==ar};function Jd(a){return"string"==typeof a||!ut(a)&&cn(a)&&Yn(a)==Nl}function tr(a){return"symbol"==typeof a||cn(a)&&Yn(a)==Ec}var gs=jt?$t(jt):function uu(a){return cn(a)&&Je(a.length)&&!!rn[Yn(a)]},iw=Xa(cu),jy=Xa(function(a,u){return a<=u});function Ag(a){if(!a)return[];if(Er(a))return Jd(a)?gn(a):Cr(a);if(Uo&&a[Uo])return function Vo(N){for(var Y,z=[];!(Y=N.next()).done;)z.push(Y.value);return z}(a[Uo]());var u=Xn(a);return(u==Ze?lt:u==ar?Ho:_s)(a)}function ms(a){return a?(a=Ei(a))===R||a===-R?17976931348623157e292*(a<0?-1:1):a==a?a:0:0===a?a:0}function ht(a){var u=ms(a),d=u%1;return u==u?d?u-d:u:0}function rh(a){return a?_o(ht(a),0,G):0}function Ei(a){if("number"==typeof a)return a;if(tr(a))return NaN;if(xe(a)){var u="function"==typeof a.valueOf?a.valueOf():a;a=xe(u)?u+"":u}if("string"!=typeof a)return 0===a?a:+a;a=Ts(a);var d=X_.test(a);return d||kf.test(a)?xc(a.slice(2),d?2:8):Ra.test(a)?NaN:+a}function Pg(a){return Wi(a,wr(a))}function kt(a){return null==a?"":ti(a)}var Tg=bo(function(a,u){if(el(u)||Er(u))Wi(u,Pn(u),a);else for(var d in u)Wt.call(u,d)&&Ua(a,d,u[d])}),Mg=bo(function(a,u){Wi(u,wr(u),a)}),da=bo(function(a,u,d,p){Wi(u,wr(u),a,p)}),ow=bo(function(a,u,d,p){Wi(u,Pn(u),a,p)}),aw=_i(iu),uw=ot(function(a,u){a=tn(a);var d=-1,p=u.length,m=p>2?u[2]:_;for(m&&Jn(u[0],u[1],m)&&(p=1);++d<p;)for(var b=u[d],D=wr(b),M=-1,B=D.length;++M<B;){var re=D[M],ie=a[re];(ie===_||Nr(ie,Va[re])&&!Wt.call(a,re))&&(a[re]=b[re])}return a}),cw=ot(function(a){return a.push(_,ds),qr(Rg,_,a)});function Bu(a,u,d){var p=null==a?_:qo(a,u);return p===_?d:p}function Vu(a,u){return null!=a&&Su(a,u,fp)}var oh=Mp(function(a,u,d){null!=u&&"function"!=typeof u.toString&&(u=jc.call(u)),a[u]=d},gh(Wn)),$y=Mp(function(a,u,d){null!=u&&"function"!=typeof u.toString&&(u=jc.call(u)),Wt.call(a,u)?a[u].push(d):a[u]=[d]},Be),Gs=ot(Ui);function Pn(a){return Er(a)?nd(a):dd(a)}function wr(a){return Er(a)?nd(a,!0):function mp(a){if(!xe(a))return function Gv(a){var u=[];if(null!=a)for(var d in tn(a))u.push(d);return u}(a);var u=el(a),d=[];for(var p in a)"constructor"==p&&(u||!Wt.call(a,p))||d.push(p);return d}(a)}var Ig=bo(function(a,u,d){du(a,u,d)}),Rg=bo(function(a,u,d,p){du(a,u,d,p)}),Ky=_i(function(a,u){var d={};if(null==a)return d;var p=!1;u=Ot(u,function(b){return b=us(b,a),p||(p=b.length>1),b}),Wi(a,Cu(a),d),p&&(d=Jr(d,7,Rp));for(var m=u.length;m--;)Ep(d,u[m]);return d}),ha=_i(function(a,u){return null==a?{}:function yp(a,u){return pd(a,u,function(d,p){return Vu(a,p)})}(a,u)});function Hu(a,u){if(null==a)return{};var d=Ot(Cu(a),function(p){return[p]});return u=Be(u),pd(a,d,function(p,m){return u(p,m[0])})}var Og=Ip(Pn),lh=Ip(wr);function _s(a){return null==a?[]:Nc(a,Pn(a))}var Lg=Ns(function(a,u,d){return u=u.toLowerCase(),a+(d?Bg(u):u)});function Bg(a){return ph(kt(a).toLowerCase())}function dh(a){return(a=kt(a))&&a.replace(ev,Or).replace(IE,"")}var Qy=Ns(function(a,u,d){return a+(d?"-":"")+u.toLowerCase()}),Zy=Ns(function(a,u,d){return a+(d?" ":"")+u.toLowerCase()}),_w=ra("toLowerCase"),Xy=Ns(function(a,u,d){return a+(d?"_":"")+u.toLowerCase()}),eb=Ns(function(a,u,d){return a+(d?" ":"")+ph(u)}),fh=Ns(function(a,u,d){return a+(d?" ":"")+u.toUpperCase()}),ph=ra("toUpperCase");function Kg(a,u,d){return a=kt(a),(u=d?_:u)===_?function Na(N){return Rc.test(N)}(a)?function pi(N){return N.match(RE)||[]}(a):function Xf(N){return N.match(wE)||[]}(a):a.match(u)||[]}var sb=ot(function(a,u){try{return qr(a,_,u)}catch(d){return ku(d)?d:new st(d)}}),Gg=_i(function(a,u){return Hn(u,function(d){d=Fr(d),ls(a,d,$d(a[d],a))}),a});function gh(a){return function(){return a}}var lb=Tp(),ub=Tp(!0);function Wn(a){return a}function fl(a){return Qa("function"==typeof a?a:Jr(a,1))}var vh=ot(function(a,u){return function(d){return Ui(d,a,u)}}),zg=ot(function(a,u){return function(d){return Ui(a,d,u)}});function yh(a,u,d){var p=Pn(u),m=ad(u,p);null==d&&(!xe(u)||!m.length&&p.length)&&(d=u,u=a,a=this,m=ad(u,Pn(u)));var b=!(xe(d)&&"chain"in d&&!d.chain),D=fs(a);return Hn(m,function(M){var B=u[M];a[M]=B,D&&(a.prototype[M]=function(){var re=this.__chain__;if(b||re){var ie=a(this.__wrapped__),he=ie.__actions__=Cr(this.__actions__);return he.push({func:B,args:arguments,thisArg:a}),ie.__chain__=re,ie}return B.apply(a,Qr([this.value()],arguments))})}),a}function pl(){}var hb=vu(Ot),qg=vu(Fa),Qg=vu(kc);function bh(a){return Pu(a)?Fi(Fr(a)):function Xo(a){return function(u){return qo(u,a)}}(a)}var Yg=bd(),vs=bd(!0);function ga(){return[]}function Ch(){return!1}var pb=Bs(function(a,u){return a+u},0),Dh=Co("ceil"),Jg=Bs(function(a,u){return a/u},1),em=Co("floor"),ma=Bs(function(a,u){return a*u},1),rm=Co("round"),vb=Bs(function(a,u){return a-u},0);return y.after=function hg(a,u){if("function"!=typeof u)throw new gi(U);return a=ht(a),function(){if(--a<1)return u.apply(this,arguments)}},y.ary=Iu,y.assign=Tg,y.assignIn=Mg,y.assignInWith=da,y.assignWith=ow,y.at=aw,y.before=fg,y.bind=$d,y.bindAll=Gg,y.bindKey=Wd,y.castArray=function ul(){if(!arguments.length)return[];var a=arguments[0];return ut(a)?a:[a]},y.chain=og,y.chunk=function Wp(a,u,d){u=(d?Jn(a,u,d):u===_)?1:Fn(ht(u),0);var p=null==a?0:a.length;if(!p||u<1)return[];for(var m=0,b=0,D=z(Yl(p/u));m<p;)D[b++]=ei(a,m,m+=u);return D},y.compact=function Kp(a){for(var u=-1,d=null==a?0:a.length,p=0,m=[];++u<d;){var b=a[u];b&&(m[p++]=b)}return m},y.concat=function Gp(){var a=arguments.length;if(!a)return[];for(var u=z(a-1),d=arguments[0],p=a;p--;)u[p-1]=arguments[p];return Qr(ut(d)?Cr(d):[d],$n(u,1))},y.cond=function ob(a){var u=null==a?0:a.length,d=Be();return a=u?Ot(a,function(p){if("function"!=typeof p[1])throw new gi(U);return[d(p[0]),p[1]]}):[],ot(function(p){for(var m=-1;++m<u;){var b=a[m];if(qr(b[0],this,p))return qr(b[1],this,p)}})},y.conforms=function ab(a){return function Pv(a){var u=Pn(a);return function(d){return Wa(d,a,u)}}(Jr(a,1))},y.constant=gh,y.countBy=ag,y.create=function lw(a,u){var d=Go(a);return null==u?d:un(d,u)},y.curry=function Kd(a,u,d){var p=cs(a,8,_,_,_,_,_,u=d?_:u);return p.placeholder=Kd.placeholder,p},y.curryRight=function Us(a,u,d){var p=cs(a,16,_,_,_,_,_,u=d?_:u);return p.placeholder=Us.placeholder,p},y.debounce=Gd,y.defaults=uw,y.defaultsDeep=cw,y.defer=pg,y.delay=Ry,y.difference=KE,y.differenceBy=GE,y.differenceWith=zE,y.drop=function Sd(a,u,d){var p=null==a?0:a.length;return p?ei(a,(u=d||u===_?1:ht(u))<0?0:u,p):[]},y.dropRight=function Ad(a,u,d){var p=null==a?0:a.length;return p?ei(a,0,(u=p-(u=d||u===_?1:ht(u)))<0?0:u):[]},y.dropRightWhile=function Pd(a,u){return a&&a.length?ea(a,Be(u,3),!0,!0):[]},y.dropWhile=function qE(a,u){return a&&a.length?ea(a,Be(u,3),!0):[]},y.fill=function QE(a,u,d,p){var m=null==a?0:a.length;return m?(d&&"number"!=typeof d&&Jn(a,u,d)&&(d=0,p=m),function Ga(a,u,d,p){var m=a.length;for((d=ht(d))<0&&(d=-d>m?0:m+d),(p=p===_||p>m?m:ht(p))<0&&(p+=m),p=d>p?0:rh(p);d<p;)a[d++]=u;return a}(a,u,d,p)):[]},y.filter=function kr(a,u){return(ut(a)?xi:hp)(a,Be(u,3))},y.flatMap=function wy(a,u){return $n(hs(a,u),1)},y.flatMapDeep=function lg(a,u){return $n(hs(a,u),R)},y.flatMapDepth=function ol(a,u,d){return d=d===_?1:ht(d),$n(hs(a,u),d)},y.flatten=qp,y.flattenDeep=function Qv(a){return null!=a&&a.length?$n(a,R):[]},y.flattenDepth=function Zv(a,u){return null!=a&&a.length?$n(a,u=u===_?1:ht(u)):[]},y.flip=function Ru(a){return cs(a,512)},y.flow=lb,y.flowRight=ub,y.fromPairs=function Qp(a){for(var u=-1,d=null==a?0:a.length,p={};++u<d;){var m=a[u];p[m[0]]=m[1]}return p},y.functions=function ih(a){return null==a?[]:ad(a,Pn(a))},y.functionsIn=function Uy(a){return null==a?[]:ad(a,wr(a))},y.groupBy=Vd,y.initial=function Md(a){return null!=a&&a.length?ei(a,0,-1):[]},y.intersection=Xv,y.intersectionBy=Sn,y.intersectionWith=Zp,y.invert=oh,y.invertBy=$y,y.invokeMap=ug,y.iteratee=fl,y.keyBy=tw,y.keys=Pn,y.keysIn=wr,y.map=hs,y.mapKeys=function ah(a,u){var d={};return u=Be(u,3),ji(a,function(p,m,b){ls(d,u(p,m,b),p)}),d},y.mapValues=function Wy(a,u){var d={};return u=Be(u,3),ji(a,function(p,m,b){ls(d,m,u(p,m,b))}),d},y.matches=function cb(a){return fd(Jr(a,1))},y.matchesProperty=function _h(a,u){return _p(a,Jr(u,1))},y.memoize=Ou,y.merge=Ig,y.mergeWith=Rg,y.method=vh,y.methodOf=zg,y.mixin=yh,y.negate=al,y.nthArg=function bw(a){return a=ht(a),ot(function(u){return Yo(u,a)})},y.omit=Ky,y.omitBy=function dl(a,u){return Hu(a,al(Be(u)))},y.once=function gg(a){return fg(2,a)},y.orderBy=function jd(a,u,d,p){return null==a?[]:(ut(u)||(u=null==u?[]:[u]),ut(d=p?_:d)||(d=null==d?[]:[d]),vp(a,u,d))},y.over=hb,y.overArgs=mg,y.overEvery=qg,y.overSome=Qg,y.partial=ll,y.partialRight=zd,y.partition=cg,y.pick=ha,y.pickBy=Hu,y.property=bh,y.propertyOf=function Zg(a){return function(u){return null==a?_:qo(a,u)}},y.pull=ty,y.pullAll=Xp,y.pullAllBy=function ny(a,u,d){return a&&a.length&&u&&u.length?Nn(a,u,Be(d,2)):a},y.pullAllWith=function ry(a,u,d){return a&&a.length&&u&&u.length?Nn(a,u,_,d):a},y.pullAt=ZE,y.range=Yg,y.rangeRight=vs,y.rearg=xu,y.reject=function Sy(a,u){return(ut(a)?xi:hp)(a,al(Be(u,3)))},y.remove=function YE(a,u){var d=[];if(!a||!a.length)return d;var p=-1,m=[],b=a.length;for(u=Be(u,3);++p<b;){var D=a[p];u(D,p,a)&&(d.push(D),m.push(p))}return fu(a,m),d},y.rest=function Fu(a,u){if("function"!=typeof a)throw new gi(U);return ot(a,u=u===_?u:ht(u))},y.reverse=Eo,y.sampleSize=function Py(a,u,d){return u=(d?Jn(a,u,d):u===_)?1:ht(u),(ut(a)?dp:gd)(a,u)},y.set=function hl(a,u,d){return null==a?a:$i(a,u,d)},y.setWith=function pa(a,u,d,p){return p="function"==typeof p?p:_,null==a?a:$i(a,u,d,p)},y.shuffle=function Ty(a){return(ut(a)?ru:Ve)(a)},y.slice=function fr(a,u,d){var p=null==a?0:a.length;return p?(d&&"number"!=typeof d&&Jn(a,u,d)?(u=0,d=p):(u=null==u?0:ht(u),d=d===_?p:ht(d)),ei(a,u,d)):[]},y.sortBy=dg,y.sortedUniq=function iy(a){return a&&a.length?xv(a):[]},y.sortedUniqBy=function sy(a,u){return a&&a.length?xv(a,Be(u,2)):[]},y.split=function Jy(a,u,d){return d&&"number"!=typeof d&&Jn(a,u,d)&&(u=d=_),(d=d===_?G:d>>>0)?(a=kt(a))&&("string"==typeof u||null!=u&&!cl(u))&&!(u=ti(u))&&en(a)?ii(gn(a),0,d):a.split(u,d):[]},y.spread=function _g(a,u){if("function"!=typeof a)throw new gi(U);return u=null==u?0:Fn(ht(u),0),ot(function(d){var p=d[u],m=ii(d,0,u);return p&&Qr(m,p),qr(a,this,m)})},y.tail=function tg(a){var u=null==a?0:a.length;return u?ei(a,1,u):[]},y.take=function oy(a,u,d){return a&&a.length?ei(a,0,(u=d||u===_?1:ht(u))<0?0:u):[]},y.takeRight=function ng(a,u,d){var p=null==a?0:a.length;return p?ei(a,(u=p-(u=d||u===_?1:ht(u)))<0?0:u,p):[]},y.takeRightWhile=function ay(a,u){return a&&a.length?ea(a,Be(u,3),!1,!0):[]},y.takeWhile=function rg(a,u){return a&&a.length?ea(a,Be(u,3)):[]},y.tap=function vy(a,u){return u(a),a},y.throttle=function qd(a,u,d){var p=!0,m=!0;if("function"!=typeof a)throw new gi(U);return xe(d)&&(p="leading"in d?!!d.leading:p,m="trailing"in d?!!d.trailing:m),Gd(a,u,{leading:p,maxWait:u,trailing:m})},y.thru=Mu,y.toArray=Ag,y.toPairs=Og,y.toPairsIn=lh,y.toPath=function wh(a){return ut(a)?Ot(a,Fr):tr(a)?[a]:Cr($p(kt(a)))},y.toPlainObject=Pg,y.transform=function xg(a,u,d){var p=ut(a),m=p||Ws(a)||gs(a);if(u=Be(u,4),null==d){var b=a&&a.constructor;d=m?p?new b:[]:xe(a)&&fs(b)?Go(Un(a)):{}}return(m?Hn:ji)(a,function(D,M,B){return u(d,D,M,B)}),d},y.unary=function vg(a){return Iu(a,1)},y.union=ly,y.unionBy=uy,y.unionWith=Od,y.uniq=function cy(a){return a&&a.length?ni(a):[]},y.uniqBy=function dy(a,u){return a&&a.length?ni(a,Be(u,2)):[]},y.uniqWith=function xd(a,u){return u="function"==typeof u?u:_,a&&a.length?ni(a,_,u):[]},y.unset=function uh(a,u){return null==a||Ep(a,u)},y.unzip=Fd,y.unzipWith=ig,y.update=function ch(a,u,d){return null==a?a:Dn(a,u,ri(d))},y.updateWith=function Fg(a,u,d,p){return p="function"==typeof p?p:_,null==a?a:Dn(a,u,ri(d),p)},y.values=_s,y.valuesIn=function Gy(a){return null==a?[]:Nc(a,wr(a))},y.without=sl,y.words=Kg,y.wrap=function Qd(a,u){return ll(ri(u),a)},y.xor=hy,y.xorBy=fy,y.xorWith=py,y.zip=gy,y.zipObject=function my(a,u){return Dp(a||[],u||[],Ua)},y.zipObjectDeep=function sg(a,u){return Dp(a||[],u||[],$i)},y.zipWith=_y,y.entries=Og,y.entriesIn=lh,y.extend=Mg,y.extendWith=da,yh(y,y),y.add=pb,y.attempt=sb,y.camelCase=Lg,y.capitalize=Bg,y.ceil=Dh,y.clamp=function kg(a,u,d){return d===_&&(d=u,u=_),d!==_&&(d=(d=Ei(d))==d?d:0),u!==_&&(u=(u=Ei(u))==u?u:0),_o(Ei(a),u,d)},y.clone=function Oy(a){return Jr(a,4)},y.cloneDeep=function xy(a){return Jr(a,5)},y.cloneDeepWith=function Fy(a,u){return Jr(a,5,u="function"==typeof u?u:_)},y.cloneWith=function yg(a,u){return Jr(a,4,u="function"==typeof u?u:_)},y.conformsTo=function bg(a,u){return null==u||Wa(a,u,Pn(u))},y.deburr=dh,y.defaultTo=function mh(a,u){return null==a||a!=a?u:a},y.divide=Jg,y.endsWith=function zy(a,u,d){a=kt(a),u=ti(u);var p=a.length,m=d=d===_?p:_o(ht(d),0,p);return(d-=u.length)>=0&&a.slice(d,m)==u},y.eq=Nr,y.escape=function qy(a){return(a=kt(a))&&If.test(a)?a.replace(Sc,lo):a},y.escapeRegExp=function Lr(a){return(a=kt(a))&&Q_.test(a)?a.replace(Ac,"\\$&"):a},y.every=function ew(a,u,d){var p=ut(a)?Fa:Tv;return d&&Jn(a,u,d)&&(u=_),p(a,Be(u,3))},y.find=kd,y.findIndex=Td,y.findKey=function dw(a,u){return cr(a,Be(u,3),ji)},y.findLast=Nd,y.findLastIndex=zp,y.findLastKey=function hw(a,u){return cr(a,Be(u,3),od)},y.floor=em,y.forEach=Ld,y.forEachRight=Bd,y.forIn=function fw(a,u){return null==a?a:vo(a,Be(u,3),wr)},y.forInRight=function pw(a,u){return null==a?a:su(a,Be(u,3),wr)},y.forOwn=function gw(a,u){return a&&ji(a,Be(u,3))},y.forOwnRight=function Ks(a,u){return a&&od(a,Be(u,3))},y.get=Bu,y.gt=Cg,y.gte=nw,y.has=function sh(a,u){return null!=a&&Su(a,u,ou)},y.hasIn=Vu,y.head=rl,y.identity=Wn,y.includes=function Hd(a,u,d,p){a=Er(a)?a:_s(a),d=d&&!p?ht(d):0;var m=a.length;return d<0&&(d=Fn(m+d,0)),Jd(a)?d<=m&&a.indexOf(u,d)>-1:!!m&&oo(a,u,d)>-1},y.indexOf=function Yv(a,u,d){var p=null==a?0:a.length;if(!p)return-1;var m=null==d?0:ht(d);return m<0&&(m=Fn(p+m,0)),oo(a,u,m)},y.inRange=function mw(a,u,d){return u=ms(u),d===_?(d=u,u=0):d=ms(d),function pp(a,u,d){return a>=yt(u,d)&&a<Fn(u,d)}(a=Ei(a),u,d)},y.invoke=Gs,y.isArguments=$s,y.isArray=ut,y.isArrayBuffer=Eg,y.isArrayLike=Er,y.isArrayLikeObject=_n,y.isBoolean=function bi(a){return!0===a||!1===a||cn(a)&&Yn(a)==ve},y.isBuffer=Ws,y.isDate=wg,y.isElement=function ky(a){return cn(a)&&1===a.nodeType&&!ca(a)},y.isEmpty=function Ny(a){if(null==a)return!0;if(Er(a)&&(ut(a)||"string"==typeof a||"function"==typeof a.splice||Ws(a)||gs(a)||$s(a)))return!a.length;var u=Xn(a);if(u==Ze||u==ar)return!a.size;if(el(a))return!dd(a).length;for(var d in a)if(Wt.call(a,d))return!1;return!0},y.isEqual=function Ly(a,u){return Qo(a,u)},y.isEqualWith=function By(a,u,d){var p=(d="function"==typeof d?d:_)?d(a,u):_;return p===_?Qo(a,u,_,d):!!p},y.isError=ku,y.isFinite=function Vy(a){return"number"==typeof a&&Xl(a)},y.isFunction=fs,y.isInteger=Dg,y.isLength=Je,y.isMap=Zd,y.isMatch=function Nu(a,u){return a===u||ld(a,u,xp(u))},y.isMatchWith=function Ci(a,u,d){return d="function"==typeof d?d:_,ld(a,u,xp(u),d)},y.isNaN=function Sg(a){return Lu(a)&&a!=+a},y.isNative=function Hy(a){if(Kv(a))throw new st("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Zo(a)},y.isNil=function ps(a){return null==a},y.isNull=function Yd(a){return null===a},y.isNumber=Lu,y.isObject=xe,y.isObjectLike=cn,y.isPlainObject=ca,y.isRegExp=cl,y.isSafeInteger=function rw(a){return Dg(a)&&a>=-K&&a<=K},y.isSet=Xd,y.isString=Jd,y.isSymbol=tr,y.isTypedArray=gs,y.isUndefined=function eh(a){return a===_},y.isWeakMap=function th(a){return cn(a)&&Xn(a)==ci},y.isWeakSet=function nh(a){return cn(a)&&"[object WeakSet]"==Yn(a)},y.join=function Jv(a,u){return null==a?"":yv.call(a,u)},y.kebabCase=Qy,y.last=Ln,y.lastIndexOf=function Yp(a,u,d){var p=null==a?0:a.length;if(!p)return-1;var m=p;return d!==_&&(m=(m=ht(d))<0?Fn(p+m,0):yt(m,p-1)),u==u?function Ba(N,Y,z){for(var Te=z+1;Te--;)if(N[Te]===Y)return Te;return Te}(a,u,m):zl(a,dr,m,!0)},y.lowerCase=Zy,y.lowerFirst=_w,y.lt=iw,y.lte=jy,y.max=function tm(a){return a&&a.length?mi(a,Wn,qa):_},y.maxBy=function gb(a,u){return a&&a.length?mi(a,Be(u,2),qa):_},y.mean=function Sh(a){return jn(a,Wn)},y.meanBy=function mb(a,u){return jn(a,Be(u,2))},y.min=function _b(a){return a&&a.length?mi(a,Wn,cu):_},y.minBy=function nm(a,u){return a&&a.length?mi(a,Be(u,2),cu):_},y.stubArray=ga,y.stubFalse=Ch,y.stubObject=function fb(){return{}},y.stubString=function Cw(){return""},y.stubTrue=function Eh(){return!0},y.multiply=ma,y.nth=function ey(a,u){return a&&a.length?Yo(a,ht(u)):_},y.noConflict=function db(){return Rn._===this&&(Rn._=Uc),this},y.noop=pl,y.now=ua,y.pad=function vw(a,u,d){a=kt(a);var p=(u=ht(u))?fi(a):0;if(!u||p>=u)return a;var m=(u-p)/2;return yu(Wo(m),d)+a+yu(Yl(m),d)},y.padEnd=function Vg(a,u,d){a=kt(a);var p=(u=ht(u))?fi(a):0;return u&&p<u?a+yu(u-p,d):a},y.padStart=function yw(a,u,d){a=kt(a);var p=(u=ht(u))?fi(a):0;return u&&p<u?yu(u-p,d)+a:a},y.parseInt=function Yy(a,u,d){return d||null==u?u=0:u&&(u=+u),bv(kt(a).replace(di,""),u||0)},y.random=function Ng(a,u,d){if(d&&"boolean"!=typeof d&&Jn(a,u,d)&&(u=d=_),d===_&&("boolean"==typeof u?(d=u,u=_):"boolean"==typeof a&&(d=a,a=_)),a===_&&u===_?(a=0,u=1):(a=ms(a),u===_?(u=a,a=0):u=ms(u)),a>u){var p=a;a=u,u=p}if(d||a%1||u%1){var m=mn();return yt(a+m*(u-a+nt("1e-"+((m+"").length-1))),u)}return yo(a,u)},y.reduce=function Dy(a,u,d){var p=ut(a)?Fc:Rr,m=arguments.length<3;return p(a,Be(u,4),d,m,Hi)},y.reduceRight=function Ud(a,u,d){var p=ut(a)?Ps:Rr,m=arguments.length<3;return p(a,Be(u,4),d,m,sd)},y.repeat=function hh(a,u,d){return u=(d?Jn(a,u,d):u===_)?1:ht(u),ks(kt(a),u)},y.replace=function Hg(){var a=arguments,u=kt(a[0]);return a.length<3?u:u.replace(a[1],a[2])},y.result=function fa(a,u,d){var p=-1,m=(u=us(u,a)).length;for(m||(m=1,a=_);++p<m;){var b=null==a?_:a[Fr(u[p])];b===_&&(p=m,b=d),a=fs(b)?b.call(a):b}return a},y.round=rm,y.runInContext=N,y.sample=function Ay(a){return(ut(a)?rd:bp)(a)},y.size=function My(a){if(null==a)return 0;if(Er(a))return Jd(a)?fi(a):a.length;var u=Xn(a);return u==Ze||u==ar?a.size:dd(a).length},y.snakeCase=Xy,y.some=function Iy(a,u,d){var p=ut(a)?kc:BE;return d&&Jn(a,u,d)&&(u=_),p(a,Be(u,3))},y.sortedIndex=function Id(a,u){return md(a,u)},y.sortedIndexBy=function Jp(a,u,d){return Cp(a,u,Be(d,2))},y.sortedIndexOf=function eg(a,u){var d=null==a?0:a.length;if(d){var p=md(a,u);if(p<d&&Nr(a[p],u))return p}return-1},y.sortedLastIndex=function er(a,u){return md(a,u,!0)},y.sortedLastIndexBy=function il(a,u,d){return Cp(a,u,Be(d,2),!0)},y.sortedLastIndexOf=function Rd(a,u){if(null!=a&&a.length){var p=md(a,u,!0)-1;if(Nr(a[p],u))return p}return-1},y.startCase=eb,y.startsWith=function jg(a,u,d){return a=kt(a),d=null==d?0:_o(ht(d),0,a.length),u=ti(u),a.slice(d,d+u.length)==u},y.subtract=vb,y.sum=function yb(a){return a&&a.length?ka(a,Wn):0},y.sumBy=function _a(a,u){return a&&a.length?ka(a,Be(u,2)):0},y.template=function tb(a,u,d){var p=y.templateSettings;d&&Jn(a,u,d)&&(u=_),a=kt(a),u=da({},u,p,Ja);var M,B,m=da({},u.imports,p.imports,Ja),b=Pn(m),D=Nc(m,b),re=0,ie=u.interpolate||jl,he="__p += '",Ce=Jf((u.escape||jl).source+"|"+ie.source+"|"+(ie===Rf?Pc:jl).source+"|"+(u.evaluate||jl).source+"|$","g"),Fe="//# sourceURL="+(Wt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cv+"]")+"\n";a.replace(Ce,function($e,bt,Dt,si,Dr,pr){return Dt||(Dt=si),he+=a.slice(re,pr).replace(tv,On),bt&&(M=!0,he+="' +\n__e("+bt+") +\n'"),Dr&&(B=!0,he+="';\n"+Dr+";\n__p += '"),Dt&&(he+="' +\n((__t = ("+Dt+")) == null ? '' : __t) +\n'"),re=pr+$e.length,$e}),he+="';\n";var Ue=Wt.call(u,"variable")&&u.variable;if(Ue){if(Y_.test(Ue))throw new st("Invalid `variable` option passed into `_.template`")}else he="with (obj) {\n"+he+"\n}\n";he=(B?he.replace(Pf,""):he).replace(Tf,"$1").replace(K_,"$1;"),he="function("+(Ue||"obj")+") {\n"+(Ue?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(M?", __e = _.escape":"")+(B?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+he+"return __p\n}";var gt=sb(function(){return Ft(b,Fe+"return "+he).apply(_,D)});if(gt.source=he,ku(gt))throw gt;return gt},y.times=function Xg(a,u){if((a=ht(a))<1||a>K)return[];var d=G,p=yt(a,G);u=Be(u),a-=G;for(var m=ao(p,u);++d<a;)u(d);return m},y.toFinite=ms,y.toInteger=ht,y.toLength=rh,y.toLower=function Ug(a){return kt(a).toLowerCase()},y.toNumber=Ei,y.toSafeInteger=function sw(a){return a?_o(ht(a),-K,K):0===a?a:0},y.toString=kt,y.toUpper=function nb(a){return kt(a).toUpperCase()},y.trim=function rb(a,u,d){if((a=kt(a))&&(d||u===_))return Ts(a);if(!a||!(u=ti(u)))return a;var p=gn(a),m=gn(u);return ii(p,Ee(p,m),pt(p,m)+1).join("")},y.trimEnd=function $g(a,u,d){if((a=kt(a))&&(d||u===_))return a.slice(0,Qt(a)+1);if(!a||!(u=ti(u)))return a;var p=gn(a);return ii(p,0,pt(p,gn(u))+1).join("")},y.trimStart=function Wg(a,u,d){if((a=kt(a))&&(d||u===_))return a.replace(di,"");if(!a||!(u=ti(u)))return a;var p=gn(a);return ii(p,Ee(p,gn(u))).join("")},y.truncate=function ib(a,u){var d=30,p="...";if(xe(u)){var m="separator"in u?u.separator:m;d="length"in u?ht(u.length):d,p="omission"in u?ti(u.omission):p}var b=(a=kt(a)).length;if(en(a)){var D=gn(a);b=D.length}if(d>=b)return a;var M=d-fi(p);if(M<1)return p;var B=D?ii(D,0,M).join(""):a.slice(0,M);if(m===_)return B+p;if(D&&(M+=B.length-M),cl(m)){if(a.slice(M).search(m)){var re,ie=B;for(m.global||(m=Jf(m.source,kt(Tc.exec(m))+"g")),m.lastIndex=0;re=m.exec(ie);)var he=re.index;B=B.slice(0,he===_?M:he)}}else if(a.indexOf(ti(m),M)!=M){var Ce=B.lastIndexOf(m);Ce>-1&&(B=B.slice(0,Ce))}return B+p},y.unescape=function zi(a){return(a=kt(a))&&Mf.test(a)?a.replace(Dc,pv):a},y.uniqueId=function gl(a){var u=++kE;return kt(a)+u},y.upperCase=fh,y.upperFirst=ph,y.each=Ld,y.eachRight=Bd,y.first=rl,yh(y,function(){var a={};return ji(y,function(u,d){Wt.call(y.prototype,d)||(a[d]=u)}),a}(),{chain:!1}),y.VERSION="4.17.21",Hn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){y[a].placeholder=y}),Hn(["drop","take"],function(a,u){Ct.prototype[a]=function(d){d=d===_?1:Fn(ht(d),0);var p=this.__filtered__&&!u?new Ct(this):this.clone();return p.__filtered__?p.__takeCount__=yt(d,p.__takeCount__):p.__views__.push({size:yt(d,G),type:a+(p.__dir__<0?"Right":"")}),p},Ct.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),Hn(["filter","map","takeWhile"],function(a,u){var d=u+1,p=1==d||3==d;Ct.prototype[a]=function(m){var b=this.clone();return b.__iteratees__.push({iteratee:Be(m,3),type:d}),b.__filtered__=b.__filtered__||p,b}}),Hn(["head","last"],function(a,u){var d="take"+(u?"Right":"");Ct.prototype[a]=function(){return this[d](1).value()[0]}}),Hn(["initial","tail"],function(a,u){var d="drop"+(u?"":"Right");Ct.prototype[a]=function(){return this.__filtered__?new Ct(this):this[d](1)}}),Ct.prototype.compact=function(){return this.filter(Wn)},Ct.prototype.find=function(a){return this.filter(a).head()},Ct.prototype.findLast=function(a){return this.reverse().find(a)},Ct.prototype.invokeMap=ot(function(a,u){return"function"==typeof a?new Ct(this):this.map(function(d){return Ui(d,a,u)})}),Ct.prototype.reject=function(a){return this.filter(al(Be(a)))},Ct.prototype.slice=function(a,u){a=ht(a);var d=this;return d.__filtered__&&(a>0||u<0)?new Ct(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),u!==_&&(d=(u=ht(u))<0?d.dropRight(-u):d.take(u-a)),d)},Ct.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ct.prototype.toArray=function(){return this.take(G)},ji(Ct.prototype,function(a,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),p=/^(?:head|last)$/.test(u),m=y[p?"take"+("last"==u?"Right":""):u],b=p||/^find/.test(u);!m||(y.prototype[u]=function(){var D=this.__wrapped__,M=p?[1]:arguments,B=D instanceof Ct,re=M[0],ie=B||ut(D),he=function(bt){var Dt=m.apply(y,Qr([bt],M));return p&&Ce?Dt[0]:Dt};ie&&d&&"function"==typeof re&&1!=re.length&&(B=ie=!1);var Ce=this.__chain__,Fe=!!this.__actions__.length,Ue=b&&!Ce,gt=B&&!Fe;if(!b&&ie){D=gt?D:new Ct(this);var $e=a.apply(D,M);return $e.__actions__.push({func:Mu,args:[he],thisArg:_}),new Yr($e,Ce)}return Ue&&gt?a.apply(this,M):($e=this.thru(he),Ue?p?$e.value()[0]:$e.value():$e)})}),Hn(["pop","push","shift","sort","splice","unshift"],function(a){var u=Bc[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",p=/^(?:pop|shift)$/.test(a);y.prototype[a]=function(){var m=arguments;if(p&&!this.__chain__){var b=this.value();return u.apply(ut(b)?b:[],m)}return this[d](function(D){return u.apply(ut(D)?D:[],m)})}}),ji(Ct.prototype,function(a,u){var d=y[u];if(d){var p=d.name+"";Wt.call(go,p)||(go[p]=[]),go[p].push({name:u,func:d})}}),go[Ya(_,2).name]=[{name:"wrapper",func:_}],Ct.prototype.clone=function ce(){var a=new Ct(this.__wrapped__);return a.__actions__=Cr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Cr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Cr(this.__views__),a},Ct.prototype.reverse=function Tt(){if(this.__filtered__){var a=new Ct(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},Ct.prototype.value=function an(){var a=this.__wrapped__.value(),u=this.__dir__,d=ut(a),p=u<0,m=d?a.length:0,b=function Uv(a,u,d){for(var p=-1,m=d.length;++p<m;){var b=d[p],D=b.size;switch(b.type){case"drop":a+=D;break;case"dropRight":u-=D;break;case"take":u=yt(u,a+D);break;case"takeRight":a=Fn(a,u-D)}}return{start:a,end:u}}(0,m,this.__views__),D=b.start,M=b.end,B=M-D,re=p?M:D-1,ie=this.__iteratees__,he=ie.length,Ce=0,Fe=yt(B,this.__takeCount__);if(!d||!p&&m==B&&Fe==B)return ta(a,this.__actions__);var Ue=[];e:for(;B--&&Ce<Fe;){for(var gt=-1,$e=a[re+=u];++gt<he;){var bt=ie[gt],si=bt.type,Dr=(0,bt.iteratee)($e);if(2==si)$e=Dr;else if(!Dr){if(1==si)continue e;break e}}Ue[Ce++]=$e}return Ue},y.prototype.at=yy,y.prototype.chain=function by(){return og(this)},y.prototype.commit=function Cy(){return new Yr(this.value(),this.__chain__)},y.prototype.next=function Ey(){this.__values__===_&&(this.__values__=Ag(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?_:this.__values__[this.__index__++]}},y.prototype.plant=function Gi(a){for(var u,d=this;d instanceof Ha;){var p=aa(d);p.__index__=0,p.__values__=_,u?m.__wrapped__=p:u=p;var m=p;d=d.__wrapped__}return m.__wrapped__=a,u},y.prototype.reverse=function XE(){var a=this.__wrapped__;if(a instanceof Ct){var u=a;return this.__actions__.length&&(u=new Ct(this)),(u=u.reverse()).__actions__.push({func:Mu,args:[Eo],thisArg:_}),new Yr(u,this.__chain__)}return this.thru(Eo)},y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=function JE(){return ta(this.__wrapped__,this.__actions__)},y.prototype.first=y.prototype.head,Uo&&(y.prototype[Uo]=function la(){return this}),y}();Rn._=co,(E=function(){return co}.call(q,O,q,we))!==_&&(we.exports=E)}.call(this)},478:(we,q,O)=>{we.exports=O(993)},582:(we,q,O)=>{"use strict";var E=O(104),_=O(288),T=O(169),I=O(304),k=O(459),U=O(160),V=O(810),ee=O(440);we.exports=function(S){return new Promise(function(oe,ge){var fe=S.data,ne=S.headers,pe=S.responseType;E.isFormData(fe)&&delete ne["Content-Type"];var le=new XMLHttpRequest;if(S.auth){var ye=S.auth.username||"",ue=S.auth.password?unescape(encodeURIComponent(S.auth.password)):"";ne.Authorization="Basic "+btoa(ye+":"+ue)}var Me=k(S.baseURL,S.url);function Pe(){if(le){var Qe="getAllResponseHeaders"in le?U(le.getAllResponseHeaders()):null;_(oe,ge,{data:pe&&"text"!==pe&&"json"!==pe?le.response:le.responseText,status:le.status,statusText:le.statusText,headers:Qe,config:S,request:le}),le=null}}if(le.open(S.method.toUpperCase(),I(Me,S.params,S.paramsSerializer),!0),le.timeout=S.timeout,"onloadend"in le?le.onloadend=Pe:le.onreadystatechange=function(){!le||4!==le.readyState||0===le.status&&(!le.responseURL||0!==le.responseURL.indexOf("file:"))||setTimeout(Pe)},le.onabort=function(){!le||(ge(ee("Request aborted",S,"ECONNABORTED",le)),le=null)},le.onerror=function(){ge(ee("Network Error",S,null,le)),le=null},le.ontimeout=function(){var Ie="timeout of "+S.timeout+"ms exceeded";S.timeoutErrorMessage&&(Ie=S.timeoutErrorMessage),ge(ee(Ie,S,S.transitional&&S.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",le)),le=null},E.isStandardBrowserEnv()){var Ne=(S.withCredentials||V(Me))&&S.xsrfCookieName?T.read(S.xsrfCookieName):void 0;Ne&&(ne[S.xsrfHeaderName]=Ne)}"setRequestHeader"in le&&E.forEach(ne,function(Ie,X){void 0===fe&&"content-type"===X.toLowerCase()?delete ne[X]:le.setRequestHeader(X,Ie)}),E.isUndefined(S.withCredentials)||(le.withCredentials=!!S.withCredentials),pe&&"json"!==pe&&(le.responseType=S.responseType),"function"==typeof S.onDownloadProgress&&le.addEventListener("progress",S.onDownloadProgress),"function"==typeof S.onUploadProgress&&le.upload&&le.upload.addEventListener("progress",S.onUploadProgress),S.cancelToken&&S.cancelToken.promise.then(function(Ie){!le||(le.abort(),ge(Ie),le=null)}),fe||(fe=null),le.send(fe)})}},993:(we,q,O)=>{"use strict";var E=O(104),_=O(787),T=O(260),I=O(42);function U(ee){var W=new T(ee),S=_(T.prototype.request,W);return E.extend(S,T.prototype,W),E.extend(S,W),S}var V=U(O(800));V.Axios=T,V.create=function(W){return U(I(V.defaults,W))},V.Cancel=O(535),V.CancelToken=O(348),V.isCancel=O(396),V.all=function(W){return Promise.all(W)},V.spread=O(91),V.isAxiosError=O(915),we.exports=V,we.exports.default=V},535:we=>{"use strict";function q(O){this.message=O}q.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},q.prototype.__CANCEL__=!0,we.exports=q},348:(we,q,O)=>{"use strict";var E=O(535);function _(T){if("function"!=typeof T)throw new TypeError("executor must be a function.");var I;this.promise=new Promise(function(V){I=V});var k=this;T(function(V){k.reason||(k.reason=new E(V),I(k.reason))})}_.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},_.source=function(){var I;return{token:new _(function(V){I=V}),cancel:I}},we.exports=_},396:we=>{"use strict";we.exports=function(O){return!(!O||!O.__CANCEL__)}},260:(we,q,O)=>{"use strict";var E=O(104),_=O(304),T=O(307),I=O(303),k=O(42),U=O(190),V=U.validators;function ee(W){this.defaults=W,this.interceptors={request:new T,response:new T}}ee.prototype.request=function(S){"string"==typeof S?(S=arguments[1]||{}).url=arguments[0]:S=S||{},(S=k(this.defaults,S)).method=S.method?S.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var te=S.transitional;void 0!==te&&U.assertOptions(te,{silentJSONParsing:V.transitional(V.boolean,"1.0.0"),forcedJSONParsing:V.transitional(V.boolean,"1.0.0"),clarifyTimeoutError:V.transitional(V.boolean,"1.0.0")},!1);var oe=[],ge=!0;this.interceptors.request.forEach(function(Pe){"function"==typeof Pe.runWhen&&!1===Pe.runWhen(S)||(ge=ge&&Pe.synchronous,oe.unshift(Pe.fulfilled,Pe.rejected))});var ne,fe=[];if(this.interceptors.response.forEach(function(Pe){fe.push(Pe.fulfilled,Pe.rejected)}),!ge){var pe=[I,void 0];for(Array.prototype.unshift.apply(pe,oe),pe=pe.concat(fe),ne=Promise.resolve(S);pe.length;)ne=ne.then(pe.shift(),pe.shift());return ne}for(var le=S;oe.length;){var ye=oe.shift(),ue=oe.shift();try{le=ye(le)}catch(Me){ue(Me);break}}try{ne=I(le)}catch(Me){return Promise.reject(Me)}for(;fe.length;)ne=ne.then(fe.shift(),fe.shift());return ne},ee.prototype.getUri=function(S){return S=k(this.defaults,S),_(S.url,S.params,S.paramsSerializer).replace(/^\?/,"")},E.forEach(["delete","get","head","options"],function(S){ee.prototype[S]=function(te,oe){return this.request(k(oe||{},{method:S,url:te,data:(oe||{}).data}))}}),E.forEach(["post","put","patch"],function(S){ee.prototype[S]=function(te,oe,ge){return this.request(k(ge||{},{method:S,url:te,data:oe}))}}),we.exports=ee},307:(we,q,O)=>{"use strict";var E=O(104);function _(){this.handlers=[]}_.prototype.use=function(I,k,U){return this.handlers.push({fulfilled:I,rejected:k,synchronous:!!U&&U.synchronous,runWhen:U?U.runWhen:null}),this.handlers.length-1},_.prototype.eject=function(I){this.handlers[I]&&(this.handlers[I]=null)},_.prototype.forEach=function(I){E.forEach(this.handlers,function(U){null!==U&&I(U)})},we.exports=_},459:(we,q,O)=>{"use strict";var E=O(191),_=O(294);we.exports=function(I,k){return I&&!E(k)?_(I,k):k}},440:(we,q,O)=>{"use strict";var E=O(521);we.exports=function(T,I,k,U,V){var ee=new Error(T);return E(ee,I,k,U,V)}},303:(we,q,O)=>{"use strict";var E=O(104),_=O(70),T=O(396),I=O(800);function k(U){U.cancelToken&&U.cancelToken.throwIfRequested()}we.exports=function(V){return k(V),V.headers=V.headers||{},V.data=_.call(V,V.data,V.headers,V.transformRequest),V.headers=E.merge(V.headers.common||{},V.headers[V.method]||{},V.headers),E.forEach(["delete","get","head","post","put","patch","common"],function(S){delete V.headers[S]}),(V.adapter||I.adapter)(V).then(function(S){return k(V),S.data=_.call(V,S.data,S.headers,V.transformResponse),S},function(S){return T(S)||(k(V),S&&S.response&&(S.response.data=_.call(V,S.response.data,S.response.headers,V.transformResponse))),Promise.reject(S)})}},521:we=>{"use strict";we.exports=function(O,E,_,T,I){return O.config=E,_&&(O.code=_),O.request=T,O.response=I,O.isAxiosError=!0,O.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},O}},42:(we,q,O)=>{"use strict";var E=O(104);we.exports=function(T,I){I=I||{};var k={},U=["url","method","data"],V=["headers","auth","proxy","params"],ee=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],W=["validateStatus"];function S(fe,ne){return E.isPlainObject(fe)&&E.isPlainObject(ne)?E.merge(fe,ne):E.isPlainObject(ne)?E.merge({},ne):E.isArray(ne)?ne.slice():ne}function te(fe){E.isUndefined(I[fe])?E.isUndefined(T[fe])||(k[fe]=S(void 0,T[fe])):k[fe]=S(T[fe],I[fe])}E.forEach(U,function(ne){E.isUndefined(I[ne])||(k[ne]=S(void 0,I[ne]))}),E.forEach(V,te),E.forEach(ee,function(ne){E.isUndefined(I[ne])?E.isUndefined(T[ne])||(k[ne]=S(void 0,T[ne])):k[ne]=S(void 0,I[ne])}),E.forEach(W,function(ne){ne in I?k[ne]=S(T[ne],I[ne]):ne in T&&(k[ne]=S(void 0,T[ne]))});var oe=U.concat(V).concat(ee).concat(W),ge=Object.keys(T).concat(Object.keys(I)).filter(function(ne){return-1===oe.indexOf(ne)});return E.forEach(ge,te),k}},288:(we,q,O)=>{"use strict";var E=O(440);we.exports=function(T,I,k){var U=k.config.validateStatus;k.status&&U&&!U(k.status)?I(E("Request failed with status code "+k.status,k.config,null,k.request,k)):T(k)}},70:(we,q,O)=>{"use strict";var E=O(104),_=O(800);we.exports=function(I,k,U){var V=this||_;return E.forEach(U,function(W){I=W.call(V,I,k)}),I}},800:(we,q,O)=>{"use strict";var E=O(104),_=O(15),T=O(521),I={"Content-Type":"application/x-www-form-urlencoded"};function k(W,S){!E.isUndefined(W)&&E.isUndefined(W["Content-Type"])&&(W["Content-Type"]=S)}var ee={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function U(){var W;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(W=O(582)),W}(),transformRequest:[function(S,te){return _(te,"Accept"),_(te,"Content-Type"),E.isFormData(S)||E.isArrayBuffer(S)||E.isBuffer(S)||E.isStream(S)||E.isFile(S)||E.isBlob(S)?S:E.isArrayBufferView(S)?S.buffer:E.isURLSearchParams(S)?(k(te,"application/x-www-form-urlencoded;charset=utf-8"),S.toString()):E.isObject(S)||te&&"application/json"===te["Content-Type"]?(k(te,"application/json"),function V(W,S,te){if(E.isString(W))try{return(S||JSON.parse)(W),E.trim(W)}catch(oe){if("SyntaxError"!==oe.name)throw oe}return(te||JSON.stringify)(W)}(S)):S}],transformResponse:[function(S){var te=this.transitional,fe=!(te&&te.silentJSONParsing)&&"json"===this.responseType;if(fe||te&&te.forcedJSONParsing&&E.isString(S)&&S.length)try{return JSON.parse(S)}catch(ne){if(fe)throw"SyntaxError"===ne.name?T(ne,this,"E_JSON_PARSE"):ne}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};E.forEach(["delete","get","head"],function(S){ee.headers[S]={}}),E.forEach(["post","put","patch"],function(S){ee.headers[S]=E.merge(I)}),we.exports=ee},787:we=>{"use strict";we.exports=function(O,E){return function(){for(var T=new Array(arguments.length),I=0;I<T.length;I++)T[I]=arguments[I];return O.apply(E,T)}}},304:(we,q,O)=>{"use strict";var E=O(104);function _(T){return encodeURIComponent(T).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}we.exports=function(I,k,U){if(!k)return I;var V;if(U)V=U(k);else if(E.isURLSearchParams(k))V=k.toString();else{var ee=[];E.forEach(k,function(te,oe){null==te||(E.isArray(te)?oe+="[]":te=[te],E.forEach(te,function(fe){E.isDate(fe)?fe=fe.toISOString():E.isObject(fe)&&(fe=JSON.stringify(fe)),ee.push(_(oe)+"="+_(fe))}))}),V=ee.join("&")}if(V){var W=I.indexOf("#");-1!==W&&(I=I.slice(0,W)),I+=(-1===I.indexOf("?")?"?":"&")+V}return I}},294:we=>{"use strict";we.exports=function(O,E){return E?O.replace(/\/+$/,"")+"/"+E.replace(/^\/+/,""):O}},169:(we,q,O)=>{"use strict";var E=O(104);we.exports=E.isStandardBrowserEnv()?{write:function(I,k,U,V,ee,W){var S=[];S.push(I+"="+encodeURIComponent(k)),E.isNumber(U)&&S.push("expires="+new Date(U).toGMTString()),E.isString(V)&&S.push("path="+V),E.isString(ee)&&S.push("domain="+ee),!0===W&&S.push("secure"),document.cookie=S.join("; ")},read:function(I){var k=document.cookie.match(new RegExp("(^|;\\s*)("+I+")=([^;]*)"));return k?decodeURIComponent(k[3]):null},remove:function(I){this.write(I,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},191:we=>{"use strict";we.exports=function(O){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(O)}},915:we=>{"use strict";we.exports=function(O){return"object"==typeof O&&!0===O.isAxiosError}},810:(we,q,O)=>{"use strict";var E=O(104);we.exports=E.isStandardBrowserEnv()?function(){var k,T=/(msie|trident)/i.test(navigator.userAgent),I=document.createElement("a");function U(V){var ee=V;return T&&(I.setAttribute("href",ee),ee=I.href),I.setAttribute("href",ee),{href:I.href,protocol:I.protocol?I.protocol.replace(/:$/,""):"",host:I.host,search:I.search?I.search.replace(/^\?/,""):"",hash:I.hash?I.hash.replace(/^#/,""):"",hostname:I.hostname,port:I.port,pathname:"/"===I.pathname.charAt(0)?I.pathname:"/"+I.pathname}}return k=U(window.location.href),function(ee){var W=E.isString(ee)?U(ee):ee;return W.protocol===k.protocol&&W.host===k.host}}():function(){return!0}},15:(we,q,O)=>{"use strict";var E=O(104);we.exports=function(T,I){E.forEach(T,function(U,V){V!==I&&V.toUpperCase()===I.toUpperCase()&&(T[I]=U,delete T[V])})}},160:(we,q,O)=>{"use strict";var E=O(104),_=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];we.exports=function(I){var U,V,ee,k={};return I&&E.forEach(I.split("\n"),function(S){if(ee=S.indexOf(":"),U=E.trim(S.substr(0,ee)).toLowerCase(),V=E.trim(S.substr(ee+1)),U){if(k[U]&&_.indexOf(U)>=0)return;k[U]="set-cookie"===U?(k[U]?k[U]:[]).concat([V]):k[U]?k[U]+", "+V:V}}),k}},91:we=>{"use strict";we.exports=function(O){return function(_){return O.apply(null,_)}}},190:(we,q,O)=>{"use strict";var E=O(843),_={};["object","boolean","number","function","string","symbol"].forEach(function(V,ee){_[V]=function(S){return typeof S===V||"a"+(ee<1?"n ":" ")+V}});var T={},I=E.version.split(".");function k(V,ee){for(var W=ee?ee.split("."):I,S=V.split("."),te=0;te<3;te++){if(W[te]>S[te])return!0;if(W[te]<S[te])return!1}return!1}_.transitional=function(ee,W,S){var te=W&&k(W);function oe(ge,fe){return"[Axios v"+E.version+"] Transitional option '"+ge+"'"+fe+(S?". "+S:"")}return function(ge,fe,ne){if(!1===ee)throw new Error(oe(fe," has been removed in "+W));return te&&!T[fe]&&(T[fe]=!0,console.warn(oe(fe," has been deprecated since v"+W+" and will be removed in the near future"))),!ee||ee(ge,fe,ne)}},we.exports={isOlderVersion:k,assertOptions:function U(V,ee,W){if("object"!=typeof V)throw new TypeError("options must be an object");for(var S=Object.keys(V),te=S.length;te-- >0;){var oe=S[te],ge=ee[oe];if(ge){var fe=V[oe],ne=void 0===fe||ge(fe,oe,V);if(!0!==ne)throw new TypeError("option "+oe+" must be "+ne)}else if(!0!==W)throw Error("Unknown option "+oe)}},validators:_}},104:(we,q,O)=>{"use strict";var E=O(787),_=Object.prototype.toString;function T(X){return"[object Array]"===_.call(X)}function I(X){return void 0===X}function te(X){return null!==X&&"object"==typeof X}function oe(X){if("[object Object]"!==_.call(X))return!1;var je=Object.getPrototypeOf(X);return null===je||je===Object.prototype}function pe(X){return"[object Function]"===_.call(X)}function Pe(X,je){if(null!=X)if("object"!=typeof X&&(X=[X]),T(X))for(var At=0,pn=X.length;At<pn;At++)je.call(null,X[At],At,X);else for(var Yt in X)Object.prototype.hasOwnProperty.call(X,Yt)&&je.call(null,X[Yt],Yt,X)}we.exports={isArray:T,isArrayBuffer:function U(X){return"[object ArrayBuffer]"===_.call(X)},isBuffer:function k(X){return null!==X&&!I(X)&&null!==X.constructor&&!I(X.constructor)&&"function"==typeof X.constructor.isBuffer&&X.constructor.isBuffer(X)},isFormData:function V(X){return"undefined"!=typeof FormData&&X instanceof FormData},isArrayBufferView:function ee(X){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(X):X&&X.buffer&&X.buffer instanceof ArrayBuffer},isString:function W(X){return"string"==typeof X},isNumber:function S(X){return"number"==typeof X},isObject:te,isPlainObject:oe,isUndefined:I,isDate:function ge(X){return"[object Date]"===_.call(X)},isFile:function fe(X){return"[object File]"===_.call(X)},isBlob:function ne(X){return"[object Blob]"===_.call(X)},isFunction:pe,isStream:function le(X){return te(X)&&pe(X.pipe)},isURLSearchParams:function ye(X){return"undefined"!=typeof URLSearchParams&&X instanceof URLSearchParams},isStandardBrowserEnv:function Me(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Pe,merge:function Ne(){var X={};function je(Yt,Ke){X[Ke]=oe(X[Ke])&&oe(Yt)?Ne(X[Ke],Yt):oe(Yt)?Ne({},Yt):T(Yt)?Yt.slice():Yt}for(var At=0,pn=arguments.length;At<pn;At++)Pe(arguments[At],je);return X},extend:function Qe(X,je,At){return Pe(je,function(Yt,Ke){X[Ke]=At&&"function"==typeof Yt?E(Yt,At):Yt}),X},trim:function ue(X){return X.trim?X.trim():X.replace(/^\s+|\s+$/g,"")},stripBOM:function Ie(X){return 65279===X.charCodeAt(0)&&(X=X.slice(1)),X}}},74:function(we){"undefined"!=typeof self&&self,we.exports=function(q){var O={};function E(_){if(O[_])return O[_].exports;var T=O[_]={i:_,l:!1,exports:{}};return q[_].call(T.exports,T,T.exports,E),T.l=!0,T.exports}return E.m=q,E.c=O,E.d=function(_,T,I){E.o(_,T)||Object.defineProperty(_,T,{configurable:!1,enumerable:!0,get:I})},E.n=function(_){var T=_&&_.__esModule?function(){return _.default}:function(){return _};return E.d(T,"a",T),T},E.o=function(_,T){return Object.prototype.hasOwnProperty.call(_,T)},E.p="",E(E.s=7)}([function(q,O,E){"use strict";E.d(O,"j",function(){return T}),E.d(O,"d",function(){return k}),E.d(O,"c",function(){return U}),E.d(O,"h",function(){return V}),E.d(O,"b",function(){return ee}),E.d(O,"k",function(){return W}),E.d(O,"e",function(){return S}),E.d(O,"g",function(){return te}),E.d(O,"i",function(){return oe}),E.d(O,"a",function(){return ge}),E.d(O,"f",function(){return fe});var _=E(1),T=W(function(ne,pe){var le=pe.length;return W(function(ye){for(var ue=0;ue<ye.length;ue++)pe[le+ue]=ye[ue];return pe.length=le+ye.length,ne.apply(this,pe)})});function k(ne,pe){return function(){return ne.call(this,pe.apply(this,arguments))}}function U(ne){return function(pe){return pe[ne]}}W(function(ne){var pe=Object(_.c)(ne);function le(ye,ue){return[ee(ye,ue)]}return W(function(ye){return Object(_.f)(le,ye,pe)[0]})});var V=W(function(ne){return W(function(pe){for(var le,ye=0;ye<U("length")(ne);ye++)if(le=ee(pe,ne[ye]))return le})});function ee(ne,pe){return pe.apply(void 0,ne)}function W(ne){var pe=ne.length-1,le=Array.prototype.slice;if(0===pe)return function(){return ne.call(this,le.call(arguments))};if(1===pe)return function(){return ne.call(this,arguments[0],le.call(arguments,1))};var ye=Array(ne.length);return function(){for(var ue=0;ue<pe;ue++)ye[ue]=arguments[ue];return ye[pe]=le.call(arguments,pe),ne.apply(this,ye)}}function S(ne){return function(pe,le){return ne(le,pe)}}function te(ne,pe){return function(le){return ne(le)&&pe(le)}}function oe(){}function ge(){return!0}function fe(ne){return function(){return ne}}},function(q,O,E){"use strict";E.d(O,"d",function(){return T}),E.d(O,"g",function(){return k}),E.d(O,"l",function(){return U}),E.d(O,"c",function(){return V}),E.d(O,"h",function(){return ee}),E.d(O,"i",function(){return W}),E.d(O,"j",function(){return S}),E.d(O,"f",function(){return te}),E.d(O,"m",function(){return ge}),E.d(O,"a",function(){return fe}),E.d(O,"b",function(){return ne}),E.d(O,"k",function(){return pe}),E.d(O,"e",function(){return le});var _=E(0);function T(ye,ue){return[ye,ue]}var I=null,k=Object(_.c)(0),U=Object(_.c)(1);function V(ye){return pe(ye.reduce(Object(_.e)(T),I))}var ee=Object(_.k)(V);function W(ye){return te(function(ue,Me){return ue.unshift(Me),ue},[],ye)}function S(ye,ue){return ue?T(ye(k(ue)),S(ye,U(ue))):I}function te(ye,ue,Me){return Me?ye(te(ye,ue,U(Me)),k(Me)):ue}function ge(ye,ue,Me){return function Pe(Ne,Qe){return Ne?ue(k(Ne))?(Qe(k(Ne)),U(Ne)):T(k(Ne),Pe(U(Ne),Qe)):I}(ye,Me||_.i)}function fe(ye,ue){return!ue||ye(k(ue))&&fe(ye,U(ue))}function ne(ye,ue){ye&&(k(ye).apply(null,ue),ne(U(ye),ue))}function pe(ye){return function ue(Me,Pe){return Me?ue(U(Me),T(k(Me),Pe)):Pe}(ye,I)}function le(ye,ue){return ue&&(ye(k(ue))?k(ue):le(ye,U(ue)))}},function(q,O,E){"use strict";E.d(O,"c",function(){return I}),E.d(O,"e",function(){return k}),E.d(O,"d",function(){return U}),E.d(O,"a",function(){return V}),E.d(O,"b",function(){return ee});var _=E(1),T=E(0);function I(W,S){return S&&S.constructor===W}var k=Object(T.c)("length"),U=Object(T.j)(I,String);function V(W){return void 0!==W}function ee(W,S){return S instanceof Object&&Object(_.a)(function(te){return te in S},W)}},function(q,O,E){"use strict";E.d(O,"f",function(){return T}),E.d(O,"d",function(){return I}),E.d(O,"g",function(){return k}),E.d(O,"e",function(){return U}),E.d(O,"b",function(){return V}),E.d(O,"h",function(){return ee}),E.d(O,"i",function(){return W}),E.d(O,"c",function(){return S}),E.d(O,"m",function(){return te}),E.d(O,"n",function(){return oe}),E.d(O,"a",function(){return ge}),E.d(O,"j",function(){return fe}),E.d(O,"l",function(){return ne}),E.d(O,"k",function(){return pe}),E.d(O,"o",function(){return le});var _=1,T=_++,I=_++,k=_++,U=_++,V="fail",ee=_++,W=_++,S="start",te="data",oe="end",ge=_++,fe=_++,ne=_++,pe=_++;function le(ye,ue,Me){try{var Pe=JSON.parse(ue)}catch(Ne){}return{statusCode:ye,body:ue,jsonBody:Pe,thrown:Me}}},function(q,O,E){"use strict";E.d(O,"b",function(){return T}),E.d(O,"a",function(){return I}),E.d(O,"c",function(){return k});var _=E(0);function T(U,V){return{key:U,node:V}}var I=Object(_.c)("key"),k=Object(_.c)("node")},function(q,O,E){"use strict";E.d(O,"a",function(){return V});var _=E(1),T=E(0),I=E(2),k=E(8),U=E(9);function V(ee){var W=Object(_.h)("resume","pause","pipe"),S=Object(T.j)(I.b,W);return ee?S(ee)||Object(I.d)(ee)?Object(k.a)(U.a,ee):Object(k.a)(U.a,ee.url,ee.method,ee.body,ee.headers,ee.withCredentials,ee.cached):Object(U.a)()}V.drop=function(){return V.drop}},function(q,O,E){"use strict";E.d(O,"b",function(){return V}),E.d(O,"a",function(){return U});var _=E(3),T=E(4),I=E(2),k=E(1),U={};function V(ee){var W=ee(_.f).emit,S=ee(_.d).emit,te=ee(_.i).emit,oe=ee(_.h).emit;function ne(ue,Me,Pe){Object(T.c)(Object(k.g)(ue))[Me]=Pe}function pe(ue,Me,Pe){ue&&ne(ue,Me,Pe);var Ne=Object(k.d)(Object(T.b)(Me,Pe),ue);return W(Ne),Ne}var ye={};return ye[_.l]=function fe(ue,Me){if(!ue)return te(Me),pe(ue,U,Me);var Pe=function ge(ue,Me){var Pe=Object(T.c)(Object(k.g)(ue));return Object(I.c)(Array,Pe)?pe(ue,Object(I.e)(Pe),Me):ue}(ue,Me),Ne=Object(k.l)(Pe),Qe=Object(T.a)(Object(k.g)(Pe));return ne(Ne,Qe,Me),Object(k.d)(Object(T.b)(Qe,Me),Ne)},ye[_.k]=function le(ue){return S(ue),Object(k.l)(ue)||oe(Object(T.c)(Object(k.g)(ue)))},ye[_.j]=pe,ye}},function(q,O,E){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var _=E(5);O.default=_.a},function(q,O,E){"use strict";E.d(O,"a",function(){return T});var _=E(2);function T(I,k,U,V,ee,W,S){return ee=ee?JSON.parse(JSON.stringify(ee)):{},V?(Object(_.d)(V)||(V=JSON.stringify(V),ee["Content-Type"]=ee["Content-Type"]||"application/json"),ee["Content-Length"]=ee["Content-Length"]||V.length):V=null,I(U||"GET",function te(oe,ge){return!1===ge&&(-1===oe.indexOf("?")?oe+="?":oe+="&",oe+="_="+(new Date).getTime()),oe}(k,S),V,ee,W||!1)}},function(q,O,E){"use strict";E.d(O,"a",function(){return S});var _=E(10),T=E(12),I=E(6),k=E(13),U=E(14),V=E(16),ee=E(17),W=E(18);function S(te,oe,ge,fe,ne){var pe=Object(_.a)();return oe&&Object(W.b)(pe,Object(W.a)(),te,oe,ge,fe,ne),Object(ee.a)(pe),Object(T.a)(pe,Object(I.b)(pe)),Object(k.a)(pe,U.a),Object(V.a)(pe,oe)}},function(q,O,E){"use strict";E.d(O,"a",function(){return I});var _=E(11),T=E(0);function I(){var k={},U=ee("newListener"),V=ee("removeListener");function ee(S){return k[S]=Object(_.a)(S,U,V),k[S]}function W(S){return k[S]||ee(S)}return["emit","on","un"].forEach(function(S){W[S]=Object(T.k)(function(te,oe){Object(T.b)(oe,W(te)[S])})}),W}},function(q,O,E){"use strict";E.d(O,"a",function(){return k});var _=E(1),T=E(2),I=E(0);function k(U,V,ee){var W,S;function te(oe){return function(ge){return ge.id===oe}}return{on:function(oe,ge){var fe={listener:oe,id:ge||oe};return V&&V.emit(U,oe,fe.id),W=Object(_.d)(fe,W),S=Object(_.d)(oe,S),this},emit:function(){Object(_.b)(S,arguments)},un:function(oe){var ge;W=Object(_.m)(W,te(oe),function(fe){ge=fe}),ge&&(S=Object(_.m)(S,function(fe){return fe===ge.listener}),ee&&ee.emit(U,ge.listener,ge.id))},listeners:function(){return S},hasListener:function(oe){var ge=oe?te(oe):I.a;return Object(T.a)(Object(_.e)(ge,W))}}}},function(q,O,E){"use strict";E.d(O,"a",function(){return k});var _=E(4),T=E(3),I=E(1);function k(U,V){var W,ee={};function S(oe){return function(ge){W=oe(W,ge)}}for(var te in V)U(te).on(S(V[te]),ee);U(T.g).on(function(oe){var ge=Object(I.g)(W),fe=Object(_.a)(ge),ne=Object(I.l)(W);ne&&(Object(_.c)(Object(I.g)(ne))[fe]=oe)}),U(T.e).on(function(){var oe=Object(I.g)(W),ge=Object(_.a)(oe),fe=Object(I.l)(W);fe&&delete Object(_.c)(Object(I.g)(fe))[ge]}),U(T.a).on(function(){for(var oe in V)U(oe).un(ee)})}},function(q,O,E){"use strict";E.d(O,"a",function(){return k});var _=E(3),T=E(1),I=E(4);function k(U,V){var ee={node:U(_.d),path:U(_.f)};function S(te,oe,ge){var fe=U(te).emit;oe.on(function(ne){var pe=ge(ne);!1!==pe&&function W(te,oe,ge){var fe=Object(T.k)(ge);te(oe,Object(T.i)(Object(T.l)(Object(T.j)(I.a,fe))),Object(T.i)(Object(T.j)(I.c,fe)))}(fe,Object(I.c)(pe),ne)},te),U("removeListener").on(function(ne){ne===te&&(U(ne).listeners()||oe.un(te))})}U("newListener").on(function(te){var oe=/(node|path):(.*)/.exec(te);if(oe){var ge=ee[oe[1]];ge.hasListener(te)||S(te,ge,V(oe[2]))}})}},function(q,O,E){"use strict";E.d(O,"a",function(){return ee});var _=E(0),T=E(1),I=E(4),k=E(2),U=E(6),V=E(15),ee=Object(V.a)(function(W,S,te,oe,ge){var le=Object(_.d)(I.a,T.g),ye=Object(_.d)(I.c,T.g);function Pe(L,R){return R[1]?Object(_.g)(L,T.g):L}function Ne(L){if(L===_.a)return _.a;return Object(_.g)(function R(K){return le(K)!==U.a},Object(_.d)(L,T.l))}function Ie(){return function(L){return le(L)===U.a}}function At(L,R,K,F,me){var G=L(K);if(G){var J=function je(L,R,K){return Object(T.f)(function(F,me){return me(F,K)},R,L)}(R,F,G);return me(K.substr(Object(k.e)(G[0])),J)}}function pn(L,R){return Object(_.j)(At,L,R)}var Yt=Object(_.h)(pn(W,Object(T.h)(Pe,function Me(L,R){var K=R[3];if(!K)return L;var F=Object(_.j)(k.b,Object(T.c)(K.split(/\W+/))),me=Object(_.d)(F,ye);return Object(_.g)(me,L)},function ue(L,R){var K=R[2],F=K&&"*"!==K?function(me){return String(le(me))===K}:_.a;return Object(_.g)(F,L)},Ne)),pn(S,Object(T.h)(function Qe(L){if(L===_.a)return _.a;var R=Ie(),K=L,F=Ne(function(G){return me(G)}),me=Object(_.h)(R,K,F);return me})),pn(te,Object(T.h)()),pn(oe,Object(T.h)(Pe,Ie)),pn(ge,Object(T.h)(function X(L){return function(R){var K=L(R);return!0===K?Object(T.g)(R):K}})),function(L){throw Error('"'+L+'" could not be tokenised')});function Ke(L,R){return R}function x(L,R){return Yt(L,R,L?x:Ke)}return function(L){try{return x(L,_.a)}catch(R){throw Error('Could not compile "'+L+'" because '+R.message)}}})},function(q,O,E){"use strict";E.d(O,"a",function(){return T});var I,k,U,ee,W,S,te,oe,ge,fe,ne,pe,le,ye,ue,Me,_=E(0),T=(I=function(Ne){return Ne.exec.bind(Ne)},k=Object(_.k)(function(Pe){return Pe.unshift(/^/),I(RegExp(Pe.map(Object(_.c)("source")).join("")))}),ee=/()/,W=/\["([^"]+)"\]/,S=/\[(\d+|\*)\]/,te=/{([\w ]*?)}/,ge=k(U=/(\$?)/,/([\w-_]+|\*)/,oe=/(?:{([\w ]*?)})?/),fe=k(U,W,oe),ne=k(U,S,oe),pe=k(U,ee,te),le=k(/\.\./),ye=k(/\./),ue=k(U,/!/),Me=k(/$/),function(Pe){return Pe(Object(_.h)(ge,fe,ne,pe),le,ye,ue,Me)})},function(q,O,E){"use strict";E.d(O,"a",function(){return U});var _=E(3),T=E(0),I=E(2),k=E(5);function U(V,ee){var W,S=/^(node|path):./,te=V(_.h),oe=V(_.e).emit,ge=V(_.g).emit,fe=Object(T.k)(function(Ie,X){if(W[Ie])Object(T.b)(X,W[Ie]);else{var je=V(Ie),At=X[0];S.test(Ie)?le(je,Me(At)):je.on(At)}return W});function le(Ie,X,je){je=je||X;var At=ye(X);return Ie.on(function(){var pn=!1;W.forget=function(){pn=!0},Object(T.b)(arguments,At),delete W.forget,pn&&Ie.un(je)},je),W}function ye(Ie){return function(){try{return Ie.apply(W,arguments)}catch(X){setTimeout(function(){throw new Error(X.message)})}}}function Me(Ie){return function(){var X=Ie.apply(this,arguments);Object(I.a)(X)&&(X===k.a.drop?oe():ge(X))}}function Pe(Ie,X,je){var At;At="node"===Ie?Me(je):je,le(function ue(Ie,X){return V(Ie+":"+X)}(Ie,X),At,je)}function Qe(Ie,X,je){return Object(I.d)(X)?Pe(Ie,X,je):function Ne(Ie,X){for(var je in X)Pe(Ie,je,X[je])}(Ie,X),W}return V(_.i).on(function(Ie){W.root=Object(T.f)(Ie)}),V(_.c).on(function(Ie,X){W.header=function(je){return je?X[je]:X}}),W={on:fe,addListener:fe,removeListener:function(Ie,X,je){if("done"===Ie)te.un(X);else if("node"===Ie||"path"===Ie)V.un(Ie+":"+X,je);else{var At=X;V(Ie).un(At)}return W},emit:V.emit,node:Object(T.j)(Qe,"node"),path:Object(T.j)(Qe,"path"),done:Object(T.j)(le,te),start:Object(T.j)(function pe(Ie,X){return V(Ie).on(ye(X),X),W},_.c),fail:V(_.b).on,abort:V(_.a).emit,header:T.i,root:T.i,source:ee}}},function(q,O,E){"use strict";E.d(O,"a",function(){return T});var _=E(3);function T(I){var K,F,me,G,k=I(_.j).emit,U=I(_.l).emit,V=I(_.k).emit,ee=I(_.b).emit,W=65536,S=/[\\"\n]/g,te=0,oe=te++,ge=te++,fe=te++,ne=te++,pe=te++,le=te++,ye=te++,ue=te++,Me=te++,Pe=te++,Ne=te++,Qe=te++,Ie=te++,X=te++,je=te++,At=te++,pn=te++,Yt=te++,Ke=te++,x=te++,R=W,J="",Re=!1,wt=!1,_e=oe,de=[],Xt=null,ve=0,rt=0,Vt=0,Jt=0,Tr=1;function Ze(Pt){void 0!==G&&(U(G),V(),G=void 0),K=Error(Pt+"\nLn: "+Tr+"\nCol: "+Jt+"\nChr: "+F),ee(Object(_.o)(void 0,void 0,K))}function ui(Pt){return"\r"===Pt||"\n"===Pt||" "===Pt||"\t"===Pt}I(_.m).on(function Mr(Pt){if(!K){if(wt)return Ze("Cannot write after close");var wn=0;for(F=Pt[0];F&&(wn>0&&(me=F),F=Pt[wn++]);)switch(Vt++,"\n"===F?(Tr++,Jt=0):Jt++,_e){case oe:if("{"===F)_e=fe;else if("["===F)_e=pe;else if(!ui(F))return Ze("Non-whitespace before {[.");continue;case ue:case fe:if(ui(F))continue;if(_e===ue)de.push(Me);else{if("}"===F){U({}),V(),_e=de.pop()||ge;continue}de.push(ne)}if('"'!==F)return Ze('Malformed object key should start with " ');_e=ye;continue;case Me:case ne:if(ui(F))continue;if(":"===F)_e===ne?(de.push(ne),void 0!==G&&(U({}),k(G),G=void 0),rt++):void 0!==G&&(k(G),G=void 0),_e=ge;else if("}"===F)void 0!==G&&(U(G),V(),G=void 0),V(),rt--,_e=de.pop()||ge;else{if(","!==F)return Ze("Bad object");_e===ne&&de.push(ne),void 0!==G&&(U(G),V(),G=void 0),_e=ue}continue;case pe:case ge:if(ui(F))continue;if(_e===pe){if(U([]),rt++,_e=ge,"]"===F){V(),rt--,_e=de.pop()||ge;continue}de.push(le)}if('"'===F)_e=ye;else if("{"===F)_e=fe;else if("["===F)_e=pe;else if("t"===F)_e=Pe;else if("f"===F)_e=Ie;else if("n"===F)_e=pn;else if("-"===F)J+=F;else if("0"===F)J+=F,_e=20;else{if(-1==="123456789".indexOf(F))return Ze("Bad value");J+=F,_e=20}continue;case le:if(","===F)de.push(le),void 0!==G&&(U(G),V(),G=void 0),_e=ge;else{if("]"!==F){if(ui(F))continue;return Ze("Bad array")}void 0!==G&&(U(G),V(),G=void 0),V(),rt--,_e=de.pop()||ge}continue;case ye:void 0===G&&(G="");var Ir=wn-1;e:for(;;){for(;ve>0;)if(Xt+=F,F=Pt.charAt(wn++),4===ve?(G+=String.fromCharCode(parseInt(Xt,16)),ve=0,Ir=wn-1):ve++,!F)break e;if('"'===F&&!Re){_e=de.pop()||ge,G+=Pt.substring(Ir,wn-1);break}if(!("\\"!==F||Re||(Re=!0,G+=Pt.substring(Ir,wn-1),F=Pt.charAt(wn++))))break;if(Re){if(Re=!1,"n"===F?G+="\n":"r"===F?G+="\r":"t"===F?G+="\t":"f"===F?G+="\f":"b"===F?G+="\b":"u"===F?(ve=1,Xt=""):G+=F,F=Pt.charAt(wn++),Ir=wn-1,F)continue;break}S.lastIndex=wn;var ar=S.exec(Pt);if(!ar){G+=Pt.substring(Ir,(wn=Pt.length+1)-1);break}if(wn=ar.index+1,!(F=Pt.charAt(ar.index))){G+=Pt.substring(Ir,wn-1);break}}continue;case Pe:if(!F)continue;if("r"!==F)return Ze("Invalid true started with t"+F);_e=Ne;continue;case Ne:if(!F)continue;if("u"!==F)return Ze("Invalid true started with tr"+F);_e=Qe;continue;case Qe:if(!F)continue;if("e"!==F)return Ze("Invalid true started with tru"+F);U(!0),V(),_e=de.pop()||ge;continue;case Ie:if(!F)continue;if("a"!==F)return Ze("Invalid false started with f"+F);_e=X;continue;case X:if(!F)continue;if("l"!==F)return Ze("Invalid false started with fa"+F);_e=je;continue;case je:if(!F)continue;if("s"!==F)return Ze("Invalid false started with fal"+F);_e=At;continue;case At:if(!F)continue;if("e"!==F)return Ze("Invalid false started with fals"+F);U(!1),V(),_e=de.pop()||ge;continue;case pn:if(!F)continue;if("u"!==F)return Ze("Invalid null started with n"+F);_e=Yt;continue;case Yt:if(!F)continue;if("l"!==F)return Ze("Invalid null started with nu"+F);_e=Ke;continue;case Ke:if(!F)continue;if("l"!==F)return Ze("Invalid null started with nul"+F);U(null),V(),_e=de.pop()||ge;continue;case x:if("."!==F)return Ze("Leading zero not followed by .");J+=F,_e=20;continue;case 20:if(-1!=="0123456789".indexOf(F))J+=F;else if("."===F){if(-1!==J.indexOf("."))return Ze("Invalid number has two dots");J+=F}else if("e"===F||"E"===F){if(-1!==J.indexOf("e")||-1!==J.indexOf("E"))return Ze("Invalid number has two exponential");J+=F}else if("+"===F||"-"===F){if("e"!==me&&"E"!==me)return Ze("Invalid symbol in number");J+=F}else J&&(U(parseFloat(J)),V(),J=""),wn--,_e=de.pop()||ge;continue;default:return Ze("Unknown state: "+_e)}Vt>=R&&function ft(){var Pt=0;void 0!==G&&G.length>W&&(Ze("Max buffer length exceeded: textNode"),Pt=Math.max(Pt,G.length)),J.length>W&&(Ze("Max buffer length exceeded: numberNode"),Pt=Math.max(Pt,J.length)),R=W-Pt+Vt}()}}),I(_.n).on(function or(){if(_e===oe)return U({}),V(),void(wt=!0);(_e!==ge||0!==rt)&&Ze("Unexpected end"),void 0!==G&&(U(G),V(),G=void 0),wt=!0})}},function(q,O,E){"use strict";E.d(O,"a",function(){return V}),E.d(O,"b",function(){return ee});var _=E(19),T=E(3),I=E(2),k=E(20),U=E(0);function V(){return new XMLHttpRequest}function ee(W,S,te,oe,ge,fe,ne){var pe=W(T.m).emit,le=W(T.b).emit,ye=0,ue=!0;function Me(){if("2"===String(S.status)[0]){var Qe=S.responseText,Ie=(" "+Qe.substr(ye)).substr(1);Ie&&pe(Ie),ye=Object(I.e)(Qe)}}function Pe(Qe){try{ue&&W(T.c).emit(Qe.status,Object(k.a)(Qe.getAllResponseHeaders())),ue=!1}catch(Ie){}}W(T.a).on(function(){S.onreadystatechange=null,S.abort()}),"onprogress"in S&&(S.onprogress=Me),S.onreadystatechange=function(){switch(S.readyState){case 2:case 3:return Pe(S);case 4:Pe(S),"2"===String(S.status)[0]?(Me(),W(T.n).emit()):le(Object(T.o)(S.status,S.responseText))}};try{for(var Ne in S.open(te,oe,!0),fe)S.setRequestHeader(Ne,fe[Ne]);Object(_.a)(window.location,Object(_.b)(oe))||S.setRequestHeader("X-Requested-With","XMLHttpRequest"),S.withCredentials=ne,S.send(ge)}catch(Qe){window.setTimeout(Object(U.j)(le,Object(T.o)(void 0,void 0,Qe)),0)}}},function(q,O,E){"use strict";function _(I,k){function V(ee){return String(ee.port||function U(ee){return{"http:":80,"https:":443}[ee]}(ee.protocol||I.protocol))}return!!(k.protocol&&k.protocol!==I.protocol||k.host&&k.host!==I.host||k.host&&V(k)!==V(I))}function T(I){var U=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(I)||[];return{protocol:U[1]||"",host:U[2]||"",port:U[3]||""}}E.d(O,"a",function(){return _}),E.d(O,"b",function(){return T})},function(q,O,E){"use strict";function _(T){var I={};return T&&T.split("\r\n").forEach(function(k){var U=k.indexOf(": ");I[k.substring(0,U)]=k.substring(U+2)}),I}E.d(O,"a",function(){return _})}]).default},843:we=>{"use strict";we.exports=JSON.parse('{"_from":"axios@^0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.4","name":"axios","escapedName":"axios","rawSpec":"^0.21.4","saveSpec":null,"fetchSpec":"^0.21.4"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.4","_where":"C:\\\\Users\\\\Lesiu\\\\Documents\\\\ChessEngineJS","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},we=>{we(we.s=594)}]);